!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var n in a)("object"==typeof exports?exports:e)[n]=a[n]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=76)}([function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("babel-runtime/core-js/object/get-prototype-of")},function(e,t){e.exports=require("babel-runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("babel-runtime/helpers/inherits")},function(e,t){e.exports=require("mobx-react")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rectMath=t.csstool=t.storage=t.mixins=t.util=void 0;var n=a(113),r=a(114),i=a(29),s=a(115),o=a(45);t.util=o.util,t.mixins=r.mixins,t.storage=s.storage,t.csstool=n.csstool,t.rectMath=i.rectMath},function(e,t){e.exports=require("mobx")},function(e,t){e.exports=require("babel-runtime/helpers/extends")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SetGrid=t.SetItem=void 0;var r=a(122),i=n(r),s=a(124),o=n(s);t.SetItem=o.default,t.SetGrid=i.default},function(e,t){e.exports=require("antd/lib/message")},function(e,t){e.exports=require("antd/lib/message/style")},function(e,t,a){"use strict";function n(e){"phone"===e?(r.appType="phone",r.appHeight=514,r.appWidth=320):(r.appType="pc",r.appHeight=600,r.appWidth=1e3)}Object.defineProperty(t,"__esModule",{value:!0}),t.setConfig=n;var r={appType:"phone",blankImg:"",version:"4.5.0",appHeight:514,appWidth:320,dev:!0},i=r;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"config","D:/H5DS/h5ds-edit/src/core/conf/global.js"),__REACT_HOT_LOADER__.register(n,"setConfig","D:/H5DS/h5ds-edit/src/core/conf/global.js"),__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/conf/global.js"))}()},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t){e.exports=require("babel-runtime/helpers/toConsumableArray")},function(e,t){e.exports=require("antd/lib/input-number")},function(e,t){e.exports=require("antd/lib/input-number/style")},function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},function(e,t){e.exports=require("babel-runtime/helpers/objectWithoutProperties")},function(e,t){e.exports=require("babel-runtime/helpers/defineProperty")},function(e,t){e.exports=require("antd/lib/switch")},function(e,t){e.exports=require("antd/lib/switch/style")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(139),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/common/sliderInput/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(9),i=n(r),s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(120);var m=a(2),y=n(m),g=a(121),v=a(31),E=n(v),A=a(7),T=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));a.filterColor=function(){return a.__filterColor__REACT_HOT_LOADER__.apply(a,arguments)},a.showPicker=function(){return a.__showPicker__REACT_HOT_LOADER__.apply(a,arguments)},a.doChange=function(){return a.__doChange__REACT_HOT_LOADER__.apply(a,arguments)},a.changeColor=function(){return a.__changeColor__REACT_HOT_LOADER__.apply(a,arguments)};var n=a.filterColor(e.color);return a.state={colorStyle:{},show:!1,color:n},a.id=A.util.randomID(6),a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__filterColor__REACT_HOT_LOADER__",value:function(e){if(e){var t=(0,E.default)(e),a=t.getAlpha();e=t.setAlpha(a).toRgbString()}else e="rgba(0,0,0,1)";return e}},{key:"__showPicker__REACT_HOT_LOADER__",value:function(e){var t={};window.innerWidth<$(e.target).offset().left+220&&(t.left=window.innerWidth-($(e.target).offset().left+220)),window.innerHeight<$(e.target).offset().top+246&&(t.top=window.innerHeight-($(e.target).offset().top+310+10)),this.setState({show:!this.state.show,colorStyle:t})}},{key:"__doChange__REACT_HOT_LOADER__",value:function(e){var t=this.props.onChange;t&&t(e)}},{key:"__changeColor__REACT_HOT_LOADER__",value:function(e){var t=this,a=e.rgb,n=a.r,r=a.g,i=a.b,s=a.a;this.setState({color:"rgba("+n+","+r+","+i+","+s+")"},function(){return t.doChange(e)})}},{key:"componentDidMount",value:function(){var e=this;$(document).on("click.blank_"+this.id,function(t){$(t.target).closest(".h5ds-util-color")[0]||e.setState({show:!1})})}},{key:"componentWillUnmount",value:function(){$(document).off("click.blank_"+this.id)}},{key:"render",value:function(){var e=this.state,t=e.show,a=e.color,n=e.colorStyle,r=this.props.children;return n.zIndex=t?9999:"initial",y.default.createElement("div",{className:"h5ds-util-color"},r?y.default.createElement("span",{onClick:this.showPicker},r):y.default.createElement("span",{className:"h5ds-util-color-btn",style:{backgroundColor:a},onClick:this.showPicker}),t?y.default.createElement("div",{className:"h5ds-util-color-box",style:(0,i.default)({},n)},y.default.createElement(g.SketchPicker,{presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"],color:a,onChange:this.changeColor})):null)}}]),t}(m.Component);t.default=T;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(T,"Colors","D:/H5DS/h5ds-edit/src/core/common/colors/Colors.jsx")}();e.exports=t.default},function(e,t){e.exports=require("antd/lib/icon")},function(e,t){e.exports=require("antd/lib/icon/style")},function(e,t){e.exports=require("antd/lib/tabs")},function(e,t){e.exports=require("antd/lib/tabs/style")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rectMath=void 0;var r=a(0),i=n(r),s=a(1),o=n(s),l=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"rectParam",value:function(e){if(e[0]){var t=window.Matrix.getCurrentMatrix(e[0]).getRotate(),a=t%90*(Math.PI/180),n=e.width(),r=e.height(),i=parseFloat(e.css("left")),s=parseFloat(e.css("top")),o={left:i+n/2,top:s+r/2};if(0==t)return{rotate:t,top:s,left:i,boxWidth:n,boxHeight:r,width:n,height:r,center:o};var l=Math.atan(r/n),u=Math.sqrt(r/2*(r/2)+n/2*(n/2)),d=u*Math.cos(Math.PI/2-(a+l))*2,c=u*Math.cos(a-l)*2;return c=parseFloat(c),d=parseFloat(d),{rotate:t,top:o.top-d/2,left:o.left-c/2,boxWidth:c,boxHeight:d,width:n,height:r,center:o}}}},{key:"rectParamObj",value:function(e){var t=0,a=e.style;a.transform&&(t=parseInt(a.transform.transformValue("rotate"),10)||0);var n=t%90*(Math.PI/180),r=a.width||0,i=a.height||0,s=a.left||0,o=a.top||0,l={left:s+r/2,top:o+i/2};if(0==t)return{rotate:t,top:o,left:s,boxWidth:r,boxHeight:i,width:r,height:i,center:l};var u=Math.atan(i/r),d=Math.sqrt(i/2*(i/2)+r/2*(r/2)),c=d*Math.cos(Math.PI/2-(n+u))*2,_=d*Math.cos(n-u)*2;return _=parseFloat(_),c=parseFloat(c),{rotate:t,top:l.top-c/2,left:l.left-_/2,boxWidth:_,boxHeight:c,width:r,height:i,center:l}}}]),e}(),u=t.rectMath=new l;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"RectMath","D:/H5DS/h5ds-edit/src/utils/rectMath.js"),__REACT_HOT_LOADER__.register(u,"rectMath","D:/H5DS/h5ds-edit/src/utils/rectMath.js"))}()},function(e,t){e.exports=require("babel-runtime/core-js/promise")},function(e,t){e.exports=require("tinycolor2")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(110),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/common/cropImage/index.js")}();e.exports=t.default},function(e,t){e.exports=require("antd/lib/popover")},function(e,t){e.exports=require("antd/lib/select")},function(e,t){e.exports=require("antd/lib/popover/style")},function(e,t){e.exports=require("antd/lib/select/style")},function(e,t,a){"use strict";function n(e,t){var a=e();a.find(".h5ds-control").remove(),t.forEach(function(e,t){var n=a.children().children(".layer").eq(e);n.find(".h5ds-control")[0]||n.append('<div class="h5ds-control">\n    <span class="h5ds-control-top"></span>\n    <span class="h5ds-control-left"></span>\n    <span class="h5ds-control-right"></span>\n    <span class="h5ds-control-bottom"></span>\n    <span class="h5ds-control-topleft"></span>\n    <span class="h5ds-control-topright"></span>\n    <span class="h5ds-control-bottomleft"></span>\n    <span class="h5ds-control-bottomright"></span>\n    <span class="h5ds-control-center"></span>\n</div>')})}function r(e,t,a){$("#h5dsCanvas").off("mousedown.h5ds.group").on("mousedown.h5ds.group",".h5ds-control",function(n){if(a.selectGroup){n.stopPropagation();var r={},i=e();a.selectGroup.forEach(function(e){r[e]={x:parseInt(i[e].style.left,10),y:parseInt(i[e].style.top,10)}});var s=t();$(document).on("mousemove.h5ds.group",function(e){e.stopPropagation();var t=e.pageX-n.pageX,i=e.pageY-n.pageY;a.selectGroup.forEach(function(e){s.eq(e).css({left:r[e].x+t/a.phoneScale,top:r[e].y+i/a.phoneScale})})}).on("mouseup.h5ds.group",function(e){var t=e.pageX-n.pageX,s=e.pageY-n.pageY;(0,o.transaction)(function(){a.selectGroup.forEach(function(e){i[e]&&(i[e].style.left=r[e].x+t/a.phoneScale,i[e].style.top=r[e].y+s/a.phoneScale)})}),$(document).off("mousemove.h5ds.group mouseup.h5ds.group"),$(document).trigger("h5ds.setHistory")})}})}function i(e,t){var a=e.edata;$("#h5dsCanvas").off("mousedown.h5ds.layerGroup").on("mousedown.h5ds.layerGroup",function(n){if(!$(n.target).closest(".h5ds-ruler-box")[0]&&!$(n.target).closest(".h5ds-setpage-height-btn")[0]&&!a.selectGroup&&null===a.selectLayer){var r=[];e.getPageDom().children().children(".layer").each(function(){var e=$(this),t={left:e.offset().left,top:e.offset().top,width:e.width(),height:e.height(),dom:e};t.center={x:t.left+t.width/2,y:t.top+t.height/2},e.hasClass("layer-temporary-lock")||e.closest(".layer-combinbox")[0]||r.push(t)}),$(".layer-group-select")[0]||$("body").append('<div class="layer-group-select"></div>');var i=$(".layer-group-select"),o=void 0,l=void 0,u=void 0,d=void 0;$(document).on("mousemove.h5ds.layerGroup",function(e){o=Math.abs(e.pageX-n.pageX),l=Math.abs(e.pageY-n.pageY),d=e.pageX>n.pageX?n.pageX:e.pageX,u=e.pageY>n.pageY?n.pageY:e.pageY,i.css({top:u,left:d,width:o,height:l,display:o+l===0?"none":"block"}),r.forEach(function(e){var t=e.center,a=t.x,n=t.y;if(a>d&&a<d+o&&n>u&&n<u+l){e.dom.find(".h5ds-control")[0]||e.dom.append('<div class="h5ds-control">\n                    <span class="h5ds-control-top"></span>\n                    <span class="h5ds-control-left"></span>\n                    <span class="h5ds-control-right"></span>\n                    <span class="h5ds-control-bottom"></span>\n                    <span class="h5ds-control-topleft"></span>\n                    <span class="h5ds-control-topright"></span>\n                    <span class="h5ds-control-bottomleft"></span>\n                    <span class="h5ds-control-bottomright"></span>\n                    <span class="h5ds-control-center"></span>\n                </div>')}else e.dom.find(".h5ds-control").remove()})}).on("mouseup.h5ds.layerGroup",function(){var a=e.getPageDom().find(".h5ds-control");a.length>1?t(s(e)):1===a.length&&a.closest(".layer").trigger("click"),r=null,$(document).off("mousemove.h5ds.layerGroup"),$(document).off("mouseup.h5ds.layerGroup"),i.remove()})}})}function s(e){var t=[];return e.getPageDom().find(".h5ds-control").each(function(){var e=$(this).closest(".layer");t.push(e.index())}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupControl=n,t.dragGroupEvent=r,t.initDragSelectGroupEvent=i;var o=a(8);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"setGroupControl","D:/H5DS/h5ds-edit/src/core/components/canvas/selectGroup.js"),__REACT_HOT_LOADER__.register(r,"dragGroupEvent","D:/H5DS/h5ds-edit/src/core/components/canvas/selectGroup.js"),__REACT_HOT_LOADER__.register(i,"initDragSelectGroupEvent","D:/H5DS/h5ds-edit/src/core/components/canvas/selectGroup.js"),__REACT_HOT_LOADER__.register(s,"getLayerIndex","D:/H5DS/h5ds-edit/src/core/components/canvas/selectGroup.js"))}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.sliderAnimate=[{name:"上下平滑",inNext:"pt-page-moveFromBottom",outNext:"pt-page-moveToTop",inPrev:"pt-page-moveFromTop",outPrev:"pt-page-moveToBottom"},{name:"上下隐藏",inNext:"pt-page-moveFromBottomFade",outNext:"pt-page-moveToTopFade",inPrev:"pt-page-moveFromTopFade",outPrev:"pt-page-moveToBottomFade"},{name:"上下移动缓动",inNext:"pt-page-moveFromBottom",outNext:"pt-page-moveToTopEasing",inPrev:"pt-page-moveFromTop",outPrev:"pt-page-moveToBottomEasing"},{name:"上下3D盒子切换",inNext:"pt-page-rotateCubeTopIn3",outNext:"pt-page-rotateCubeTopOut3",inPrev:"pt-page-rotateCubeDownIn3",outPrev:"pt-page-rotateCubeDownOut3"},{name:"上下放大",outNext:"pt-page-scaleDownUp",inNext:"pt-page-scaleUpCenter",outPrev:"pt-page-scaleDownUp",inPrev:"pt-page-scaleUpCenter"},{name:"旋转风车",outNext:"pt-page-rotateOutNewspaper",inNext:"pt-page-rotateInNewspaper",outPrev:"pt-page-rotateOutNewspaper",inPrev:"pt-page-rotateInNewspaper"},{name:"上下弹出效果",outNext:"pt-page-rotateCarouselTopOut",inNext:"pt-page-rotateCarouselTopIn",outPrev:"pt-page-rotateCarouselBottomOut",inPrev:"pt-page-rotateCarouselBottomIn"},{name:"上下翻牌效果",outNext:"pt-page-flipOutTop",inNext:"pt-page-flipInTop",outPrev:"pt-page-flipOutBottom",inPrev:"pt-page-flipInBottom"},{name:"上下股罗密效果",outNext:"pt-page-rotatePushTop",inNext:"pt-page-rotatePullTop",outPrev:"pt-page-rotatePushBottom",inPrev:"pt-page-rotatePullBottom"},{name:"3D盒子效果",outNext:"pt-page-rotateCubeTopOut",inNext:"pt-page-rotateCubeTopIn",outPrev:"pt-page-rotateCubeBottomOut",inPrev:"pt-page-rotateCubeBottomIn"}];!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"sliderAnimate","D:/H5DS/h5ds-edit/src/core/conf/sliderAnimate.js")}()},function(e,t){e.exports=require("antd/lib/modal")},function(e,t){e.exports=require("antd/lib/input")},function(e,t){e.exports=require("antd/lib/modal/style")},function(e,t){e.exports=require("antd/lib/input/style")},function(e,t,a){"use strict";function n(e){for(var t={},a=[],n=0;n<e.length;n++){var r=e[n];t[r]||(t[r]=!0,a.push(r))}return a}function r(e,t){if(t){var a=t.getPageLength();e.parent().append('<div data-len="'+a+'" class="h5ds-dots"><div class="h5ds-dots-inner"></div></div>')}}function i(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(t),n=null;return null!=a&&(n=unescape(a[2])),n}function s(){i("isframe")&&(window.H5DS_IS_VIEW=!0)}function o(){if(window.H5DS_IS_VIEW)return!1;for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],a=!0,n=0;n<t.length;n++)if(e.indexOf(t[n])>0){a=!1;break}return a}function l(){var e=!1;return window.H5DS_SOURCE&&(e=!0),e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=[];return t=$.isArray(window.H5DS_SOURCE)?window.H5DS_SOURCE:JSON.parse(window.H5DS_SOURCE),t=n(t),t.slice(0,e)}function d(e){var t=u(),a=setTimeout(function(){i()},5e3),n=$("#h5dsLoading"),r=$("#h5dsProgress");n.show();var i=function(){a&&(clearTimeout(a),a=null),n.hide(),c(),$(document).trigger("h5ds.loadingEnd","#h5dsSwiper"),e&&e()};if(t.length>0){var s=+new Date,o=t.map(function(e,t){return{src:e+"?t="+s,id:"source_"+t,type:"image"}}),l=window.createjs,d=new l.LoadQueue(!0,"",!0);d.setMaxConnections(100),d.maintainScriptOrder=!0,d.on("progress",function(e){r.text(parseInt(100*e.loaded,10)+"%")}),d.on("error",function(e){}),d.on("complete",function(){null!==a&&i()},this),d.loadManifest(o)}else i()}function c(){var e=$("#h5dsBgMusic"),t=$(".h5ds-video-icon");try{window.wx?(window.wx.config({debug:!1,appId:"",timestamp:+new Date,nonceStr:"",signature:"",jsApiList:[]}),window.wx.ready(function(){$("audio").each(function(){this.load()}),e[0]&&(e[0].play(),t.addClass("h5ds-video-iconing"))})):($("audio").each(function(){this.load()}),e[0]&&(e[0].play(),t.addClass("h5ds-video-iconing")))}catch(e){}t[0]&&t.hammer().off("tap").on("tap",function(a){t.hasClass("h5ds-video-iconing")?(e[0].pause(),t.removeClass("h5ds-video-iconing")):(e[0].play(),t.addClass("h5ds-video-iconing"))})}function _(e,t,a){if(!window.H5DS_IS_VIEW){var n=a?E.default.appWidth:e.width(),r=a?E.default.appHeight:e.height(),i=window,s=i.innerWidth,o=i.innerHeight,l=(o-r*t)/2;l<0&&(l=0),e.css({left:(s-n*t)/2,top:l,transform:"scale("+t+")"})}}function f(){var e=E.default.appWidth,t=E.default.appHeight,a=window,n=a.innerWidth,r=a.innerHeight,i=n/e,s=r/t;return i>s?s:i}function p(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}function h(){var e=f(),t=function(t){var a=$(this),n=JSON.parse(a.attr("data-adsorbent")),r={};void 0!==n.abottom&&(r.bottom=-t/e>0?0:-t/e),void 0!==n.atop&&(r.top=-t/e>0?0:-t/e),void 0!==n.aleft&&(r.left=0),void 0!==n.aright&&(r.right=0),a.css(r)},a=function(a){var n=$(a);if(n[0]){var r=n.children().children().children(),i=r.height()*e,s=(window.innerHeight-i)/2;n.find("[data-adsorbent]").each(function(){t.bind(this)(s)})}};a("#h5dsSwiper"),a("#h5dsFixedsUp"),a("#h5dsFixedsDown"),a("#h5dsPopups")}function m(e,t){var a=!1,n=!1;t.prev()[0]&&(a=!0),t.next()[0]&&(n=!0),e.append('\n    <div class="h5ds-page-pn">\n      <div class="h5ds-pageprev '+(a?"":"h5ds-pn-disabled")+'"><img src="http://cdn.h5ds.com/static/images/arrow.png" /></div>\n      <div class="h5ds-pagenext '+(n?"":"h5ds-pn-disabled")+'"><img src="http://cdn.h5ds.com/static/images/arrow.png" /></div>\n    </div>')}function y(e){e||(e=$("#h5dsSwiper"));var t=e.children(".h5ds-swiper-page");t.each(function(){var e=$(this),a=e.children(".h5ds-swiper-pageinner").children(".h5ds-swiper-layers");e.height()<a.height()&&(e.attr("data-langpage","true"),t.length>1&&m(a,e))});var a=t.eq(t.length-1);a.attr("data-langpage")&&a.children().children().append('<div className="h5ds-last-power" style="\n      position: absolute;\n      z-index: 99999;\n      bottom: 10px;\n      right: 10px;\n      font-size: 12px;\n    ">Powered by <a href="http://h5ds.cn">h5ds.com</a></div>')}function g(){$(document).off("h5ds.swiperLast").on("h5ds.swiperLast",function(){$(".h5ds-last-page").show(),$("#h5ds-last-close").off("click").on("click",function(){$(".h5ds-last-page").hide()}),$("#h5ds-last-topage1").off("click").on("click",function(){$(".h5ds-last-page").hide(),window.H5DS_H5_SWIPER&&window.H5DS_H5_SWIPER.toPage(0)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.setDot=r,t.getUrlData=i,t.judgeIsFrame=s,t.ispc=o,t.isBuild=l,t.loadSource=d,t.autoPlayMusic=c,t.setSize=_,t.getScale=f,t.isWeiXin=p,t.setAdsorbent=h,t.langPage=y,t.swiperLast=g,a(86);var v=a(13),E=function(e){return e&&e.__esModule?e:{default:e}}(v);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"uniqueArr","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(r,"setDot","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(i,"getUrlData","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(s,"judgeIsFrame","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(o,"ispc","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(l,"isBuild","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(u,"getSource","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(d,"loadSource","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(c,"autoPlayMusic","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(_,"setSize","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(f,"getScale","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(p,"isWeiXin","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(h,"setAdsorbent","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(m,"setPageButton","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(y,"langPage","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"),__REACT_HOT_LOADER__.register(g,"swiperLast","D:/H5DS/h5ds-edit/src/app/common/h5ds.utils.js"))}()},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.util=void 0;var r=a(44),i=n(r),s=a(30),o=n(s),l=a(14),u=n(l),d=a(46),c=n(d),_=a(96),f=n(_),p=a(15),h=n(p),m=a(0),y=n(m),g=a(1),v=n(g),E=a(97),A=n(E),T=a(98),O=n(T),R=a(99),C=n(R),b=a(100),D=n(b),L=a(101),k=n(L),H=a(31),x=n(H),S=a(102),w=n(S),N=a(58),I=n(N),M={datetime:"YYYY/MM/DD HH:mm:ss",date:"YYYY/MM/DD",time:"HH:mm:ss"},P=function(){function e(){(0,y.default)(this,e)}return(0,v.default)(e,[{key:"data2QueryString",value:function(e){var t=(0,I.default)("");return t.set("query",e),t.href.split("?")[1]}},{key:"isUrl",value:function(e){return/http:\/\/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/i.test(e)}},{key:"isPhoneNum",value:function(e){return/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/.test(e)}},{key:"getUrlData",value:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(t),n=null;return null!=a&&(n=unescape(a[2])),n}},{key:"getSource",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{loadSound:!1},n=[],r=e.pages,i=void 0===r?[]:r,s=e.fixeds,o=void 0===s?[]:s,l=e.popups,u=void 0===l?[]:l;return e.style&&e.style.backgroundImage&&n.push(this.getBackGroundImageUrl(e.style.backgroundImage)),[].concat((0,h.default)(i),(0,h.default)(o),(0,h.default)(u)).forEach(function(e){e.style&&e.style.backgroundImage&&n.push(t.getBackGroundImageUrl(e.style.backgroundImage)),e.estyle&&e.estyle.backgroundImage&&n.push(t.getBackGroundImageUrl(e.estyle.backgroundImage)),e.layers&&e.layers.forEach(function(e){"img"===e.type?n.push(e.data.src):"combin"===e.type?e.layers.forEach(function(e){"img"===e.type&&n.push(e.data.src)}):a.loadSound&&"sound"===e.type&&n.push(e.data.sound)})}),(0,f.default)(new c.default(n))}},{key:"uniq",value:function(e,t){return(0,w.default)(e,t)}},{key:"cloneDeep",value:function(e){return(0,A.default)(e)}},{key:"toJS",value:function(e){return JSON.parse((0,u.default)(e))}},{key:"debounce",value:function(e,t){return(0,C.default)(e,t)}},{key:"throttle",value:function(e,t){return(0,k.default)(e,t)}},{key:"escape",value:function(e){try{var t=(0,D.default)(e)?(0,u.default)(e):e;return window.escape(t)}catch(e){return""}}},{key:"setStorage",value:function(e,t){"string"==typeof t?window.localStorage.setItem(e,t):window.localStorage.setItem(e,(0,u.default)(t))}},{key:"getStorage",value:function(e){var t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}},{key:"clearStorage",value:function(e){e?window.localStorage.removeItem(e):window.localStorage.clear()}},{key:"setSession",value:function(e,t){"string"==typeof t?window.sessionStorage.setItem(e,t):window.sessionStorage.setItem(e,(0,u.default)(t))}},{key:"getSession",value:function(e){var t=window.sessionStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}},{key:"clearSession",value:function(e){e?window.sessionStorage.removeItem(e):window.sessionStorage.clear()}},{key:"getUrlQuery",value:function(e){var t=(0,I.default)(window.location.href);return e?t.query[e]:t.query}},{key:"toFixed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e?(e=parseFloat(e),e=parseFloat(e.toFixed(t))):e=0,e}},{key:"exchageArrayElem",value:function(e,t,a){var n=[e[t],e[a]];e[a]=n[0],e[t]=n[1]}},{key:"removeArrayElement",value:function(e,t){var a=e.indexOf(t);return a>=0&&e.splice(a,1),this.cloneDeep(e)}},{key:"plus",value:function(e,t){return+(e+t).toFixed(10)}},{key:"minus",value:function(e,t){return+(e-t).toFixed(10)}},{key:"formatDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datetime";return(0,O.default)(e).format(M[t]||t)}},{key:"randomNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.min(Math.floor(e+Math.random()*(t-e)),t)}},{key:"randomColor",value:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)}},{key:"randomID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}},{key:"imgLazy",value:function(e){return new o.default(function(t,a){var n=new Image;n.src=e,n.onload=function(){t(n)},n.onerror=function(){a(n)}})}},{key:"getBase64",value:function(e,t){var a=this,n=t.width,r=t.height,i=t.x,s=t.y;return new o.default(function(t,o){var l=new Image;l.crossOrigin="Anonymous",l.onload=function(){var e=$('<canvas width="'+n+'" height="'+r+'"></canvas>')[0];e.getContext("2d").drawImage(l,i,s,n,r,0,0,n,r),t(e.toDataURL())},l.onerror=function(e){o(e)},l.src=e+"?t="+a.randomID()})}},{key:"arrayToObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};return e.forEach(function(e){(0,i.default)(e).forEach(function(n){var r=e[n];!t&&a.hasOwnProperty(n)||(a[n]=r)})}),a}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e}},{key:"getBackGroundImageUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.replace(/url\((.*)\)/,"$1"),e.replace(/["']/g,"")}},{key:"toRgba",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255,255,255,1)";if(e){var a=(0,x.default)(e),n=a.getAlpha();e=a.setAlpha(n).toRgbString()}else e=t;return e}},{key:"compile",value:function(e){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),a=1;a<e.length;a++)t+=String.fromCharCode(e.charCodeAt(a)+e.charCodeAt(a-1));return escape(t)}},{key:"uncompile",value:function(e){e=unescape(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),a=1;a<e.length;a++)t+=String.fromCharCode(e.charCodeAt(a)-t.charCodeAt(a-1));return t}}]),e}(),j=t.util=new P;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(M,"dateFormatPreset","D:/H5DS/h5ds-edit/src/utils/util.js"),__REACT_HOT_LOADER__.register(P,"Util","D:/H5DS/h5ds-edit/src/utils/util.js"),__REACT_HOT_LOADER__.register(j,"util","D:/H5DS/h5ds-edit/src/utils/util.js"))}()},function(e,t){e.exports=require("babel-runtime/core-js/set")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(105),r=a(106),i=function(e){return e&&e.__esModule?e:{default:e}}(r),s={type:"combin",name:"合并层",icon:null,editor:i.default,layerdom:n.layerdom,origindata:n.Origindata,editorSet:{backgroundColor:!1}};t.default=s;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(s,"default","D:/H5DS/h5ds-edit/src/core/layers/combin/index.js")}();e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(108),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/common/background/index.js")}();e.exports=t.default},function(e,t){e.exports=require("antd/lib/radio")},function(e,t){e.exports=require("antd/lib/radio/style")},function(e,t){e.exports=require("babel-runtime/regenerator")},function(e,t){e.exports=require("babel-runtime/helpers/asyncToGenerator")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(153),i=n(r),s=a(154),o=n(s),l={app:new i.default,layerfun:new o.default};t.default=l;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(l,"default","D:/H5DS/h5ds-edit/src/store/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return y.default.createElement("div",{id:"h5dsPopups"},e.popups.map(function(e,n){var r=e.style,i=r.backgroundImage,s=r.backgroundRepeat,o=r.backgroundColor,l=r.backgroundSize;return y.default.createElement("div",{id:e.id,className:"h5ds-swiper-page",key:n},y.default.createElement("div",{style:{backgroundImage:i,backgroundRepeat:s,backgroundColor:o,backgroundSize:l},className:"h5ds-swiper-pageinner"},a(e,t)))}))}function i(e,t,a){var n=e.pages;return y.default.createElement("div",{id:"h5dsSwiper",className:"h5ds-swiper",style:{backgroundImage:e.style.backgroundImage,backgroundRepeat:e.style.backgroundRepeat,backgroundColor:e.style.backgroundColor,backgroundSize:e.style.backgroundSize}},n.map(function(e,n){var r=e.name,i=e.id,s=e.slider,o=void 0===s?{}:s,l=e.desc,u=e.style,d=u.backgroundImage,c=u.backgroundRepeat,_=u.backgroundColor,f=u.backgroundSize;return y.default.createElement("div",{id:i,className:"h5ds-swiper-page","data-title":C.util.escape(r||""),"data-desc":C.util.escape(l||""),"data-autoplay":!!o.autoplay&&o.time,"data-lock":o.lock,key:n},y.default.createElement("div",{className:"h5ds-swiper-pageinner",style:{backgroundImage:d,backgroundRepeat:c,backgroundColor:_,backgroundSize:f}},a(e,t)))}))}function s(e,t,a){var n=e.fixeds[0].style,r=e.fixeds[1].style;return y.default.createElement("div",null,y.default.createElement("div",{id:"h5dsFixedsUp"},y.default.createElement("div",{className:"h5ds-swiper-page"},y.default.createElement("div",{style:{backgroundImage:n.backgroundImage,backgroundRepeat:n.backgroundRepeat,backgroundColor:n.backgroundColor,backgroundSize:n.backgroundSize},className:"h5ds-swiper-pageinner"},a(e.fixeds[0],t)))),y.default.createElement("div",{id:"h5dsFixedsDown"},y.default.createElement("div",{className:"h5ds-swiper-page"},y.default.createElement("div",{style:{backgroundImage:r.backgroundImage,backgroundRepeat:r.backgroundRepeat,backgroundColor:r.backgroundColor,backgroundSize:r.backgroundSize},className:"h5ds-swiper-pageinner"},a(e.fixeds[1],t)))))}function o(e,t){var a=[],n=[],o=t.layersSet,l=t.pageToHTML;for(var u in o){var c=o[u].scripts||[],f=o[u].styles||[];a=[].concat((0,p.default)(a),(0,p.default)(c)),n=[].concat((0,p.default)(n),(0,p.default)(f))}e.type||(e.type="phone");var m=t.config||{},g=m.appCDN,O=void 0===g?"/assets":g,b=m.collectApi,D=void 0===b?"":b,L={position:"absolute",bottom:0,width:"100%",backgroundColor:"rgba(0,0,0,.3)",color:"#fff",padding:5,fontSize:12,textAlign:"center",zIndex:99999999};"pc"===e.type&&(L.right=0,L.width="auto");var k=v.default.dev?+new Date:v.default.version;return"\n<!doctype html>\n<html>\n<head>\n<title>"+e.name+'</title>\n<meta name="description" content="'+e.desc+'">\n<meta name="keywords" content="'+e.desc+'">\n<meta http-equiv="X-UA-Compatible" content="IE=edge">\n<meta name="format-detection" content="telephone=no" />\n<meta name="format-detection" content="email=no" />\n<meta name="apple-mobile-web-app-capable" content="yes" />\n<meta name="apple-mobile-web-app-status-bar-style" content="black" />\n<meta http-equiv="Cache-Control" content="no-cache" />\n<meta name="x5-fullscreen" content="true">\n<meta name="x5-orientation" content="portrait">\n<meta name="x5-page-mode" content="app">\n<meta charset="utf-8">\n<meta name="viewport" content="width='+v.default.appWidth+', initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">\n<meta name="apple-mobile-web-app-capable" content="yes" />\n\x3c!-- Set render engine for 360 browser --\x3e\n<meta name="renderer" content="webkit">\n\x3c!-- No Baidu Siteapp--\x3e\n<meta http-equiv="Cache-Control" content="no-siteapp" />\n<link rel="stylesheet" type="text/css" href="'+O+"/css/h5ds.phone."+v.default.version+".css?t="+k+'">\n<link rel="stylesheet" type="text/css" href="'+O+"/css/h5ds.plus."+v.default.version+".css?t="+k+'">\n'+n.map(function(e){return'<link rel="stylesheet" type="text/css" href="'+e+'">'})+'\n\x3c!--js--\x3e\n<script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"><\/script>\n<script src="http://cdn.h5ds.com/lib/plugins/jquery.min.js"><\/script>\n<script src="http://cdn.h5ds.com/lib/plugins/qrcode.min.js"><\/script>\n<script src="http://cdn.h5ds.com/lib/plugins/hammer.min.js"><\/script>\n'+a.map(function(e){return'<script src="'+e+'"><\/script>'}).join("")+"\n<script>\nvar H5DS_SOURCE = "+((0,_.default)(C.util.getSource(e))||"[]")+";\nvar H5DS_SLIDER_ANIMATE = "+((0,_.default)(T.sliderAnimate[e.slider.animate])||"{}")+";\nvar H5DS_COLLECT_API = '"+D+"';\n<\/script>\n<script src=\""+O+"/js/h5ds."+e.type+"."+v.default.version+".js?t="+k+'"><\/script>\n<script src="'+O+"/js/h5ds.plus."+v.default.version+".js?t="+k+'"><\/script>\n</head>\n'+(0,A.renderToStaticMarkup)(y.default.createElement("body",{className:"h5dsapp h5dsapp-"+e.type,onDragStart:"return false"},y.default.createElement(h.Provider,R.default,y.default.createElement("div",{className:"h5ds-full",style:(0,d.default)({},e.style)},e.mp3.url?y.default.createElement("div",{className:"h5ds-video-icon"},y.default.createElement("i",null),y.default.createElement("i",null),y.default.createElement("i",null),y.default.createElement("i",null)):null,e.mp3.url?y.default.createElement("audio",{style:{display:"none"},id:"h5dsBgMusic",loop:"loop",preload:"preload"},y.default.createElement("source",{src:e.mp3.url,type:"audio/mpeg"})):null,y.default.createElement("div",{className:"h5ds-loading",id:"h5dsLoading"},y.default.createElement("div",{className:"h5ds-loadinner"},y.default.createElement("div",{className:e.loading}),y.default.createElement("div",{className:"h5ds-progress",id:"h5dsProgress"}))),r(e,{isMinPage:!1,isPhoneView:!1,isView:!1},l),s(e,{isMinPage:!1,isPhoneView:!1,isView:!1},l),i(e,{isMinPage:!1,isPhoneView:!1,isView:!1},l),(0,E.powerHTML)(e)))))+"\n</html>"}function l(e,t,a){R.default.layerfun.layersSet=a;var n={position:"absolute",bottom:0,width:"100%",backgroundColor:"rgba(0,0,0,.3)",color:"#fff",padding:5,fontSize:12,textAlign:"center",zIndex:99999999};"pc"===e.type&&(n.right=0,n.width="auto");var o=[];for(var l in a){var u=a[l].scripts||[];o=[].concat((0,p.default)(o),(0,p.default)(u))}return(0,A.renderToStaticMarkup)(y.default.createElement("div",{className:"h5dsapp",onDragStart:"return false"},y.default.createElement("link",{rel:"stylesheet",type:"text/css",href:"http://cdn.h5ds.com/static/css/h5ds.phone."+v.default.version+".css"}),y.default.createElement("link",{rel:"stylesheet",type:"text/css",href:"http://cdn.h5ds.com/static/css/h5ds.plus."+v.default.version+".css"}),y.default.createElement(h.Provider,R.default,y.default.createElement("div",{className:"h5ds-full",style:(0,d.default)({},e.style)},e.mp3.url?y.default.createElement("div",{className:"h5ds-video-icon"},y.default.createElement("i",null),y.default.createElement("i",null),y.default.createElement("i",null),y.default.createElement("i",null)):null,e.mp3.url?y.default.createElement("audio",{style:{display:"none"},id:"h5dsBgMusic",preload:"preload",loop:"loop"},y.default.createElement("source",{src:e.mp3.url,type:"audio/mpeg"})):null,y.default.createElement("div",{className:"h5ds-loading",id:"h5dsLoading"},y.default.createElement("div",{className:"h5ds-loadinner"},y.default.createElement("div",{className:e.loading}),y.default.createElement("div",{className:"h5ds-progress",id:"h5dsProgress"}))),r(e,{isMinPage:!1,isPhoneView:!1,isView:!1},t),s(e,{isMinPage:!1,isPhoneView:!1,isView:!1},t),i(e,{isMinPage:!1,isPhoneView:!1,isView:!1},t),(0,E.powerHTML)(e))),o.map(function(e,t){return y.default.createElement("script",{key:t,src:e})}),y.default.createElement("script",{dangerouslySetInnerHTML:{__html:"\n      var H5DS_IS_VIEW = true;\n      var H5DS_SOURCE = "+((0,_.default)(C.util.getSource(e))||"[]")+";\n      var H5DS_SLIDER_ANIMATE = "+((0,_.default)(T.sliderAnimate[e.slider.animate])||"{}")+";\n      "}}),y.default.createElement("script",{src:"http://cdn.h5ds.com/static/js/h5ds.plus."+v.default.version+".js"}),y.default.createElement("script",{src:"http://cdn.h5ds.com/static/js/h5ds.phone."+v.default.version+".js"})))}Object.defineProperty(t,"__esModule",{value:!0});var u=a(9),d=n(u),c=a(14),_=n(c),f=a(15),p=n(f);t.getPopupsHTML=r,t.getPagesHTML=i,t.getFixedsHTML=s,t.toFullHtml=o,t.toAppHtml=l;var h=a(6),m=a(2),y=n(m),g=a(13),v=n(g),E=a(70),A=a(68),T=a(38),O=a(53),R=n(O),C=a(7);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"getPopupsHTML","D:/H5DS/h5ds-edit/src/core/components/publish/getHtml.js"),__REACT_HOT_LOADER__.register(i,"getPagesHTML","D:/H5DS/h5ds-edit/src/core/components/publish/getHtml.js"),__REACT_HOT_LOADER__.register(s,"getFixedsHTML","D:/H5DS/h5ds-edit/src/core/components/publish/getHtml.js"),__REACT_HOT_LOADER__.register(o,"toFullHtml","D:/H5DS/h5ds-edit/src/core/components/publish/getHtml.js"),__REACT_HOT_LOADER__.register(l,"toAppHtml","D:/H5DS/h5ds-edit/src/core/components/publish/getHtml.js"))}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(3),i=n(r),s=a(0),o=n(s),l=a(1),u=n(l),d=a(4),c=n(d),_=a(5),f=n(_);a(178);var p=a(2),h=n(p),m=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.tips,a=e.body;return h.default.createElement("div",{className:"h5ds-loading-window"},a||h.default.createElement("div",{className:"h5ds-loading-center"},h.default.createElement("div",{className:"h5ds-loadbox"},t||"loading...")))}}]),t}(p.Component);t.default=m;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(m,"Center","D:/H5DS/h5ds-edit/src/core/common/loading/Loading.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e,t){e&&e[0]&&$(document).trigger("h5ds.swiperAfter",{$in:e,$out:t}),$(".layer-val").each(function(){$(this).closest(".layer").off("mousedown touchstart")})}Object.defineProperty(t,"__esModule",{value:!0}),t.swiperAfter=n;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"swiperAfter","D:/H5DS/h5ds-edit/src/app/common/h5ds.swiper.after.js")}()},function(e,t){e.exports=require("url-parse")},function(e,t,a){"use strict";function n(){var e={start:"mousedown",move:"mousemove",end:"mouseup",touch:!1,touchEvent:function(e){return e.originalEvent.targetTouches[0]}};return"ontouchend"in document&&(e.start="touchstart",e.move="touchmove",e.end="touchend",e.touch=!0),e}Object.defineProperty(t,"__esModule",{value:!0}),t.getDragEventName=n;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"getDragEventName","D:/H5DS/h5ds-edit/src/utils/dragEventName.js")}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(128),i=n(r),s=a(146),o=a(2),l=n(o),u=a(147),d={type:"etext",name:"文本",icon:l.default.createElement("i",{className:"h5ds-ico h5ds-ico-wenben"}),editor:i.default,layerdom:u.layerdom,origindata:s.Origindata,editorSet:{height:!1}};t.default=d;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(d,"default","D:/H5DS/h5ds-edit/src/core/layers/etext/index.js")}();e.exports=t.default},function(e,t){e.exports=require("antd/lib/button")},function(e,t){e.exports=require("antd/lib/button/style")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Artword=void 0;var r=a(3),i=n(r),s=a(0),o=n(s),l=a(1),u=n(l),d=a(4),c=n(d),_=a(5),f=n(_);a(136);var p=a(2),h=n(p),m=t.Artword=function(e){function t(){var e,a,n,r;(0,o.default)(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.getSpanStyle=function(){var e;return(e=n).__getSpanStyle__REACT_HOT_LOADER__.apply(e,arguments)},n.getStyle=function(){var e;return(e=n).__getStyle__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,c.default)(n,r)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__getSpanStyle__REACT_HOT_LOADER__",value:function(e){var t=[],a={background:"background",backgroundClip:"-webkit-background-clip",color:"color",textFillColor:"-webkit-text-fill-color",textStroke:"text-stroke",opacity:"opacity",textShadow:"text-shadow",backgroundImage:"background-image",top:"top",left:"left",zIndex:"z-index"};for(var n in e)a[n]&&t.push(a[n]+": "+e[n]);return t.join(";")}},{key:"__getStyle__REACT_HOT_LOADER__",value:function(e,t,a){var n={},r={},i=null;switch(e){case"border":n.color=t[0],n.textFillColor=a+"px "+t[0],n.WebkitTextFillColor=a+"px "+t[0],r.textStroke=a+"px "+t[1],r.WebkitTextStroke=a+"px "+t[1];break;case"3d":n.color=t[0],n.textFillColor=a+"px "+t[0],n.WebkitTextFillColor=a+"px "+t[0],r.textShadow=new Array(a).fill(1).map(function(e,n){return n+1<a?"0px "+(n+1)+"px 0px "+t[1]:"0px "+a+"px "+a+"px "+t[1]}).join(",");break;case"kaTong":n.color=t[0],n.background="url(data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAHklEQVQImWNkYGBgYGD4//8/A5wF5SBYyAr+//8PAPOCFO0Q2zq7AAAAAElFTkSuQmCC) repeat",n.textShadow=a/2+"px -"+a/2+"px "+t[0]+", "+a/2+"px -"+a/2+"px white",n.textFillColor="transparent",n.WebkitTextFillColor="transparent",n.backgroundClip="text",n.WebkitBackgroundClip="text",r.opacity=0;break;case"jiaXin":n.color=t[0],n.textFillColor=a+"px "+t[0],n.WebkitTextFillColor=a+"px "+t[0],r.textStroke=a+"px "+t[1],r.WebkitTextStroke=a+"px "+t[1],i={zIndex:99,textStroke:a+a/2+"px "+t[0],WebkitTextStroke:a+a/2+"px "+t[0]};break;case"yinYing":n.color=t[0],n.textShadow="0px "+a/2+"px "+a/2+"px "+t[1],r.opacity=0;break;case"niHong":n.textStroke="1px "+t[0],n.WebkitTextStroke="1px "+t[0],n.color="transparent",r.color="transparent",r.textShadow="0px 0px "+a+"px "+t[0];break;case"cuoJue":n.left=0,n.backgroundClip="text",n.WebkitBackgroundClip="text",n.textFillColor="transparent",n.WebkitTextFillColor="transparent",n.backgroundImage="linear-gradient(0deg, "+t[1]+" 50%, rgba(255, 255, 255, 0) 50%)",r.left=-2,r.backgroundClip="text",r.WebkitBackgroundClip="text",r.textFillColor="transparent",r.WebkitTextFillColor="transparent",r.backgroundImage="linear-gradient(0deg, "+t[2]+" 100%, rgba(255, 255, 255, 0) 50%)",i={zIndex:201,left:2,color:t[0]};break;case"jianBian":n.left=0,n.backgroundClip="text",n.WebkitBackgroundClip="text",n.textFillColor="transparent",n.WebkitTextFillColor="transparent",n.backgroundImage="linear-gradient(0deg, "+t[0]+", "+t[1]+", "+t[2]+")",r.opacity=0;break;case"qieGe":n.backgroundClip="text",n.WebkitBackgroundClip="text",n.textFillColor="transparent",n.WebkitTextFillColor="transparent",n.backgroundImage="linear-gradient(0deg, "+t[0]+" 50%, rgba(255, 255, 255, 0) 50%)",r.backgroundClip="text",r.WebkitBackgroundClip="text",r.textFillColor="transparent",r.WebkitTextFillColor="transparent",r.backgroundImage="linear-gradient(0deg, "+t[1]+" 100%, rgba(255, 255, 255, 0) 50%)";break;case"fire":n.color=t[0],r.opacity=0;break;case"snow":n.textFillColor=t[0],n.textFillColor=t[0],n.WebkitTextFillColor=t[0],r.color="#fff",r.textShadow=t[1]+" 0px "+a/2+"px "+a/2+"px",r.textStroke=a/2+"px "+t[1],r.WebkitTextStroke=a/2+"px "+t[1],i={zIndex:201,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAeCAYAAAARgF8NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDOEJGMEM5MDMwRUYxMUU5OUU1QkJFMjJGQjU2M0JBMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDOEJGMEM5MTMwRUYxMUU5OUU1QkJFMjJGQjU2M0JBMyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkM4QkYwQzhFMzBFRjExRTk5RTVCQkUyMkZCNTYzQkEzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkM4QkYwQzhGMzBFRjExRTk5RTVCQkUyMkZCNTYzQkEzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+PM6S9AAAAFlJREFUeNpi/P///1cGBgYuIP4FxGwMEABjf2MEKvjPgAcwMRAAowqGm4JveOTBCQbEwJVoGCl3AwtSImVAS7QQO9DSLIzDSLIVDOg6aRfU/9EDjXJHAgQYAOqPGQ3i3HYXAAAAAElFTkSuQmCC) repeat-x",textFillColor:"transparent",WebkitTextFillColor:"transparent",backgroundClip:"text",WebkitBackgroundClip:"text"};break;case"louKong":n.top=-a/2,n.left=a/2,n.textStroke="1px "+t[1],n.WebkitTextStroke="1px "+t[1],n.textFillColor="transparent",n.WebkitTextFillColor="transparent",r.color=t[0]}return{upStyle:n,downStyle:r,otherStyle:i}}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.size,n=void 0===a?10:a,r=e.colors,i=void 0===r?["#000"]:r,s=e.style,o=void 0===s?{}:s,l=e.shtml,u=["h5ds-artword","h5ds-artword-"+t],d=this.getStyle(t,i,n),c=d.upStyle,_=d.downStyle,f=d.otherStyle;return t?l?h.default.createElement("div",{style:o,className:u.join(" ")},h.default.createElement("div",{style:c,className:"h5ds-artword-up",dangerouslySetInnerHTML:{__html:l}}),h.default.createElement("div",{style:_,className:"h5ds-artword-down",dangerouslySetInnerHTML:{__html:l}}),f?h.default.createElement("div",{style:f,className:"h5ds-artword-up",dangerouslySetInnerHTML:{__html:l}}):null):h.default.createElement("div",{style:o,className:u.join(" ")},h.default.createElement("div",{style:c,className:"h5ds-artword-up"},this.props.children),h.default.createElement("div",{style:_,className:"h5ds-artword-down"},this.props.children),f?h.default.createElement("div",{style:f,className:"h5ds-artword-up"},this.props.children):null):h.default.createElement("div",{style:o,className:u.join(" "),dangerouslySetInnerHTML:{__html:l}})}}]),t}(p.PureComponent);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(m,"Artword","D:/H5DS/h5ds-edit/src/core/layers/etext/artword/Artword.js")}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SetBgColor=t.Colors=void 0;var r=a(24),i=n(r),s=a(137),o=n(s);t.Colors=i.default,t.SetBgColor=o.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.fontFamilyData=[{name:"默认字体",url:""},{name:"站酷高端黑",url:"/assets/fonts/站酷高端黑.TTF"},{name:"站酷快乐体",url:"/assets/fonts/站酷快乐体.TTF"}];!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"fontFamilyData","D:/H5DS/h5ds-edit/src/core/layers/etext/fontFamily.js")}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(148),i=a(149),s=n(i),o=a(2),l=n(o),u={type:"img",name:"图片",icon:l.default.createElement("i",{className:"h5ds-ico h5ds-ico-beijing"}),editor:s.default,layerdom:r.layerdom,origindata:r.Origindata};t.default=u;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(u,"default","D:/H5DS/h5ds-edit/src/core/layers/img/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){if(!e||"{}"===(0,l.default)(e))return null;a||(a=this.props.layerfun);var n=e.layers,r=null,i=e.style,o=i.height,u=i.width;r="combin"===e.type?{transform:"scale("+u/e.originstyle.width+", "+o/e.originstyle.height+")"}:{height:o,width:u};var c=a,p=c.layersSet,h=t.isPhoneView,m=t.isMinPage,y=t.isView;return _.default.createElement("div",{className:"h5ds-swiper-layers",style:(0,s.default)({},r)},n.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=null;return n=p[e.type]?p[e.type].layerdom(e,t,a,{isMinPage:m,isPhoneView:h,isView:y}):_.default.createElement("div",{className:"layer-null"},"请载入",e.type,"插件"),e.keyid||(e.keyid="nokeyid_"+f.util.randomID(),e.set={lock:!1,hide:!1}),_.default.createElement(d.default,{set:{isMinPage:m,isPhoneView:h,isView:y},layer:e,zIndex:9999-t,key:e.keyid},n)}))}Object.defineProperty(t,"__esModule",{value:!0});var i=a(9),s=n(i),o=a(14),l=n(o);t.pageToHTML=r;var u=a(151),d=n(u),c=a(2),_=n(c),f=(a(8),a(7));!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(r,"pageToHTML","D:/H5DS/h5ds-edit/src/core/components/publish/pageToHtml.js")}()},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("babel-runtime/core-js/object/define-property")},function(e,t,a){"use strict";function n(e){return i.default.createElement("div",{className:"h5ds-last-page",style:{animation:"slideInUp 0.5s ease 0s 1 normal forwards running",opacity:0}},i.default.createElement("div",{className:"h5ds-last-info"},i.default.createElement("img",{src:e.img,alt:""}),i.default.createElement("h1",null,e.name),i.default.createElement("p",null,e.desc),i.default.createElement("div",{className:"h5ds-last-btns"},i.default.createElement("button",{id:"h5ds-last-close"},"关闭"),i.default.createElement("button",{id:"h5ds-last-topage1"},"重看"))),i.default.createElement("div",{className:"h5ds-last-power"},"Powered by ",i.default.createElement("a",{href:"http://h5ds.cn"},"h5ds.com")))}Object.defineProperty(t,"__esModule",{value:!0}),t.powerHTML=n;var r=a(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"powerHTML","D:/H5DS/h5ds-edit/src/core/components/publish/power.js")}()},function(e,t){e.exports=require("antd/lib/popconfirm")},function(e,t){e.exports=require("antd/lib/popconfirm/style")},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultData=void 0;var n=a(13),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=t.defaultData={img:"http://cdn.h5ds.com/static/images/img-null.png",desc:"点石H5，官方网站h5ds.com",name:"点石H5",loading:"1",set:{},type:"phone",mp3:{name:"挺有感觉的BGM素材.mp3",url:"http://cdn.h5ds.com/upload/a55f582e-73d0-4bcd-98a9-cd41d8dcf94f.mp3"},slider:{animate:1,lock:!1,autoplay:!1,time:5},style:{width:r.default.appWidth,height:r.default.appHeight},fixeds:[{id:null,name:"浮动层上",style:{height:r.default.appHeight},layers:[],index:0},{id:null,name:"浮动层下",style:{height:r.default.appHeight},layers:[],index:1}],popups:[],pages:[{id:null,name:"空白页面",desc:"页面描述",style:{height:r.default.appHeight},layers:[],animate:[],slider:{animate:1,autoplay:!1,lock:!1,time:5}}]};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"defaultData","D:/H5DS/h5ds-edit/src/core/defaultData.js")}()},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initSwiper=t.pageDataToHTML=t.appDataToHTML=t.default=void 0;var r=a(3),i=n(r),s=a(0),o=n(s),l=a(1),u=n(l),d=a(4),c=n(d),_=a(5),f=n(_);a(77),a(78),a(90),a(91),a(92),a(93),a(94),a(95),a(103);var p=a(2),h=n(p),m=a(104),y=a(155),g=n(y),v=a(6),E=a(53),A=n(E),T=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return h.default.createElement(v.Provider,A.default,h.default.createElement(g.default,this.props))}}]),t}(p.Component);t.default=T,t.appDataToHTML=m.appDataToHTML,t.pageDataToHTML=m.pageDataToHTML,t.initSwiper=m.initSwiper;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(T,"H5DS","D:/H5DS/h5ds-edit/src/core/index.js")}()},function(e,t){},function(e,t,a){"use strict";a(79),a(80),a(81),a(82),a(83);var n=a(84),r=a(88),i=a(57),s=a(89);$.fn.h5dsSwiper=function(e){var t=this;(0,r.mountWill)(this);var a=$(this),o={inNext:"pt-page-moveFromBottom",outNext:"pt-page-moveToTop",inPrev:"pt-page-moveFromTop",outPrev:"pt-page-moveToBottom",direction:"swipeup",loop:!1,animated:!1,pageTime:800,len:a.find(".h5ds-swiper-page").length};this.timer=null,this.pageIndex=0;var l=$.extend(o,e),u=function(e,n,r,o){if(l.animated=!0,e.removeClass(l["in"+r]).removeClass(l["out"+r]),n.removeClass(l["in"+r]).removeClass(l["out"+r]),t.pageIndex=e.index(),(0,s.swiperBefore)(e,n,o),l.len<=1)return void(0,i.swiperAfter)(e,n);a.trigger("h5ds.animateStart",e.index()),e.addClass(l["in"+r]+" h5ds-swiper-current"),n.addClass(l["out"+r]+" h5ds-swiper-current"),t.timer&&(clearTimeout(t.timer),t.timer=null),t.timer=setTimeout(function(){e.find(".h5ds-swiper-layers").css("display","block"),n.find(".h5ds-swiper-layers").css("display","none"),e.removeClass(l["in"+r]),n.removeClass(l["out"+r]),n.removeClass("h5ds-swiper-current"),l.animated=!1,a.trigger("h5ds.animateEnd",{direc:r,outIndex:e.index()}),d(),(0,i.swiperAfter)(e,n,o),t.timer=null},l.pageTime)},d=function(){var e=a.find(".h5ds-swiper-current"),t=e.attr("data-autoplay");return"false"!==t&&(a.trigger("h5ds.animateStart",e.index()),l.animated&&(clearTimeout(l.animated),l.animated=null),l.animated=setTimeout(function(){a.trigger("h5ds_"+l.direction,{$out:e,outIndex:e.index()})},1e3*t)),t};return d(),a.off("touchmove").on("touchmove",".h5ds-swiper-page",function(e){$(this).attr("data-langpage")||e.preventDefault()}),$(".h5ds-last-page").off("touchmove").on("touchmove",function(e){e.preventDefault()}),$("#h5dsLoading").off("touchmove").on("touchmove",function(e){e.preventDefault()}),a.hammer({enable:!0,touchAction:"auto",domEvents:!0,swipe:!0}).off("swipeup swipeleft swiperight swipedown").on("swipeup swipeleft swiperight swipedown",function(e){e.preventDefault();var t=$(e.target),n=t.closest(".h5ds-swiper-page"),r=n.index(),i=n.attr("data-lock"),s=n.attr("data-autoplay");if(n.attr("data-langpage"))return void e.srcEvent.stopPropagation();l.animated||"true"!==i&&"false"===s&&a.trigger("h5ds_"+e.type,{$out:n,outIndex:r})}),a.on("h5ds_swipeup h5ds_swiperight",function(e,t){var n=t.$out,r=t.outIndex,i=0;if(r===l.len-1){if(!l.loop)return void $(document).trigger("h5ds.swiperLast")}else i=r+1;var s=a.find(".h5ds-swiper-page").eq(i);u(s,n,"Next",i)}).on("h5ds_swipedown h5ds_swipeleft",function(e,t){var n=t.$out,r=t.outIndex,i=0;if(0===r){if(!l.loop)return;i=l.len-1}else i=r-1;var s=a.find(".h5ds-swiper-page").eq(i);u(s,n,"Prev",i)}),this.getPage=function(){return $(".h5ds-swiper-current").index()},this.getPageLength=function(){return l.len},this.nextPage=function(){var e=t.getPage();if(!(e+1<=l.len-1))return $(document).trigger("h5ds.swiperLast"),!1;t.toPage(e+1)},this.prevPage=function(){var e=t.getPage();if(!(e-1>=0))return!1;t.toPage(e-1)},this.toPage=function(e){if(l.animated)return!1;var t=$(".h5ds-swiper-current"),n=t.index(),r=a.find(".h5ds-swiper-page").eq(e);return!!r[0]&&(n!==e&&(u(r,t,n<e?"Next":"Prev",e),!0))},(0,n.mountDid)(this),this}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,a){"use strict";function n(e){var t=$(e).find(".h5ds-swiper-page");if(1===t.length&&(t.eq(0).addClass("h5ds-swiper-current"),t.eq(0).find(".h5ds-swiper-layers").css("display","block")),(0,r.initH5dsSwiperUeFun)(e),window.H5DS_COLLECT_API){var a=location.pathname.split("/")[2];s.trackingHelper.setReportUrl(window.H5DS_COLLECT_API),s.trackingHelper.setAppId(a),s.trackingHelper.sendPageView()}$(".h5ds-pagenext")[0]&&($(".h5ds-pagenext").each(function(){$(this).hammer().off("tap").on("tap",function(){$(this).hasClass("h5ds-pn-disabled")||e.toPage(e.pageIndex+1)})}),$(".h5ds-pageprev").each(function(){$(this).hammer().off("tap").on("tap",function(){$(this).hasClass("h5ds-pn-disabled")||e.toPage(e.pageIndex-1)})})),$("input, textarea, select").on("blur",function(){window.scroll(0,0)}),(0,i.ispc)()&&$(e).find("img").off("dragstart").on("dragstart",function(e){return e.preventDefault(),!1}),$(document).trigger("h5ds.mountDid",{self:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.mountDid=n;var r=a(85),i=a(43),s=a(87);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"mountDid","D:/H5DS/h5ds-edit/src/app/common/h5ds.mount.did.js")}()},function(e,t,a){"use strict";function n(e){$(document).find("[data-uefun]").each(function(){var t=$(this),a=t.attr("data-uefun");if(a){try{a=JSON.parse(unescape(a))}catch(e){a=null}a&&t.hammer().off("tap").on("tap",function(n){if(0!=$(n.target).css("opacity"))for(var d in a)switch(d){case"link":i(a[d],t,e);break;case"toPage":l(a[d],t,e);break;case"tel":o(a[d],t,e);break;case"msg":s(a[d],t,e);break;case"hideShow":u(a[d],t,e);break;case"playSound":r(a[d],t,e)}})}})}function r(e,t,a){}function i(e,t,a){location.href=e}function s(e,t,a){location.href="sms:"+e}function o(e,t,a){location.href="tel:"+e}function l(e,t,a){a&&a.toPage(e)}function u(e,t,a){var n=[];try{n=e.ids.split(",")}catch(e){}"hide"===e.type?n.forEach(function(e,t){$(e).hide(),(0,d.swiperAfter)(window.toHideShowCache,$(e))}):"show"===e.type?n.forEach(function(e,a){$(e).show(),window.toHideShowCache=t.closest(".h5ds-swiper-page"),(0,d.swiperAfter)($(e),window.toHideShowCache)}):"hideshow"===e.type&&n.forEach(function(e,a){var n=$(e);n.is(":hidden")?(n.show(),window.toHideShowCache=t.closest(".h5ds-swiper-page"),(0,d.swiperAfter)($(e),window.toHideShowCache)):(n.hide(),(0,d.swiperAfter)(window.toHideShowCache,$(e)))})}Object.defineProperty(t,"__esModule",{value:!0}),t.initH5dsSwiperUeFun=n;var d=a(57);window;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"initH5dsSwiperUeFun","D:/H5DS/h5ds-edit/src/app/common/h5ds.ue.js"),__REACT_HOT_LOADER__.register(r,"toPlaySound","D:/H5DS/h5ds-edit/src/app/common/h5ds.ue.js"),__REACT_HOT_LOADER__.register(i,"toLink","D:/H5DS/h5ds-edit/src/app/common/h5ds.ue.js"),__REACT_HOT_LOADER__.register(s,"toMsg","D:/H5DS/h5ds-edit/src/app/common/h5ds.ue.js"),__REACT_HOT_LOADER__.register(o,"toTel","D:/H5DS/h5ds-edit/src/app/common/h5ds.ue.js"),__REACT_HOT_LOADER__.register(l,"toPage","D:/H5DS/h5ds-edit/src/app/common/h5ds.ue.js"),__REACT_HOT_LOADER__.register(u,"toHideShow","D:/H5DS/h5ds-edit/src/app/common/h5ds.ue.js"))}()},function(e,t){e.exports=require("preload-js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.trackingHelper=void 0;var r=a(44),i=n(r),s=a(18),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(58),f=n(_),p=function(){function e(){(0,u.default)(this,e),this.baseData={},this.reportUrl=location.href}return(0,c.default)(e,[{key:"setReportUrl",value:function(e){this.reportUrl=e}},{key:"setUid",value:function(e){this.reportUrl.uid=e}},{key:"setAppId",value:function(e){this.baseData.appId=e}},{key:"doReport",value:function(e,t){if(!e)throw new Error("请设置上报地址");t=(0,o.default)({},t,this._getBaseData(),this.baseData),window.navigator.sendBeacon?this._doReportBySendBeacon(e,t):this._doReportByImg(e,t)}},{key:"_data2QueryString",value:function(e){var t=(0,f.default)("");return t.set("query",e),t.href.split("?")[1]}},{key:"_getBaseData",value:function(){return{nl:navigator.language,np:navigator.platform,nje:navigator.javaEnabled(),nmtp:navigator.maxTouchPoints,nce:navigator.cookieEnabled,nd:navigator.doNotTrack,ndm:navigator.deviceMemory,ndc:navigator.hardwareConcurrency,sr:screen.width+"*"+screen.height,scd:screen.colorDepth,dc:document.charset||document.characterSet,dr:document.referrer,t:Date.now()}}},{key:"_makeRndString",value:function(){return Math.random().toString(16)}},{key:"_doReportByImg",value:function(e,t){var a=e+"?"+this._data2QueryString(t),n="report_img_"+this._makeRndString(),r=window[n]=new Image;r.onload=r.onerror=function(){window[n]=null},r.src=a}},{key:"_doReportBySendBeacon",value:function(e,t){var a=new FormData;(0,i.default)(t).forEach(function(e){return a.append(e,t[e])}),window.navigator.sendBeacon(e,a)}},{key:"sendPageView",value:function(){var e=location.pathname;this.doReport(this.reportUrl,{path:e})}}]),e}(),h=t.trackingHelper=new p;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"TrackingHelper","D:/H5DS/h5ds-edit/src/app/common/trackingHelper.js"),__REACT_HOT_LOADER__.register(h,"trackingHelper","D:/H5DS/h5ds-edit/src/app/common/trackingHelper.js"))}()},function(e,t,a){"use strict";function n(e){$(document).trigger("h5ds.mountWill",{self:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.mountWill=n;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"mountWill","D:/H5DS/h5ds-edit/src/app/common/h5ds.mount.will.js")}()},function(e,t,a){"use strict";function n(e,t,a){var n=$(".h5ds-dots"),r=n.attr("data-len");n.find(".h5ds-dots-inner").css({width:(a+1)/r*n.width()}),e&&e[0]&&$(document).trigger("h5ds.swiperBefore",{$in:e,$out:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.swiperBefore=n;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"swiperBefore","D:/H5DS/h5ds-edit/src/app/common/h5ds.swiper.before.js")}()},function(e,t,a){"use strict";$.contextMenu=function(e){var t={x:0,y:0,vals:[],callback:null},a=$.extend(t,e);if(!$(".h5ds-contextmenu")[0]){var n='<div class="h5ds-contextmenu" style="left: '+a.x+"px; top: "+a.y+'px;">\n            <ul>\n                '+a.vals.map(function(e){return'<li class="h5ds-contextmenu-item" data-val="'+e.val+'">'+e.name+"</li>"}).join("")+"\n            </ul>\n        </div>";$("body").append(n)}var r=$(".h5ds-contextmenu"),i={height:r.height(),width:r.width(),win_width:$(window).width(),win_height:$(window).height(),new_x:a.x,new_y:a.y};a.x+i.width>i.win_width&&(i.new_x=i.win_width-i.width-20),a.y+i.height>i.win_height&&(i.new_y=i.win_height-i.height-50),r.css({left:i.new_x,top:i.new_y}),$(document).off("click.contextmenu").on("click.contextmenu",function(e){var t=$(e.target).closest(".h5ds-contextmenu-item");t[0]&&a.callback&&a.callback(t.attr("data-val"),t),$(".h5ds-contextmenu").remove()})}},function(e,t,a){"use strict";!function(){function e(t){null==t&&(t=[]);var a=[t[0]||1,t[1]||0,t[2]||0,t[3]||1,t[4]||0,t[5]||0];return a.getAngle=function(){return Math.atan2(this[1],this[0])},a.getRotate=function(){var e=Math.round(180*Math.asin(this[0])/Math.PI),t=Math.round(180*Math.acos(this[1])/Math.PI),a=Math.round(180*Math.asin(this[2])/Math.PI),n=Math.round(180*Math.acos(this[3])/Math.PI),r=0;return e==t||-e==t?r=n:-e+t==180?r=180+a:e+t==180&&(r=360-a||360-n),r>=360?0:r},a.concat=function(t){return e([this[0]*t[0]+this[2]*t[1],this[1]*t[0]+this[3]*t[1],this[0]*t[2]+this[2]*t[3],this[1]*t[2]+this[3]*t[3],this[0]*t[4]+this[2]*t[5]+this[4],this[1]*t[4]+this[3]*t[5]+this[5]])},a.rotate=function(t,a){return this.concat(e.rotate(t,a))},a.setRotation=function(e,t){return this.rotate(e-this.getAngle(),t)},a.scale=function(t,a,n){return this.concat(e.scale(t,a,n))},a.translate=function(t,a){return this.concat(e.translate(t,a))},a.toCSSTransform=function(){return"matrix("+this.join(", ")+")"},a.getTransform=function(){var e=180*Math.atan2(this[1]/this[0])/Math.PI,t=this[0]/Math.cos(Math.PI/180*e);return{x:parseInt(this[4]),y:parseInt(this[5]),scale:t,rotate:e}},a}e.rotate=function(t,a){return e([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0])},e.scale=function(t,a,n){return a=a||t,e([t,0,0,a,0,0])},e.translate=function(t,a){return e([1,0,0,1,t,a])},e.getCurrentMatrix=function(t){var a=window.getComputedStyle(t,null),n=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("-moz-transform")||a.getPropertyValue("-ms-transform")||a.getPropertyValue("-o-transform")||a.getPropertyValue("transform")||null;return n=String(n).replace("matrix(","").replace(")","").replace(" ",""),n=n.split(","),e([parseFloat(n[0],10)||1,parseFloat(n[1],10)||0,parseFloat(n[2],10)||0,parseFloat(n[3],10)||1,parseFloat(n[4],10)||0,parseFloat(n[5],10)||0])},e.transformToMatrix=function(t){if(-1===String(t).indexOf("matrix")){if(-1!==t.indexOf("rotate")){var a=RegExp(".*"+name+"\\((.+?)\\).*"),n=t.replace(a,"$1");return e.rotate(n*Math.PI/180)}return e([])}var r=String(t).replace("matrix(","").replace(")","").replace(" ","");return r=r.split(","),e([parseFloat(r[0],10)||1,parseFloat(r[1],10)||0,parseFloat(r[2],10)||0,parseFloat(r[3],10)||1,parseFloat(r[4],10)||0,parseFloat(r[5],10)||0])},window.Matrix=e}()},function(e,t,a){"use strict";$.fn.transform=function(e){var t=$(this).attr("style")||"";if("string"==typeof e)return-1!=t.indexOf("transform")&&$.getTransform(t,e);for(var a=[],n=["translate","rotate","scale","skew"],r=0;r<n.length;r++)e[n[r]]?a.push(n[r]+"("+e[n[r]]+")"):function(e){var n=$.getTransform(t,e);n&&a.push(e+"("+n+")")}(n[r]);a=a.join(" "),$(this).css({"-webkit-transform":a,transform:a})},$.getTransform=function(e,t){if(e=e||"",-1!=e.indexOf(t)){var a=RegExp(".*"+t+"\\((.+?)\\).*");return parseFloat(e.replace(a,"$1"))}return!1},String.prototype.transformValue=function(e){if(-1!=this.indexOf(e)){var t=RegExp(".*"+e+"\\((.+?)\\).*");return this.replace(t,"$1")}return!1},String.prototype.setTransfrom=function(e,t){if(-1!=this.indexOf(e)){var a=RegExp("(.*"+e+")\\((.+?)\\)(.*)","g");return this.replace(a,"$1("+t+")$3")}return!1}},function(e,t,a){"use strict";var n=a(59),r=(0,n.getDragEventName)();$(document).on(r.start+".drag",".h5ds-drag",function(e){r.touch&&(e=r.touchEvent(e));var t=e.pageX,a=e.pageY,n=$(this),i=n.offset().left,s=n.offset().top,o={limit:!0,undrag:[]},l=n.attr("data-dragset");if(l=l?JSON.parse(l):{},o=$.extend(o,l),0!=o.undrag.length)for(var u=0;u<o.undrag.length;u++)if($(e.target).closest(o.undrag[u])[0])return;if(o.limit)var d=n.width(),c=n.height(),_=n.parent().offset().left,f=n.parent().offset().top,p=n.parent().width(),h=n.parent().height();$(document).on(r.move+".drag",function(e){r.touch&&(e=r.touchEvent(e));var l=i+(e.pageX-t),u=s+(e.pageY-a);o.limit&&(l<_?l=_:l>p-d&&(l=p-d),u<f?u=f:u>h-c&&(u=h-c)),n.css({left:l,top:u})}).on(r.end+".drag",function(){$(document).off(r.move+".drag "+r.end+".drag")})});!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(r,"drag","D:/H5DS/h5ds-edit/src/utils/drag.js")}()},function(e,t,a){"use strict";$(document).on("mousedown.uniqlist",".h5ds-uniqlist",function(e){e.stopPropagation();var t=e.pageX,a=e.pageY,n=$(this);if(n.trigger("uniqstart"),"h5ds-uniqlist"!=e.target.className&&!$(e.target).closest(".h5ds-uniq-clone")[0]){var r=$(e.target).closest("li");if(r[0]){var i=parseInt(r.position().left,10),s=parseInt(r.position().top,10),o=r.height(),l=r.index(),u=null,d=function(){r.addClass("h5ds-uniq-start").siblings("li").removeClass("h5ds-uniq-start"),u=$(r.clone()),u.addClass("h5ds-uniq-clone").css({left:i,top:s,width:r.width(),height:r.height(),position:"absolute"}),n.append(u.prop("outerHTML")),u=$(".h5ds-uniq-clone")},c=parseInt(r.css("margin-top"),10)+parseInt(r.css("margin-bottom"),10),_=o+c,f=parseInt(r.css("top"),10),p=n.scrollTop();f="auto"!=f?f:0;var h=!0,m=!1;$(document).on("mousemove.uniqlist",function(e){var n=f+(e.pageY-a);Math.abs(n)>3&&(h=!1,m||(m=!0,d(),d=null),u.css({left:i+(e.pageX-t),top:s+(e.pageY-a)+p}),n>0&&n>_?r.next()[0]&&(f-=_,r.before(r.next())):n<0&&-n>_&&r.prev()[0]&&(f+=_,r.after(r.prev())))}).on("mouseup.uniqlist",function(e){var t=parseInt(r.position().left,10),a=parseInt(r.position().top,10)+p;h?(r.removeClass("h5ds-uniq-start"),n=null,r=null):u.animate({left:t,top:a},500,function(){u.remove(),r.removeClass("h5ds-uniq-start");var e=r.index();e>=0&&l!=e&&n.trigger("uniqend",{from:l,to:e}),u=null,n=null,r=null}),$(document).off("mousemove.uniqlist"),$(document).off("mouseup.uniqlist")})}}})},function(e,t,a){"use strict";var n=a(9),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a(59),s=a(29),o=a(45),l=(0,i.getDragEventName)();$.fn.control=function(e){var t={setHeight:!0,setWidth:!0,movex:!0,movey:!0,autosize:!0,fixedsize:!0,scale:1,rotate:!0},a=$(this),n=$.extend(t,e);n.scale=$(".h5ds-canvas-box").transform("scale")||1;var i='<div class="h5ds-control">\n\t\t\t\t\t{{rotate}}\n\t\t\t\t\t{{autosize}}\n\t\t\t\t\t{{fixedsize}}\n\t\t\t\t\t<span class="h5ds-control-center"></span>\n\t\t\t\t</div>';i=n.rotate?i.replace("{{rotate}}",'<span class="h5ds-control-rotate"></span>'):i.replace("{{rotate}}",""),i=n.autosize?i.replace("{{autosize}}",(n.setHeight?'<span class="h5ds-control-top" />':"")+"\n\t\t\t\t\t"+(n.setWidth?'<span class="h5ds-control-left"></span>':"")+"\n\t\t\t\t\t"+(n.setWidth?'<span class="h5ds-control-right"></span>':"")+"\n\t\t\t\t\t"+(n.setHeight?'<span class="h5ds-control-bottom"></span>':"")):i.replace("{{autosize}}",""),i=n.fixedsize?i.replace("{{fixedsize}}",'<span class="h5ds-control-topleft"></span>\n\t\t\t\t\t<span class="h5ds-control-topright"></span>\n\t\t\t\t\t<span class="h5ds-control-bottomleft"></span>\n\t\t\t\t\t<span class="h5ds-control-bottomright"></span>'):i.replace("{{fixedsize}}","");var u=a.find(".h5ds-control");u[0]&&(u.remove(),u=null),a.append(i);var d=function(e,t){var r={x:e.pageX,y:e.pageY},i=$(t).parent(),s=n.scale,o={width:i.width(),height:i.height(),left:parseInt(i.css("left"),10)*s,top:parseInt(i.css("top"),10)*s},u=null;$(document).trigger("controlstart",{e:e,$box:i});var d=void 0,c=void 0,_=$(".h5ds-js-grid");_[0]&&(d="true"===_.attr("data-adsorb"),c=parseInt(_.attr("data-size"),10)),$(document).trigger("h5ds.control.absorb.start"),$(document).on(l.move+".control_move",function(t){t.stopPropagation(),l.touch&&(t=l.touchEvent(t)),u={left:parseInt((o.left+(t.pageX-r.x))/s,10),top:parseInt((o.top+(t.pageY-r.y))/s,10)},n.movex||delete u.left,n.movey||delete u.top,$(document).trigger("controlmove",e),d&&c?(u.left&&(u.left=Math.round(u.left/c,10)*c),u.top&&(u.top=Math.round(u.top/c,10)*c),i.css(u)):(i.css(u),$(document).trigger("h5ds.control.absorb.move")),$(this).trigger("controlmove",{e:t,$box:i})}).on(l.end+".control_move",function(e){l.touch&&(e=l.touchEvent(e)),$(document).trigger("controlend",e),i=$(t).parent(),$(this).trigger("controlend",{e:e,$box:i}),u={left:parseFloat(i.css("left")),top:parseFloat(i.css("top"))},$(document).off(l.move+".control_move "+l.end+".control_move"),a.trigger("change",u),$(document).trigger("h5ds.control.absorb.end",u),u=null})},c=function(e,t){var n=$(t).find(".h5ds-control-center"),r=$(t).parent(),i={x:parseInt(n.offset().left,10),y:parseInt(n.offset().top,10)},s=180/Math.PI,u=null;$(document).on(l.move+".control_rotate",function(e){l.touch&&(e=e.originalEvent.targetTouches[0]);var t=e.pageX-i.x,a=i.y-e.pageY;u=Math.atan(t/a),u*=s,u=parseInt(u,10),t>=0&&a>=0||(t>=0&&a<0?(u=Math.abs(u),u=180-u):u+=t<0&&a>=0?360:180),r.transform({rotate:o.util.toFixed(u,1)+"deg"})}).on(l.end+".control_rotate",function(e){e.stopPropagation(),$(document).off(l.move+".control_rotate "+l.end+".control_rotate"),a.trigger("change",{value:o.util.toFixed(u,1),rotate:o.util.toFixed(u,1)+"deg",transform:"rotate("+o.util.toFixed(u,1)+"deg)"}),u=null})},_=function(e,t,i){var o={x:e.pageX,y:e.pageY},u=n.scale,d=$(t).parent(),c={width:d[0].offsetWidth,height:d[0].offsetHeight,left:d[0].offsetLeft,top:d[0].offsetTop};a.trigger("controlStart",(0,r.default)({},c));var _=s.rectMath.rectParam(d),f=_.rotate*Math.PI/180;$(document).on(l.move+".control_resize",function(e){l.touch&&(e=l.touchEvent(e));var n={x:(e.pageX-o.x)/u,y:(e.pageY-o.y)/u},r=Math.round(n.x*Math.cos(f)+n.y*Math.sin(f)),s=Math.round(n.y*Math.cos(f)-n.x*Math.sin(f)),_=$(t).parent(),p=_[0].offsetWidth,h=_[0].offsetHeight,m=_[0].offsetTop,y=_[0].offsetLeft;switch(i){case"topleft":var g=r*c.height/c.width;p-=r,h-=g,m+=g,y+=r;break;case"top":h-=s,m+=s;break;case"topright":var v=r*c.height/c.width;p+=r,h+=v,m-=v;break;case"right":p+=r;break;case"left":p-=r,y+=r;break;case"bottomright":p+=r,h+=r*c.height/c.width;break;case"bottom":h+=s;break;case"bottomleft":p-=r,h-=r*c.height/c.width,y+=r}o={x:e.pageX,y:e.pageY},p<0||h<0||(d.css({width:p,height:h,top:m,left:y}),a.trigger("controlMove",{width:p,height:h,top:m,left:y}))}).on(l.end+".control_resize",function(){$(document).off(l.move+".control_resize "+l.end+".control_resize"),d=$(t).parent();var e={height:parseInt(d.height(),10),width:parseInt(d.width(),10),top:parseInt(d.css("top"),10),left:parseInt(d.css("left"),10)};a.trigger("controlEnd",(0,r.default)({},e)),a.trigger("change",(0,r.default)({},e))})};return this.distory=function(){$(".h5ds-control").remove(),d=null,c=null,_=null},$(document).off(l.start+".control").on(l.start+".control",".h5ds-control",function(e){switch(e.stopPropagation(),l.touch?e=l.touchEvent(e):e.preventDefault(),n.scale=$(".h5ds-canvas-box").transform("scale")||1,$(document).trigger("controlstart",e),e.target.className){case"h5ds-control":d(e,this);break;case"h5ds-control-rotate":c(e,this);break;case"h5ds-control-top":_(e,this,"top");break;case"h5ds-control-topleft":_(e,this,"topleft");break;case"h5ds-control-topright":_(e,this,"topright");break;case"h5ds-control-bottom":_(e,this,"bottom");break;case"h5ds-control-bottomleft":_(e,this,"bottomleft");break;case"h5ds-control-bottomright":_(e,this,"bottomright");break;case"h5ds-control-left":_(e,this,"left");break;case"h5ds-control-right":_(e,this,"right")}}),this};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(l,"drag","D:/H5DS/h5ds-edit/src/utils/control.js")}()},function(e,t){e.exports=require("babel-runtime/core-js/array/from")},function(e,t){e.exports=require("lodash/cloneDeep")},function(e,t){e.exports=require("dayjs")},function(e,t){e.exports=require("lodash/debounce")},function(e,t){e.exports=require("lodash/isObject")},function(e,t){e.exports=require("lodash/throttle")},function(e,t){e.exports=require("lodash/uniq")},function(e,t,a){"use strict";$.helps=function(e){var t={data:[]},a=$.extend(t,e);$(".h5ds-helps")[0]||$("body").append('\n        <div class="h5ds-helps">\n            <div class="h5ds-helps-content">\n                <a class="h5ds-helps-close"><i class="h5ds-ico h5ds-ico-close"></i></a>\n                <div class="h5ds-helps-info"></div>\n                <div class="h5ds-helps-btns">\n                    <a class="h5ds-helps-prev">上一步</a>\n                    <a class="h5ds-helps-next">下一步</a>\n                    <a class="h5ds-helps-end">完成</a>\n                </div>\n            </div>\n        </div>\n        ');var n=$(".h5ds-helps"),r=n.find(".h5ds-helps-content"),i=function(e){0===e?($(".h5ds-helps-prev").hide(),$(".h5ds-helps-next").show(),$(".h5ds-helps-end").hide()):e===a.data.length-1?($(".h5ds-helps-next").hide(),$(".h5ds-helps-end").show(),$(".h5ds-helps-prev").show()):($(".h5ds-helps-end").hide(),$(".h5ds-helps-next").show(),$(".h5ds-helps-prev").show());var t=a.data[e],i=$(t.dom),s={transfrom:i.css("transfrom"),width:i.outerWidth(),height:i.outerHeight(),left:i.offset().left,top:i.offset().top};n.css(s),r.removeClass().addClass("h5ds-helps-content h5ds-helps-"+t.pos),n.find(".h5ds-helps-info").html(t?t.content:"")},s=0;i(s),1===a.data.length&&($(".h5ds-helps-next").hide(),$(".h5ds-helps-end").show()),n.on("click",".h5ds-helps-next",function(){++s<a.data.length&&i(s)}),n.on("click",".h5ds-helps-prev",function(){--s>=0&&i(s)}),n.on("click",".h5ds-helps-close, .h5ds-helps-end",function(){n.off("click"),n.remove()})}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={img:y.default,etext:h.default,combin:f.default};return e.forEach(function(e){t[e.type]=(0,l.default)(t[e.type]||{},e)}),t}function i(e,t){var a=r(t),n={props:{layerfun:{layersSet:a,pageToHTML:null}}};return n.props.layerfun.pageToHTML=g.pageToHTML.bind(n),(0,T.toAppHtml)(e,g.pageToHTML.bind(n),a)}function s(e,t){if(e){var a=r(t),n={props:{layerfun:{layersSet:a,pageToHTML:null}}};return n.props.layerfun.pageToHTML=g.pageToHTML.bind(n),A.default.layerfun.layersSet=a,(0,v.renderToStaticMarkup)(c.default.createElement(u.Provider,A.default,c.default.createElement("div",null,g.pageToHTML.bind(n)(e,{isPhoneView:!1,isMinPage:!1,isView:!1}))))}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(18),l=n(o);t.appDataToHTML=i,t.pageDataToHTML=s;var u=a(6),d=a(2),c=n(d),_=a(47),f=n(_),p=a(60),h=n(p),m=a(66),y=n(m),g=a(67),v=a(68),E=a(53),A=n(E),T=a(54);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"getLayersSet","D:/H5DS/h5ds-edit/src/core/otherApi.js"),__REACT_HOT_LOADER__.register(i,"appDataToHTML","D:/H5DS/h5ds-edit/src/core/otherApi.js"),__REACT_HOT_LOADER__.register(s,"pageDataToHTML","D:/H5DS/h5ds-edit/src/core/otherApi.js"))}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a,n){return l.default.createElement("div",{className:"layer-combinbox"},e?a.pageToHTML(e,n):null)}Object.defineProperty(t,"__esModule",{value:!0}),t.Origindata=void 0;var i=a(0),s=n(i);t.layerdom=r;var o=a(2),l=n(o),u=t.Origindata=function e(){(0,s.default)(this,e),this.id=null,this.name="合并层",this.animate=[],this.layers=[],this.estyle={},this.originstyle={width:0,height:0},this.style={width:0,height:0,top:0,left:0},this.type="combin",this.color="",this.ue={}};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"layerdom","D:/H5DS/h5ds-edit/src/core/layers/combin/layer.jsx"),__REACT_HOT_LOADER__.register(u,"Origindata","D:/H5DS/h5ds-edit/src/core/layers/combin/layer.jsx"))}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(20),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(107);var g=a(2),v=n(g),E=a(8),A=a(6),T=a(48),O=n(T),R=a(7),C=a(126),b=n(C),D=a(127),L=n(D),k=(r=(0,A.inject)("app"))(i=(0,A.observer)(i=function(e){function t(e){(0,c.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return a.changeColor=function(){return a.__changeColor__REACT_HOT_LOADER__.apply(a,arguments)},a.backGroundChange=function(){return a.__backGroundChange__REACT_HOT_LOADER__.apply(a,arguments)},a.changeText=R.util.debounce(function(e,t){(0,E.transaction)(function(){var n=a.props.layer.layers[t],r=$("#"+n.eid+"_phoneview").find(".layer-etext-auto");n.style.height=r.height(),n.data.data=e.target.value,a.props.app.edata.keys=R.util.randomID(),$(document).trigger("h5ds.setHistory")})},100),a.setEdit=function(){return a.__setEdit__REACT_HOT_LOADER__.apply(a,arguments)},a.delLayer=function(){return a.__delLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.setImageLayer=function(){return a.__setImageLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.state={layer:(0,E.toJS)(e.layer)},a.eventId=R.util.randomID(),a}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__changeColor__REACT_HOT_LOADER__",value:function(e){var t=this;(0,E.transaction)(function(){t.props.layer.estyle.backgroundColor=e.color,t.props.app.edata.keys=R.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__backGroundChange__REACT_HOT_LOADER__",value:function(e){var t=this.props.app.edata,a=this.props.layer;(0,E.transaction)(function(){for(var n in e)void 0===a.estyle[n]?(0,E.extendObservable)(a.estyle,(0,o.default)({},n,e[n])):a.estyle[n]=e[n];t.keys=R.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__setEdit__REACT_HOT_LOADER__",value:function(e,t){var a=this,n=null;switch(e.type){case"etext":n=v.default.createElement("div",{className:"h5ds-combin-item"},v.default.createElement(b.default,{onChange:function(e){return a.changeText(e,t)},className:"h5ds-combin-etext",html:e.data.data}));break;case"img":n=v.default.createElement("div",{className:"h5ds-combin-item"},v.default.createElement(L.default,{layer:e,setLayer:function(e){return a.setImageLayer(e,t)},delLayer:function(){return a.delLayer(t)}}))}return n}},{key:"__delLayer__REACT_HOT_LOADER__",value:function(e){var t=this;(0,E.transaction)(function(){t.props.layer.layers.splice(e,1),t.props.app.edata.keys=R.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__setImageLayer__REACT_HOT_LOADER__",value:function(e,t){var a=this;(0,E.transaction)(function(){a.props.layer.layers[t].data.crop=e.crop,a.props.layer.layers[t].data.src=e.src,a.props.app.edata.keys=R.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"render",value:function(){var e=this,t=this.props.layer;return v.default.createElement("div",{className:"h5ds-exlayer-combin"},v.default.createElement("div",{className:"h5ds-layer-combin-set"},v.default.createElement("div",{className:"h5ds-combin-titles"},"修改合并图层中的子图层"),t.layers.map(function(t,a){return v.default.createElement("div",{key:a},e.setEdit(t,a))})),v.default.createElement(O.default,{title:"图层背景:",uploadSet:this.props.layerfun.uploadBase64,onChange:this.backGroundChange,data:t.estyle}))}}]),t}(g.Component))||i)||i;t.default=k;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(k,"CombinEditor","D:/H5DS/h5ds-edit/src/core/layers/combin/CombinEditor.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(49),i=n(r),s=a(20),o=n(s),l=a(9),u=n(l),d=a(3),c=n(d),_=a(0),f=n(_),p=a(1),h=n(p),m=a(4),y=n(m),g=a(5),v=n(g);a(50),a(109);var E=a(2),A=n(E),T=a(32),O=n(T),R=a(118),C=n(R),b=a(10),D=a(7),L=function(e){function t(e){(0,f.default)(this,t);var a=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));a.onChange=function(){return a.__onChange__REACT_HOT_LOADER__.apply(a,arguments)},a.onCropOk=function(){return a.__onCropOk__REACT_HOT_LOADER__.apply(a,arguments)},a.showSourceImgs=function(){return a.__showSourceImgs__REACT_HOT_LOADER__.apply(a,arguments)},a.sliderDo=function(){return a.__sliderDo__REACT_HOT_LOADER__.apply(a,arguments)},a.changeColor=function(){return a.__changeColor__REACT_HOT_LOADER__.apply(a,arguments)};var n=e.data||{},r=n.backgroundColor,i=void 0===r?"rgba(255,255,255,1)":r,s=n.backgroundImage,o=void 0===s?"":s,l=n.backgroundImageCrop,u=void 0===l?"{}":l,d=n.backgroundRepeat,_=void 0===d?"no-repeat":d,p=n.backgroundSize,h=void 0===p?"initial":p;return i=D.util.toRgba(i),a.state={backgroundColor:D.util.toRgba(i),backgroundRepeat:_,backgroundImageCrop:u,backgroundSize:h,backgroundImage:o},a.eventId=D.util.randomID(),a}return(0,v.default)(t,e),(0,h.default)(t,[{key:"__onChange__REACT_HOT_LOADER__",value:function(){this.props.onChange&&this.props.onChange((0,u.default)({},this.state))}},{key:"__onCropOk__REACT_HOT_LOADER__",value:function(e){var t=this,a=this.props.uploadSet;if(!e.src)return void this.setState({backgroundImage:""},this.onChange);a&&$.ajax({type:"post",url:a.action,headers:(0,u.default)({},a.headers),data:{content:e.base64.split(",")[1]}}).done(function(e){e.path&&t.setState({backgroundImage:"url("+e.path+")"},t.onChange)})}},{key:"__showSourceImgs__REACT_HOT_LOADER__",value:function(){$(document).trigger("h5ds.showImgSource",this.eventId)}},{key:"__sliderDo__REACT_HOT_LOADER__",value:function(e,t){this.setState((0,o.default)({},t,e),this.onChange)}},{key:"__changeColor__REACT_HOT_LOADER__",value:function(e){var t=e.rgb,a=t.r,n=t.g,r=t.b,i=t.a;this.setState({backgroundColor:"rgba("+a+","+n+","+r+","+i+")"},this.onChange)}},{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.selectImage."+this.eventId,function(t,a){e.setState({backgroundImage:"url("+a.url+")"},e.onChange)})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.selectImage."+this.eventId)}},{key:"render",value:function(){var e=this,t=i.default.Group,a=i.default.Button,n=this.state,r=n.backgroundColor,s=n.backgroundRepeat,o=n.backgroundImage,l=n.backgroundSize,u=this.props,d=u.title,c=void 0===d?"页面背景:":d,_=u.colorTitle,f=void 0===_?"背景颜色:":_;return A.default.createElement("div",{className:"h5ds-util-background"},A.default.createElement("h1",{className:"h5ds-util-background-title"},c),A.default.createElement("div",{className:"h5ds-util-background-img"},A.default.createElement(O.default,{cropSet:{},onClickNullImage:this.showSourceImgs,onChangeImage:this.showSourceImgs,onCropBase64:this.onCropOk,src:D.util.getBackGroundImageUrl(o)})),A.default.createElement(b.SetItem,{name:"背景模式:"},A.default.createElement(t,{size:"small",onChange:function(t){return e.sliderDo(t.target.value,"backgroundRepeat")},value:s},A.default.createElement(a,{value:"no-repeat"},"默认"),A.default.createElement(a,{value:"repeat-x"},"X平铺"),A.default.createElement(a,{value:"repeat-y"},"Y平铺"),A.default.createElement(a,{value:"repeat"},"平铺"))),A.default.createElement(b.SetItem,{name:"背景尺寸:"},A.default.createElement(t,{size:"small",onChange:function(t){return e.sliderDo(t.target.value,"backgroundSize")},value:l},A.default.createElement(a,{value:"initial"},"默认"),A.default.createElement(a,{value:"contain"},"适配"),A.default.createElement(a,{value:"100% 100%"},"拉伸"))),A.default.createElement(C.default,{title:f,color:r,onChange:this.changeColor}))}}]),t}(E.Component);t.default=L;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(L,"BackGround","D:/H5DS/h5ds-edit/src/core/common/background/BackGround.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(51),i=n(r),s=a(52),o=n(s),l=a(18),u=n(l),d=a(9),c=n(d),_=a(30),f=n(_),p=a(3),h=n(p),m=a(0),y=n(m),g=a(1),v=n(g),E=a(4),A=n(E),T=a(5),O=n(T);a(111);var R=a(2),C=n(R),b=a(112),D=n(b),L=a(7),k=function(e){function t(e){(0,y.default)(this,t);var a=(0,A.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));a._countViewSet=function(){return a.___countViewSet__REACT_HOT_LOADER__.apply(a,arguments)},a.initImage=function(){return a.__initImage__REACT_HOT_LOADER__.apply(a,arguments)},a._countCropData=function(){return a.___countCropData__REACT_HOT_LOADER__.apply(a,arguments)},a.onCropBase64=function(){return a.__onCropBase64__REACT_HOT_LOADER__.apply(a,arguments)},a.onCropEnd=function(){return a.__onCropEnd__REACT_HOT_LOADER__.apply(a,arguments)},a.onCropTick=function(){return a.__onCropTick__REACT_HOT_LOADER__.apply(a,arguments)},a.onCropOk=function(){return a.__onCropOk__REACT_HOT_LOADER__.apply(a,arguments)},a.delImage=function(){return a.__delImage__REACT_HOT_LOADER__.apply(a,arguments)};var n=e.cropSet||{},r=n.width,i=void 0===r?0:r,s=n.height,o=void 0===s?0:s,l=n.top,u=void 0===l?0:l,d=n.left,c=void 0===d?0:d;return a.state={src:e.src,delbtn:void 0===e.delbtn||e.delbtn,width:i,height:o,top:0,left:0,boxWidth:0,boxHeight:0,naturalWidth:0,naturalHeight:0,cropLeft:c,cropTop:u,cropWidth:i,cropHeight:o},a}return(0,O.default)(t,e),(0,v.default)(t,[{key:"___countViewSet__REACT_HOT_LOADER__",value:function(e){var t=e.cropLeft,a=e.cropTop,n=e.cropWidth,r=e.cropHeight,i=e.naturalHeight,s=e.naturalWidth,o=e.boxWidth,l=e.boxHeight,u=s/(o||1)||1,d=i/(l||1)||1;return{top:a/d,left:t/u,width:n/u,height:r/d}}},{key:"__initImage__REACT_HOT_LOADER__",value:function(e,t){var a=this;return new f.default(function(n,r){e?L.util.imgLazy(e).then(function(){var e=t.cropTop,r=t.cropLeft,i=t.cropWidth,s=t.cropHeight,o=$(a.imgRef);if(!a.imgRef)return void n();t.boxWidth=o.width(),t.boxHeight=o.height(),t.naturalHeight=o[0].naturalHeight,t.naturalWidth=o[0].naturalWidth,e||(t.cropTop=0),r||(t.cropLeft=0),i||(t.cropWidth=t.naturalWidth),s||(t.cropHeight=t.naturalHeight);var l=a._countViewSet(t),u=l.top,d=l.left,_=l.width,f=l.height;a.setState((0,c.default)({top:u,left:d,width:_,height:f},t),n)}):r()})}},{key:"___countCropData__REACT_HOT_LOADER__",value:function(e){var t=e.top,a=e.left,n=e.width,r=e.height,i=e.boxWidth,s=e.boxHeight,o=e.naturalHeight,l=e.naturalWidth,d=l/(i||1),c=o/(s||1),_=t*c,f=a*d,p=n*d,h=r*c;return(0,u.default)(e,{cropTop:_,cropLeft:f,cropWidth:p,cropHeight:h})}},{key:"__onCropBase64__REACT_HOT_LOADER__",value:function(){var e=this,t=this.state,a=t.src,n=t.cropLeft,r=t.cropTop,i=t.cropWidth,s=t.cropHeight;return a?L.util.getBase64(a,{width:i,height:s,x:n,y:r}).then(function(t){e.props.onCropBase64&&e.props.onCropBase64((0,c.default)({base64:t},e.state))}):void(this.props.onCropBase64&&this.props.onCropBase64((0,c.default)({base64:""},this.state)))}},{key:"__onCropEnd__REACT_HOT_LOADER__",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._countCropData((0,u.default)(this.state,e));this.props.onCropEnd&&this.props.onCropEnd(t)}},{key:"__onCropTick__REACT_HOT_LOADER__",value:function(e){this.props.onCropTick&&this.props.onCropTick(e)}},{key:"__onCropOk__REACT_HOT_LOADER__",value:function(){var e=this.state,t=e.top,a=e.left,n=e.naturalWidth,r=e.naturalHeight,i=e.cropTop,s=e.cropLeft,o=e.cropHeight,l=e.cropWidth;this.props.onCropOk&&this.props.onCropOk((0,c.default)({},this.state)),t===i&&a===s&&n===l&&r===o||this.props.onCropBase64&&this.onCropBase64()}},{key:"__delImage__REACT_HOT_LOADER__",value:function(){var e=this;this.setState({src:""},function(){e.props.onCropOk&&e.props.onCropOk(),e.props.onCropBase64&&e.onCropBase64()})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;e.src&&e.src!==this.props.src&&this.setState({src:e.src},function(){L.util.imgLazy(e.src).then(function(){var a=(0,o.default)(i.default.mark(function a(n){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!n){a.next=4;break}return a.next=3,t.initImage(e.src,{cropLeft:0,cropTop:0,cropWidth:n.naturalWidth,cropHeight:n.naturalHeight});case 3:t.onCropOk();case 4:case"end":return a.stop()}},a,t)}));return function(e){return a.apply(this,arguments)}}())})}},{key:"componentDidMount",value:function(){var e=this.props.cropSet||{},t=e.left,a=e.top,n=e.width,r=e.height;this.props.src&&this.initImage(this.props.src,{cropLeft:t,cropTop:a,cropWidth:n,cropHeight:r})}},{key:"render",value:function(){var e=this,t=this.state,a=t.src,n=t.width,r=t.height,i=t.boxWidth,s=t.boxHeight,o=t.top,l=t.left,u=t.delbtn;return a?C.default.createElement("div",{className:"h5ds-util-cropimage"},C.default.createElement("div",{className:"h5ds-util-cropimage-imgbox"},C.default.createElement(D.default,(0,c.default)({onCropEnd:this.onCropEnd},{width:n,height:r,top:o,left:l,boxWidth:i,boxHeight:s})),C.default.createElement("img",{ref:function(t){return e.imgRef=t},src:a,alt:"",style:{clipPath:"none"}})),C.default.createElement("div",{className:"h5ds-util-cropimage-btns"},C.default.createElement("a",{onClick:this.props.onChangeImage},C.default.createElement("i",{className:"h5ds-ico h5ds-ico-icoreset"})," 换图"),u?C.default.createElement("a",{onClick:this.delImage},C.default.createElement("i",{className:"h5ds-ico h5ds-ico-icodel"})," 删除"):null,C.default.createElement("a",{onClick:this.resetCrop},C.default.createElement("i",{className:"h5ds-ico h5ds-ico-icoinit"})," 重置"),C.default.createElement("a",{onClick:this.onCropOk},C.default.createElement("i",{className:"h5ds-ico h5ds-ico-icocrop"})," 裁剪"))):C.default.createElement("div",{className:"h5ds-util-cropimage-nullimg",onClick:this.props.onClickNullImage},"选择图片")}}]),t}(R.Component);t.default=k;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(k,"CropImage","D:/H5DS/h5ds-edit/src/core/common/cropImage/CropImage.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(9),i=n(r),s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p),m=a(2),y=n(m),g=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));a.cropTick=function(){return a.__cropTick__REACT_HOT_LOADER__.apply(a,arguments)},a.cropEnd=function(){return a.__cropEnd__REACT_HOT_LOADER__.apply(a,arguments)},a.mousedownDrag=function(){return a.__mousedownDrag__REACT_HOT_LOADER__.apply(a,arguments)},a.mousedownZoom=function(){return a.__mousedownZoom__REACT_HOT_LOADER__.apply(a,arguments)},a.set={dashFill:"#f04e00",fill:"#f04e00",bgFill:"rgba(0,0,0, 0.2)",dotSize:10};var n=e.boxWidth,r=e.boxHeight;return a.state={width:e.width||n,height:e.height||r,top:e.top||0,left:e.left||0,boxWidth:n,boxHeight:r},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__cropTick__REACT_HOT_LOADER__",value:function(){this.props.onCropTick&&this.props.onCropTick((0,i.default)({},this.state))}},{key:"__cropEnd__REACT_HOT_LOADER__",value:function(){this.props.onCropEnd&&this.props.onCropEnd((0,i.default)({},this.state))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.width,a=e.height,n=e.top,r=e.left,i=e.boxWidth,s=e.boxHeight;this.setState({width:t,height:a,top:n,left:r,boxWidth:i,boxHeight:s})}},{key:"__mousedownDrag__REACT_HOT_LOADER__",value:function(e){var t=this,a={left:e.pageX-this.state.left,top:e.pageY-this.state.top},n=this.state,r=n.width,i=n.height,s=n.boxHeight,o=n.boxWidth;$(document).on("mousemove.h5ds.cropControl.drag",function(e){var n=e.pageX-a.left,l=e.pageY-a.top;l+i>s?l=s-i:l<0&&(l=0),n+r>o?n=o-r:n<0&&(n=0),t.setState({top:l,left:n},t.cropTick)}).on("mouseup.h5ds.cropControl.drag",function(){$(document).off("mousemove.h5ds.cropControl.drag"),$(document).off("mouseup.h5ds.cropControl.drag"),t.cropEnd()})}},{key:"__mousedownZoom__REACT_HOT_LOADER__",value:function(e,t){var a=this,n={x:e.pageX,y:e.pageY},r=this.state,i=r.left,s=r.top,o=r.width,l=r.height,u=r.boxHeight,d=r.boxWidth,c=o,_=l,f=s,p=i;$(document).on("mousemove.h5ds.cropControl.zoom",function(e){var r={x:e.pageX-n.x,y:e.pageY-n.y};"topleft"==t?(c=o-r.x,_=l-r.y,p=i+r.x,f=s+l-_):"topright"==t?(c=o+r.x,_=l-r.y,f=s+l-_):"bottomleft"==t?(c=o-r.x,_=l+r.y,p=i+r.x):"bottomright"==t&&(c=o+r.x,_=l+r.y),_<0?_=0:_>u&&(_=u),c<0?c=0:c>d&&(c=d),f<0&&(f=0),p<0&&(p=0),a.setState({left:p,top:f,width:c,height:_},a.cropTick)}).on("mouseup.h5ds.cropControl.zoom",function(){$(document).off("mousemove.h5ds.cropControl.zoom"),$(document).off("mouseup.h5ds.cropControl.zoom"),a.cropEnd()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.top,n=t.left,r=t.width,i=t.height,s=t.boxHeight,o=t.boxWidth,l=this.set,u=l.dashFill,d=l.fill,c=l.bgFill,_=l.dotSize,f=[{x:0,y:0,width:_,height:_,type:"topleft"},{x:r,y:0,width:_,height:_,type:"topright"},{x:r,y:i,width:_,height:_,type:"bottomright"},{x:0,y:i,width:_,height:_,type:"bottomleft"}];return y.default.createElement("div",{className:"h5ds-recrop-control",style:{width:o,height:s}},y.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:o,height:s},y.default.createElement("g",{style:{transform:"translate("+n+"px, "+a+"px)"}},y.default.createElement("polygon",{onMouseDown:this.mousedownDrag,style:{fill:c,stroke:u,strokeDasharray:"3,3",strokeWidth:.5},points:"0,0 "+r+",0 "+r+","+i+" 0,"+i}),f.map(function(t,a){return y.default.createElement("rect",{key:a,x:t.x,y:t.y,width:t.width,height:t.height,onMouseDown:function(a){return e.mousedownZoom(a,t.type)},style:{transform:"translate(-"+t.width/2+"px, -"+t.height/2+"px)",fill:d}})}))))}}]),t}(m.Component);t.default=g;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(g,"CropControl","D:/H5DS/h5ds-edit/src/core/common/cropImage/CropControl.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.csstool=void 0;var r=a(0),i=n(r),s=a(1),o=n(s),l=a(45),u=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"getBorder",value:function(e){if(e&&"none"!==e){var t=e.split(" ");return{size:parseInt(t[0],10),type:t[1],color:l.util.toRgba(e.replace(/.+(rgba.+)/,"$1"))}}return{size:null,type:null,color:null}}},{key:"setBorder",value:function(e,t){var a=this.getBorder(e),n=a.size,r=a.type,i=a.color;return l.util.isEmpty(t.size)||(n=t.size),l.util.isEmpty(t.type)||(r=t.type),l.util.isEmpty(t.color)||(i=l.util.toRgba(t.color)),n+"px "+r+" "+i}},{key:"getBoxshadow",value:function(e){var t=null,a=null;if(e&&"none"!==e){var n=e.split(" ");t=parseInt(n[2],10),a=l.util.toRgba(e.replace(/.+(rgba.+)/,"$1"))}return{size:t,color:a}}},{key:"setBoxshadow",value:function(e,t){var a=this.getBoxshadow(e),n=a.size,r=a.color;return l.util.isEmpty(t.size)||(n=t.size),l.util.isEmpty(t.color)||(r=l.util.toRgba(t.color)),"0 0 "+n+"px "+r}},{key:"getAnimation",value:function(e){var t=null,a=null,n=null,r=null,i=null,s=null,o=null,u=null;if(e&&"none"!==e){var d=e.split(" ");t=d[0],a=l.util.toFixed(d[1],1),n=d[2],r=l.util.toFixed(d[3],1),i=parseInt(d[4],10),s=d[5]||"normal",o=d[6]||"forwards",u=d[7]||"running"}return{name:t,duration:a,timing:n,delay:r,count:i,direction:s,fillMode:o,playState:u}}},{key:"setAnimation",value:function(e,t){var a=this.getAnimation(e),n=a.name,r=a.duration,i=a.timing,s=a.delay,o=a.count,u=a.direction,d=a.fillMode,c=a.playState;return l.util.isEmpty(t.name)||(n=t.name),l.util.isEmpty(t.duration)||(r=t.duration),l.util.isEmpty(t.timing)||(i=t.timing),l.util.isEmpty(t.delay)||(s=t.delay),l.util.isEmpty(t.count)||(o=parseInt(t.count,10)),l.util.isEmpty(t.direction)||(u=t.direction),l.util.isEmpty(t.fillMode)||(d=t.fillMode),l.util.isEmpty(t.playState)||(c=t.playState),n+" "+l.util.toFixed(r,1)+"s "+i+" "+l.util.toFixed(s,1)+"s "+o+" "+u+" "+d+" "+c}},{key:"getTransformVal",value:function(e,t){var a=null;if(-1!==e.indexOf(t)){var n=RegExp(".*"+t+"\\((.+?)\\).*");a=e.replace(n,"$1")}return l.util.toFixed(a,2)}},{key:"getTransform",value:function(e){var t=null,a=null,n=null,r=null;return e&&"none"!==e&&(t=this.getTransformVal(e,"rotate"),a=this.getTransformVal(e,"translate"),n=this.getTransformVal(e,"scale"),r=this.getTransformVal(e,"skew")),{rotate:parseInt(t||0,10),translate:a,scale:parseFloat(n||1),skew:r}}},{key:"setTransform",value:function(e,t){var a=this.getTransform(e),n=a.rotate,r=a.translate,i=a.scale,s=a.skew;l.util.isEmpty(t.rotate)||(n=parseFloat(t.rotate)),l.util.isEmpty(t.translate)||(r=parseFloat(t.translate)),l.util.isEmpty(t.scale)||(i=parseFloat(t.scale)),l.util.isEmpty(t.skew)||(s=t.skew);var o=[];return l.util.isEmpty(n)||o.push("rotate("+n+"deg)"),l.util.isEmpty(r)||o.push("translate("+r+")"),l.util.isEmpty(i)||o.push("scale("+i+")"),l.util.isEmpty(s)||o.push("skew("+s+")"),o.join(" ")}},{key:"resetTransform",value:function(e,t){try{var a=[];for(var n in t)a.push(n+"("+t[n]+")");a=a.join(" "),e.css({"-webkit-transform":a,transform:a})}catch(e){}}}]),e}(),d=t.csstool=new u;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(u,"CssTool","D:/H5DS/h5ds-edit/src/utils/cssTool.js"),__REACT_HOT_LOADER__.register(d,"csstool","D:/H5DS/h5ds-edit/src/utils/cssTool.js"))}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mixins=void 0;var r=a(0),i=n(r),s=a(1),o=n(s),l=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"onScroll",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}]),e}(),u=t.mixins=new l;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"Mixins","D:/H5DS/h5ds-edit/src/utils/mixins.js"),__REACT_HOT_LOADER__.register(u,"mixins","D:/H5DS/h5ds-edit/src/utils/mixins.js"))}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.storage=void 0;var r=a(116),i=n(r),s=a(14),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(117),f=n(_),p=function(){function e(t){(0,u.default)(this,e),this.storage=t}return(0,c.default)(e,[{key:"get",value:function(e){try{var t=this.storage.getItem(e);return JSON.parse(t)}catch(e){}return null}},{key:"set",value:function(e,t){return this.storage.setItem(e,(0,o.default)(t))}},{key:"remove",value:function(e){return this.storage.removeItem(e)}},{key:"clear",value:function(){return this.storage.clear()}}]),e}(),h=function(){function e(){(0,u.default)(this,e),this.dataMap=new i.default}return(0,c.default)(e,[{key:"get",value:function(e){return this.dataMap.get(e)}},{key:"set",value:function(e,t){return this.dataMap.set(e,t)}},{key:"remove",value:function(e){return this.dataMap.delete(e)}},{key:"clear",value:function(){return this.dataMap.clear()}}]),e}(),m=function(){function e(){(0,u.default)(this,e)}return(0,c.default)(e,[{key:"get",value:function(e){return this.dataMap.get(e)}},{key:"set",value:function(e,t){return this.dataMap.set(e,t)}},{key:"remove",value:function(e){return this.dataMap.delete(e)}},{key:"clear",value:function(){return this.dataMap.clear()}}]),e}(),y=function(){function e(t){(0,u.default)(this,e),this.storage=f.default.createInstance({name:"h5ds",driver:t})}return(0,c.default)(e,[{key:"getAsync",value:function(e,t){return this.storage.config({storeName:e}),this.storage.getItem(t)}},{key:"setAsync",value:function(e,t,a){return this.storage.config({storeName:e}),this.storage.setItem(t,a)}},{key:"removeAsync",value:function(e,t){return this.storage.config({storeName:e}),this.storage.removeItem(t)}},{key:"clearAsync",value:function(e){return f.default.dropInstance({name:"h5ds",storeName:e})}}]),e}(),g=t.storage={local:new p(window.localStorage),session:new p(window.sessionStorage),memory:new h,cookie:new m,indexed:new y(f.default.INDEXEDDB),websql:new y(f.default.WEBSQL)};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"WebStorage","D:/H5DS/h5ds-edit/src/utils/storage.js"),__REACT_HOT_LOADER__.register(h,"MemoryStorage","D:/H5DS/h5ds-edit/src/utils/storage.js"),__REACT_HOT_LOADER__.register(m,"CookieStorage","D:/H5DS/h5ds-edit/src/utils/storage.js"),__REACT_HOT_LOADER__.register(y,"DBStorage","D:/H5DS/h5ds-edit/src/utils/storage.js"),__REACT_HOT_LOADER__.register(g,"storage","D:/H5DS/h5ds-edit/src/utils/storage.js"))}()},function(e,t){e.exports=require("babel-runtime/core-js/map")},function(e,t){e.exports=require("localforage")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(3),i=n(r),s=a(0),o=n(s),l=a(1),u=n(l),d=a(4),c=n(d),_=a(5),f=n(_);a(119);var p=a(2),h=n(p),m=a(24),y=n(m),g=a(10),v=a(31),E=n(v),A=function(e){function t(e){(0,o.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));a.filterColor=function(){return a.__filterColor__REACT_HOT_LOADER__.apply(a,arguments)},a.setColor=function(){return a.__setColor__REACT_HOT_LOADER__.apply(a,arguments)};var n=e.color;return a.state={color:a.filterColor(n)},a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__filterColor__REACT_HOT_LOADER__",value:function(e){if(e){var t=(0,E.default)(e),a=t.getAlpha();e=t.setAlpha(a).toRgbString()}else e="rgba(0,0,0,0)";return e}},{key:"__setColor__REACT_HOT_LOADER__",value:function(e){var t=e.rgb,a=t.r,n=t.g,r=t.b,i=t.a;this.setState({color:"rgba("+a+","+n+","+r+","+i+")"}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this.state.color,t=this.props.title;return h.default.createElement("div",{className:"h5ds-util-bgcolor"},h.default.createElement(g.SetItem,{name:t||"背景底色"},h.default.createElement(y.default,{onChange:this.setColor,color:e})))}}]),t}(p.Component);t.default=A;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(A,"SetColor","D:/H5DS/h5ds-edit/src/core/common/bgcolor/SetColor.jsx")}();e.exports=t.default},function(e,t){},function(e,t){},function(e,t){e.exports=require("react-color")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(3),i=n(r),s=a(0),o=n(s),l=a(1),u=n(l),d=a(4),c=n(d),_=a(5),f=n(_);a(123);var p=a(2),h=n(p),m=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.span,n=void 0===a?1:a,r=["h5ds-layout-setgrid","h5ds-layout-setgrid-"+n];return h.default.createElement("div",{className:r.join(" ")},t)}}]),t}(p.Component);t.default=m;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(m,"SetGrid","D:/H5DS/h5ds-edit/src/core/common/layout/SetGrid.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(3),i=n(r),s=a(0),o=n(s),l=a(1),u=n(l),d=a(4),c=n(d),_=a(5),f=n(_);a(125);var p=a(2),h=n(p),m=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.children,n=e.className,r=void 0===n?"":n;return h.default.createElement("div",{className:"h5ds-layout-setitem "+r},h.default.createElement("div",{className:"h5ds-layout-setitem-name"},t),h.default.createElement("div",{className:"h5ds-layout-setitem-content"},a))}}]),t}(p.Component);t.default=m;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(m,"SetItem","D:/H5DS/h5ds-edit/src/core/common/layout/SetItem.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(3),i=n(r),s=a(0),o=n(s),l=a(1),u=n(l),d=a(4),c=n(d),_=a(5),f=n(_),p=a(2),h=n(p),m=function(e){function t(){var e,a,n,r;(0,o.default)(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.emitChange=function(){var e;return(e=n).__emitChange__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,c.default)(n,r)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__emitChange__REACT_HOT_LOADER__",value:function(){var e=this.dom.innerHTML;this.props.onChange&&e!==this.lastHtml&&this.props.onChange({target:{value:e}}),this.lastHtml=e}},{key:"shouldComponentUpdate",value:function(e){return e.html!==this.dom.innerHTML}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.html;return h.default.createElement("div",{ref:function(t){return e.dom=t},className:a||"",onInput:this.emitChange,onBlur:this.emitChange,contentEditable:!0,dangerouslySetInnerHTML:{__html:n}})}}]),t}(p.Component);t.default=m;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(m,"CombinEditor","D:/H5DS/h5ds-edit/src/core/layers/combin/ContentEditable.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(14),i=n(r),s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p),m=a(2),y=n(m),g=a(32),v=n(g),E=a(7),A=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));a.setLayer=function(){return a.__setLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.showSourceImgs=function(){return a.__showSourceImgs__REACT_HOT_LOADER__.apply(a,arguments)},a.onCropOk=function(){return a.__onCropOk__REACT_HOT_LOADER__.apply(a,arguments)};var n={};try{n=JSON.parse(e.layer.data.crop)}catch(e){}return a.state={src:e.layer.data.src,crop:n},a.eventId=E.util.randomID(),a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__setLayer__REACT_HOT_LOADER__",value:function(){this.props.setLayer&&this.props.setLayer({src:this.state.src,crop:(0,i.default)(this.state.crop)})}},{key:"__showSourceImgs__REACT_HOT_LOADER__",value:function(){$(document).trigger("h5ds.showImgSource",this.eventId)}},{key:"__onCropOk__REACT_HOT_LOADER__",value:function(e){if(e){var t=e.cropLeft,a=e.cropTop,n=e.cropWidth,r=e.cropHeight,i=e.naturalWidth,s=e.naturalHeight;this.setState({crop:{left:t,top:a,width:n,height:r,naturalWidth:i,naturalHeight:s}},this.setLayer)}else this.props.delLayer&&this.props.delLayer()}},{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.selectImage."+this.eventId,function(t,a){e.setState({src:a.url},e.setLayer)})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.selectImage."+this.eventId)}},{key:"render",value:function(){var e=this.state,t=e.src,a=e.crop;return y.default.createElement("div",{className:"h5ds-exlayer-img"},y.default.createElement(v.default,{cropSet:a,delbtn:!1,onClickNullImage:this.showSourceImgs,onChangeImage:this.showSourceImgs,onCropOk:this.onCropOk,src:t}))}}]),t}(m.Component);t.default=A;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(A,"ImageEditor","D:/H5DS/h5ds-edit/src/core/layers/combin/ImageEdit.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(3),i=n(r),s=a(0),o=n(s),l=a(1),u=n(l),d=a(4),c=n(d),_=a(5),f=n(_);a(129),a(130);var p=a(2),h=n(p),m=a(8),y=a(131),g=n(y),v=a(7),E=function(e){function t(e){(0,o.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.dbclickEvent=function(){return a.__dbclickEvent__REACT_HOT_LOADER__.apply(a,arguments)},a.scaleEvent=function(){return a.__scaleEvent__REACT_HOT_LOADER__.apply(a,arguments)},a.state={keys:v.util.randomID()},a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"selectText",value:function(e){if(document.body.createTextRange){var t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){var a=window.getSelection(),n=document.createRange();n.selectNodeContents(e),a.removeAllRanges(),a.addRange(n)}}},{key:"__dbclickEvent__REACT_HOT_LOADER__",value:function(){var e=this;$("#h5dsCanvas").on("dblclick.etexteditor",".h5ds-control",function(t){e.control=$(t.target),e.control.css("z-index","-1"),e.editAuto=$("#"+e.props.layer.eid+"_phoneview").find(".layer-etext-auto"),e.editAuto.html(e.props.layer.data.data),e.editAuto.attr("contenteditable","true"),e.selectText(e.editAuto[0]),e.editAuto.off("input").on("input",function(t){t.stopPropagation();var a=$(t.target);(0,m.transaction)(function(){e.props.layer.style.height=a.height(),$(document).trigger("h5ds.setHistory")})}),e.editAuto.off("paste").on("paste",function(e){e.preventDefault();var t=e.originalEvent.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)})})}},{key:"__scaleEvent__REACT_HOT_LOADER__",value:function(){var e=this;this.$layer=this.props.app.getLayerDom(),this.$layer.on("controlStart.h5ds.etext",function(t,a){e.startHeight=a?a.height:null,e.fontSize=parseFloat(e.props.layer.data.style.fontSize),e.layerBox=e.$layer.find(".layer-etext-auto")}),this.$layer.on("controlMove.h5ds.etext",function(t,a){if(e.moveHeight=a?a.height:null,e.startHeight&&e.moveHeight){var n=e.startHeight/e.moveHeight,r=e.fontSize/n;e.layerBox.css("font-size",parseInt(r<12?12:r,10)+"px")}}),this.$layer.on("controlEnd.h5ds.etext",function(t,a){if(a){e.endHeight=a?a.height:null;var n=e.startHeight/e.endHeight,r=e.fontSize/n;e.props.layer.data.style.fontSize=parseInt(r,10)+"px",setTimeout(function(){e.editAuto=$("#"+e.props.layer.eid+"_phoneview").find(".layer-etext-auto"),e.props.layer.style.height=e.editAuto.height(),e.editAuto=null,$(document).trigger("h5ds.setHistory")}),e.setState({keys:v.util.randomID()})}})}},{key:"componentDidMount",value:function(){this.dbclickEvent(),this.scaleEvent()}},{key:"componentWillUnmount",value:function(){$("#h5dsCanvas").off("dblclick.etexteditor"),$(document).off("click.h5ds.layer.etext.blank"),this.layerBox=null,this.editAuto&&(this.props.layer.data.data=this.editAuto.html(),this.props.layer.keyid=v.util.randomID(),this.editAuto.removeAttr("contenteditable"),this.editAuto.off("paste"),this.editAuto.off("input"),this.editAuto=null),this.control&&(this.control.removeAttr("style"),this.control=null),this.$layer&&(this.$layer.off("controlStart.h5ds.etext"),this.$layer.off("controlMove.h5ds.etext"),this.$layer.off("controlEnd.h5ds.etext"),this.$layer=null)}},{key:"render",value:function(){var e=this.state.keys;return h.default.createElement("div",{className:"h5ds-exlayer-dom"},h.default.createElement(g.default,{key:e,app:this.props.app,layer:this.props.layer}))}}]),t}(p.Component);t.default=E;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(E,"Editor","D:/H5DS/h5ds-edit/src/core/layers/etext/Editor.jsx")}();e.exports=t.default},function(e,t){},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s,o=a(51),l=n(o),u=a(52),d=n(u),c=a(132),_=n(c),f=a(133),p=n(f),h=a(25),m=n(h),y=a(16),g=n(y),v=a(33),E=n(v),A=a(61),T=n(A),O=a(21),R=n(O),C=a(34),b=n(C),D=a(9),L=n(D),k=a(3),H=n(k),x=a(0),S=n(x),w=a(1),N=n(w),I=a(4),M=n(I),P=a(5),j=n(P);a(134),a(135),a(26),a(17),a(35),a(62),a(22),a(36);var z=a(2),F=n(z),W=a(10),B=a(8),G=a(63),U=a(64),V=a(23),q=n(V),Y=a(143),J=a(144),X=a(65),Q=a(145),Z=a(7),K=[{type:"3d",name:"3D",colors:["#ffab00","#67490d"]},{type:"kaTong",name:"卡通",colors:["#4e1515"]},{type:"jiaXin",name:"夹心",colors:["#bf2929","#fff"]},{type:"yinYing",name:"阴影",colors:["#3c9df3","#12e686"]},{type:"niHong",name:"霓虹",colors:["#f33c3c"]},{type:"border",name:"边框",colors:["#fff","#3c5ef3"]},{type:"cuoJue",name:"错觉",colors:["#000","#ff1dff","#4affff"]},{type:"jianBian",name:"渐变",colors:["#fff","#1d24ff","#00efff"]},{type:"qieGe",name:"切割",colors:["#9075ff","#e227b1"]},{type:"fire",name:"火焰",colors:["#F00"]},{type:"snow",name:"冰雪",colors:["#9dffff","#98e7ff"]},{type:"louKong",name:"镂空",colors:["#ff7c7c","#de0000"]}],ee=(i=r=function(e){function t(e){(0,S.default)(this,t);var a=(0,M.default)(this,(t.__proto__||(0,H.default)(t)).call(this,e));s.call(a);var n=(0,B.toJS)(e.layer.data)||{};return a.state={fontFamilySet:n.fontFamilySet,style:n.style||{},animate:n.animate,artword:n.artword||{},fontLoading:!1},a}return(0,j.default)(t,e),(0,N.default)(t,[{key:"__renderLayerAsyncFlase__REACT_HOT_LOADER__",value:function(){var e=this,t=this.state,a=t.style,n=t.animate,r=t.artword,i=t.fontFamilySet;(0,B.transaction)(function(){e.props.layer.data.fontFamilySet=(0,L.default)({},i),e.props.layer.data.style=(0,L.default)({},a),e.props.layer.data.animate=n?(0,L.default)({},n):"",e.props.layer.data.artword=r,e.calibration()})}},{key:"__calibration__REACT_HOT_LOADER__",value:function(){var e=this;setTimeout(function(){e.editAuto=$("#"+e.props.layer.eid+"_phoneview").find(".layer-etext-auto"),e.props.layer.style.height=e.editAuto.height(),$(document).trigger("h5ds.setHistory")},1)}},{key:"__setClassName__REACT_HOT_LOADER__",value:function(e){var t=["h5ds-exlayer-etext-btn"];return e&&t.push("h5ds-active"),t.join(" ")}},{key:"__fontWeight__REACT_HOT_LOADER__",value:function(){var e=this.state.style;"bold"===e.fontWeight?e.fontWeight="normal":e.fontWeight="bold",this.setState({style:e},this.renderLayer)}},{key:"__fontStyle__REACT_HOT_LOADER__",value:function(e){var t=this.state.style;t.fontStyle===e?t.fontStyle="normal":t.fontStyle=e,this.setState({style:t},this.renderLayer)}},{key:"__fontDecoration__REACT_HOT_LOADER__",value:function(e){var t=this.state.style;t.textDecoration===e?t.textDecoration="none":t.textDecoration=e,this.setState({style:t},this.renderLayer)}},{key:"__textAlign__REACT_HOT_LOADER__",value:function(e){var t=this.state.style;t.textAlign===e?t.textAlign="normal":t.textAlign=e,this.setState({style:t},this.renderLayer)}},{key:"__setFontSize__REACT_HOT_LOADER__",value:function(e){var t=this.state.style;t.fontSize=e,this.setState({style:t},this.renderLayer)}},{key:"__setFontColor__REACT_HOT_LOADER__",value:function(e){var t=e.rgb,a=t.r,n=t.g,r=t.b,i=t.a,s=this.state.style;s.color="rgba("+a+","+n+","+r+","+i+")",this.setState({style:s},this.renderLayer)}},{key:"__changeFontSpace__REACT_HOT_LOADER__",value:function(e){var t=this.state.style;t.letterSpacing=e,this.setState({style:t},this.renderLayerAsyncFlase)}},{key:"__changeFontLineHeight__REACT_HOT_LOADER__",value:function(e){var t=this.state.style;t.lineHeight=e,this.setState({style:t},this.renderLayerAsyncFlase)}},{key:"__selectAnimate__REACT_HOT_LOADER__",value:function(e){for(var t={},a=0;a<Y.animates.length;a++)if(Y.animates[a].animate===e){t=(0,L.default)({},Y.animates[a]);break}this.setState({animate:t},this.renderLayerAsyncFlase)}},{key:"__setAnimate__REACT_HOT_LOADER__",value:function(e,t){var a=this.state.animate;a[t]="fun"!==t?e+"s":e,this.setState({animate:a},this.renderLayerAsyncFlase)}},{key:"__onSwitchAnimate__REACT_HOT_LOADER__",value:function(e){var t="";e&&(t=(0,L.default)({},Y.animates[0])),this.setState({animate:t},this.renderLayer)}},{key:"__onSwitchArtWord__REACT_HOT_LOADER__",value:function(e){var t=null;t=e?(0,L.default)({},K[0]):{type:"",name:"",colors:[]},this.setState({artword:t},this.renderLayer)}},{key:"componentDidMount",value:function(){var e=this,t=this.state.style,a=t.fontFamily,n=t.fontFamilySet;this.setState({fontLoading:!0}),(0,Q.loadFont)(a).then(function(t){n="默认字体"!==t?X.fontFamilyData.filter(function(e){return e.name===t})[0]:{name:"默认字体",url:""},e.setState({fontFamilySet:n,fontLoading:!1},e.renderLayerAsyncFlase)})}},{key:"__selectArtWord__REACT_HOT_LOADER__",value:function(e){var t=this;(0,B.transaction)(function(){t.props.layer.data.artword=Z.util.cloneDeep(e),t.props.layer.keyid=Z.util.randomID(),setTimeout(function(){$(document).trigger("h5ds.iniControl")})})}},{key:"__onChangeArtWordSize__REACT_HOT_LOADER__",value:function(e){var t=this.state.artword;t.size=e,this.setState({artword:t},this.renderLayer)}},{key:"__setArtWordColor__REACT_HOT_LOADER__",value:function(e,t){var a=e.rgb,n=a.r,r=a.g,i=a.b,s=a.a,o="rgba("+n+","+r+","+i+","+s+")",l=this.state.artword;l.colors[t]=o,this.setState({artword:l},this.renderLayer)}},{key:"render",value:function(){var e=this,t=b.default.Option,a=this.state.style,n=a.fontWeight,r=void 0===n?"normal":n,i=a.textAlign,s=void 0===i?"left":i,o=a.textDecoration,l=void 0===o?"none":o,u=a.fontStyle,d=void 0===u?"normal":u,c=a.color,f=void 0===c?"rgba(0,0,0,1)":c,h=a.fontSize,y=void 0===h?"14px":h,v=a.lineHeight,A=void 0===v?1:v,O=a.letterSpacing,C=void 0===O?0:O,D=a.fontFamily,k=this.state.animate||{},H=k.animate,x=void 0===H?"bounceIn":H,S=k.time,w=void 0===S?"0s":S,N=k.delay,I=void 0===N?"0s":N,M=k.interval,P=void 0===M?"0.2s":M,$=k.fun,j=void 0===$?"ease":$,z=this.state.artword;return F.default.createElement("div",{key:this.state.keys},F.default.createElement(W.SetGrid,{className:"h5ds-exlayer-etext-btns"},F.default.createElement("a",{onClick:this.fontWeight,className:this.setClassName("bold"===r)},F.default.createElement("i",{className:"h5ds-ico h5ds-ico-bold"})),F.default.createElement("a",{onClick:function(){return e.fontStyle("italic")},className:this.setClassName("italic"===d)},F.default.createElement("i",{className:"h5ds-ico h5ds-ico-italic"})),F.default.createElement("a",{onClick:function(){return e.fontDecoration("line-through")},className:this.setClassName("line-through"===l)},F.default.createElement("i",{className:"h5ds-ico h5ds-ico-strikethrough"})),F.default.createElement("a",{onClick:function(){return e.fontDecoration("underline")},className:this.setClassName("underline"===l)},F.default.createElement("i",{className:"h5ds-ico h5ds-ico-underline"})),F.default.createElement("a",{onClick:function(){return e.textAlign("left")},className:this.setClassName("left"===s)},F.default.createElement("i",{className:"h5ds-ico h5ds-ico-alignleft"})),F.default.createElement("a",{onClick:function(){return e.textAlign("center")},className:this.setClassName("center"===s)},F.default.createElement("i",{className:"h5ds-ico h5ds-ico-aligncenter"})),F.default.createElement("a",{onClick:function(){return e.textAlign("right")},className:this.setClassName("right"===s)},F.default.createElement("i",{className:"h5ds-ico h5ds-ico-alignright"}))),F.default.createElement(W.SetItem,{name:"选择字体"},F.default.createElement(b.default,{key:D,onChange:function(t){return e.loadFontFamily(t)},size:"small",value:D||"",style:{width:120}},X.fontFamilyData.map(function(e,a){return F.default.createElement(t,{key:a,value:e.name},e.name)}))),F.default.createElement(W.SetItem,{name:"字体大小"},F.default.createElement(b.default,{key:y,onChange:this.setFontSize,size:"small",value:y||"14px",style:{width:120}},J.fontData.map(function(e){return F.default.createElement(t,{key:e,value:e+"px"},e,"px")}))),z.type?null:F.default.createElement(W.SetItem,{name:"字体颜色"},F.default.createElement(U.Colors,{onChange:this.setFontColor,color:f})),F.default.createElement(W.SetItem,{name:"艺术字"},F.default.createElement(R.default,{checked:!!z.type,onChange:this.onSwitchArtWord}),z.type?F.default.createElement("div",{className:"h5ds-artword-selects"},F.default.createElement(E.default,{placement:"left",title:"字体特效",content:F.default.createElement("div",null,K.map(function(t){return F.default.createElement("div",{onClick:function(){return e.selectArtWord(t)},style:{margin:10},key:t.type},F.default.createElement(G.Artword,(0,L.default)({},t,{style:{fontSize:24,fontWeight:"bolder"}}),t.name,"艺术字效果"))})),trigger:"click"},F.default.createElement(T.default,{size:"small",type:"primary"},z.name,"艺术字效果")),"   ",z.colors.map(function(t,a){return F.default.createElement(U.Colors,{key:a,onChange:function(t){return e.setArtWordColor(t,a)},color:t})}),F.default.createElement(W.SetItem,{name:"效果强度"},F.default.createElement(g.default,{size:"small",min:1,max:1e4,value:z.size||10,onChange:this.onChangeArtWordSize}))):null),F.default.createElement(W.SetItem,{name:"文字间距"},F.default.createElement(q.default,{mouseWheelClassName:"h5ds-scroll-SetLayerEtext",name:null,onChange:this.changeFontSpace,value:isNaN(C)?0:C,step:1,min:0,max:100})),F.default.createElement(W.SetItem,{name:"文字行距"},F.default.createElement(q.default,{mouseWheelClassName:"h5ds-scroll-setLayerEtext2",name:null,onChange:this.changeFontLineHeight,value:isNaN(A)?1:A,step:.1,min:.1,max:100})),F.default.createElement(W.SetItem,{name:"文字动画"},F.default.createElement(R.default,{checked:!!this.state.animate,onChange:this.onSwitchAnimate})),this.state.animate?F.default.createElement(W.SetGrid,{className:"h5ds-atext-animate"},F.default.createElement(W.SetItem,{name:"动画类型:"},F.default.createElement(b.default,{onChange:this.selectAnimate,size:"small",style:{width:"100%"},value:x||"bounceIn"},Y.animates.map(function(e,a){return F.default.createElement(t,{key:a,value:e.animate},e.name)}))," ",this.state.fontLoading?F.default.createElement(p.default,{indicator:F.default.createElement(m.default,{type:"loading",style:{fontSize:16},spin:!0})}):null),F.default.createElement(W.SetGrid,{span:2},F.default.createElement(W.SetItem,{name:"动画时间:"},F.default.createElement(g.default,{size:"small",step:.01,min:.01,max:1/0,value:Z.util.toFixed(w,2),onChange:function(t){return e.setAnimate(t,"time")}}))),F.default.createElement(W.SetGrid,{span:2},F.default.createElement(W.SetItem,{name:"动画间隔:"},F.default.createElement(g.default,{size:"small",step:.01,min:.01,max:1/0,value:Z.util.toFixed(P,2),onChange:function(t){return e.setAnimate(t,"interval")}}))),F.default.createElement(W.SetGrid,{span:2},F.default.createElement(W.SetItem,{name:"延迟时间:"},F.default.createElement(g.default,{size:"small",step:.1,min:0,max:1/0,value:Z.util.toFixed(I,1),onChange:function(t){return e.setAnimate(t,"delay")}}))),F.default.createElement(W.SetGrid,{span:2},F.default.createElement(W.SetItem,{name:"缓动效果:"},F.default.createElement(b.default,{onChange:function(t){return e.setAnimate(t,"fun")},size:"small",style:{width:"100%"},value:j||"ease"},F.default.createElement(t,{value:"ease"},"默认"),F.default.createElement(t,{value:"linear"},"匀速"),F.default.createElement(t,{value:"ease-in"},"加速"),F.default.createElement(t,{value:"ease-out"},"减速"),F.default.createElement(t,{value:"ease-in-out"},"起始慢"),F.default.createElement(t,{value:"cubic-bezier(0.68, -0.55, 0.27, 1.55)"},"回弹"))))):null,F.default.createElement(_.default,null))}}]),t}(z.Component),s=function(){var e=this;this.renderLayer=Z.util.debounce(function(){var t=e.state,a=t.style,n=t.animate,r=t.artword,i=t.fontFamilySet;(0,B.transaction)(function(){e.props.layer.data.fontFamilySet=(0,L.default)({},i),e.props.layer.data.style=(0,L.default)({},a),e.props.layer.data.animate=n?(0,L.default)({},n):"",e.props.layer.data.artword=Z.util.cloneDeep(r),e.calibration()})},100),this.renderLayerAsyncFlase=function(){return e.__renderLayerAsyncFlase__REACT_HOT_LOADER__.apply(e,arguments)},this.calibration=function(){return e.__calibration__REACT_HOT_LOADER__.apply(e,arguments)},this.setClassName=function(){return e.__setClassName__REACT_HOT_LOADER__.apply(e,arguments)},this.fontWeight=function(){return e.__fontWeight__REACT_HOT_LOADER__.apply(e,arguments)},this.fontStyle=function(){return e.__fontStyle__REACT_HOT_LOADER__.apply(e,arguments)},this.fontDecoration=function(){return e.__fontDecoration__REACT_HOT_LOADER__.apply(e,arguments)},this.textAlign=function(){return e.__textAlign__REACT_HOT_LOADER__.apply(e,arguments)},this.setFontSize=function(){return e.__setFontSize__REACT_HOT_LOADER__.apply(e,arguments)},this.setFontColor=function(){return e.__setFontColor__REACT_HOT_LOADER__.apply(e,arguments)},this.changeFontSpace=function(){return e.__changeFontSpace__REACT_HOT_LOADER__.apply(e,arguments)},this.changeFontLineHeight=function(){return e.__changeFontLineHeight__REACT_HOT_LOADER__.apply(e,arguments)},this.selectAnimate=function(){return e.__selectAnimate__REACT_HOT_LOADER__.apply(e,arguments)},this.loadFontFamily=function(){var t=(0,d.default)(l.default.mark(function t(a){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({fontLoading:!0}),t.next=3,(0,Q.loadFont)(a).then(function(t){var a=e.state,n=a.style,r=a.fontFamilySet;n.fontFamily=t,r="默认字体"!==t?X.fontFamilyData.filter(function(e){return e.name===t})[0]:{name:"默认字体",url:""},e.setState({style:n,fontFamilySet:r,fontLoading:!1},e.renderLayerAsyncFlase)});case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.setAnimate=function(){return e.__setAnimate__REACT_HOT_LOADER__.apply(e,arguments)},this.onSwitchAnimate=function(){return e.__onSwitchAnimate__REACT_HOT_LOADER__.apply(e,arguments)},this.onSwitchArtWord=function(){return e.__onSwitchArtWord__REACT_HOT_LOADER__.apply(e,arguments)},this.selectArtWord=function(){return e.__selectArtWord__REACT_HOT_LOADER__.apply(e,arguments)},this.onChangeArtWordSize=function(){return e.__onChangeArtWordSize__REACT_HOT_LOADER__.apply(e,arguments)},this.setArtWordColor=function(){return e.__setArtWordColor__REACT_HOT_LOADER__.apply(e,arguments)}},i);t.default=ee;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(K,"artwordTypes","D:/H5DS/h5ds-edit/src/core/layers/etext/EditorSet.jsx"),__REACT_HOT_LOADER__.register(ee,"EditorSet","D:/H5DS/h5ds-edit/src/core/layers/etext/EditorSet.jsx"))}();e.exports=t.default},function(e,t){e.exports=require("antd/lib/divider")},function(e,t){e.exports=require("antd/lib/spin")},function(e,t){e.exports=require("antd/lib/divider/style")},function(e,t){e.exports=require("antd/lib/spin/style")},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(3),i=n(r),s=a(0),o=n(s),l=a(1),u=n(l),d=a(4),c=n(d),_=a(5),f=n(_);a(138);var p=a(2),h=n(p),m=a(24),y=n(m),g=a(10),v=a(31),E=n(v),A=function(e){function t(e){(0,o.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));a.filterColor=function(){return a.__filterColor__REACT_HOT_LOADER__.apply(a,arguments)},a.setColor=function(){return a.__setColor__REACT_HOT_LOADER__.apply(a,arguments)};var n=e.color;return a.state={color:a.filterColor(n)},a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"__filterColor__REACT_HOT_LOADER__",value:function(e){if(e){var t=(0,E.default)(e),a=t.getAlpha();e=t.setAlpha(a).toRgbString()}else e="rgba(0,0,0,1)";return e}},{key:"__setColor__REACT_HOT_LOADER__",value:function(e){var t=e.rgb,a=t.r,n=t.g,r=t.b,i=t.a;this.setState({color:"rgba("+a+","+n+","+r+","+i+")"}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this.state.color,t=this.props.title;return h.default.createElement("div",{className:"h5ds-util-bgcolor"},h.default.createElement(g.SetItem,{name:t||"背景颜色:"},h.default.createElement(y.default,{onChange:this.setColor,color:e})))}}]),t}(p.Component);t.default=A;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(A,"SetBgColor","D:/H5DS/h5ds-edit/src/core/common/colors/SetBgColor.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(16),i=n(r),s=a(140),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(17),a(141),a(142);var g=a(2),v=n(g),E=function(e){function t(e){return(0,c.default)(this,t),(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e))}return(0,y.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=void 0===t?0:t,n=e.onChange,r=e.parser,s=void 0===r?void 0:r,l=e.formatter,u=void 0===l?void 0:l,d=e.name,c=void 0===d?"":d,_=e.min,f=void 0===_?0:_,p=e.max,h=void 0===p?100:p,m=e.step,y=void 0===m?1:m,g=e.size,E=void 0===g?"default":g,A=e.mouseWheelClassName,T=void 0===A?"":A;return v.default.createElement("div",{className:"h5ds-util-sliderinput "+("small"===E?"h5ds-util-sliderinput2":"")},c?v.default.createElement("label",{className:"h5ds-util-sliderinput-name"},c):null,v.default.createElement(o.default,{onChange:n,tipFormatter:null,min:f,step:y,max:h,value:a}),v.default.createElement(i.default,{className:T,step:y,size:"small",min:f,max:h,parser:s,formatter:u,value:a||0,onChange:n}))}}]),t}(g.Component);t.default=E;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(E,"SliderInput","D:/H5DS/h5ds-edit/src/core/common/sliderInput/SliderInput.jsx")}();e.exports=t.default},function(e,t){e.exports=require("antd/lib/slider")},function(e,t){e.exports=require("antd/lib/slider/style")},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.animates=[{name:"快闪",interval:"0.05s",type:"in",animate:"fastShow",time:"0.1s",delay:"0s",count:1,fun:"linear"},{name:"缩小入",interval:"0.05s",type:"in",animate:"smallIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"弹入",interval:"0.05s",type:"in",animate:"bounceIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上弹入",interval:"0.05s",type:"in",animate:"bounceInDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左弹入",interval:"0.05s",type:"in",animate:"bounceInLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右弹入",interval:"0.05s",type:"in",animate:"bounceInRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下弹入",interval:"0.05s",type:"in",animate:"bounceInUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"渐显",interval:"0.05s",type:"in",animate:"fadeIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上渐显",interval:"0.05s",type:"in",animate:"fadeInDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上远渐显",interval:"0.05s",type:"in",animate:"fadeInDownBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左渐显",interval:"0.05s",type:"in",animate:"fadeInLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左远渐显",interval:"0.05s",type:"in",animate:"fadeInLeftBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右渐入",interval:"0.05s",type:"in",animate:"fadeInRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右远渐入",interval:"0.05s",type:"in",animate:"fadeInRightBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下渐入",interval:"0.05s",type:"in",animate:"fadeInUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下远渐入",interval:"0.05s",type:"in",animate:"fadeInUpBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"X翻牌",interval:"0.05s",type:"in",animate:"flipInX",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"Y翻牌",interval:"0.05s",type:"in",animate:"flipInY",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"光速入",interval:"0.05s",type:"in",animate:"lightSpeedIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"滚入",interval:"0.05s",type:"in",animate:"rotateIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左上滚入",interval:"0.05s",type:"in",animate:"rotateInDownLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右上滚入",interval:"0.05s",type:"in",animate:"rotateInDownRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左下滚入",interval:"0.05s",type:"in",animate:"rotateInUpLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右下滚入",interval:"0.05s",type:"in",animate:"rotateInUpRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下滑入",interval:"0.05s",type:"in",animate:"slideInUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上滑入",interval:"0.05s",type:"in",animate:"slideInDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左滑入",interval:"0.05s",type:"in",animate:"slideInLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右滑入",interval:"0.05s",type:"in",animate:"slideInRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"放大",interval:"0.05s",type:"in",animate:"zoomIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"从上放大",interval:"0.05s",type:"in",animate:"zoomInDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"从左放大",interval:"0.05s",type:"in",animate:"zoomInLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"从右放大",interval:"0.05s",type:"in",animate:"zoomInRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"从下放大",interval:"0.05s",type:"in",animate:"zoomInUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左滚入",interval:"0.05s",type:"in",animate:"rollIn",time:"1s",delay:"0s",count:1,fun:"ease"}];!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"animates","D:/H5DS/h5ds-edit/src/core/layers/etext/textAnimate.js")}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.fontData=[12,14,16,18,20,22,24,26,28,30,32,34,36,38,42,48,60,72,84,96,108,120,132,144,156,168,180,192,204,216,228,240,252,264,276,288,300,312,324,336,348,360,372,384,396,408,420,432,444,456,468,480,492];!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"fontData","D:/H5DS/h5ds-edit/src/core/layers/etext/fontData.js")}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadFont=void 0;var r=a(11),i=n(r),s=a(30),o=n(s);a(12);var l=a(65),u=t.loadFont=function(e){return new o.default(function(t,a){var n=l.fontFamilyData.find(function(t){return t.name===e})||{},r=n.url;if(r){var s=new XMLHttpRequest;s.open("get",r),s.responseType="blob",s.onprogress=function(e){if(e.lengthComputable){e.loaded,e.total}},s.onload=function(a){200==a.target.status&&t(e)},s.ontimeout=function(){i.default.error("请求超时！"),a(!1)},s.send()}else t(e)})};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(u,"loadFont","D:/H5DS/h5ds-edit/src/core/layers/etext/loadText.js")}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Origindata=void 0;var r=a(0),i=n(r),s=a(1),o=n(s),l=t.Origindata=function(){function e(){(0,i.default)(this,e),this.id=null,this.eid=this.randomID(),this.type="etext",this.version="1.0.0",this.animate=[],this.data={data:"请输入文本内容",fontFamilySet:{name:"默认字体",url:""},style:{letterSpacing:"normal",color:"rgba(0,0,0,1)",textDecoration:"normal",textAlign:"left",fontFamily:"默认字体",fontSize:"18px"},artword:{type:"",name:"",colors:[]},animate:""},this.estyle={},this.style={width:132,height:this.setLineHeight(),top:0,left:0},this.color="",this.ue={}}return(0,o.default)(e,[{key:"setLineHeight",value:function(){var e=parseInt(this.data.style.fontSize,10);return e/2+e}},{key:"randomID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return"EID_"+Number(Math.random().toString().substr(3,e||8)+Date.now()).toString(36)}}]),e}();!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(l,"Origindata","D:/H5DS/h5ds-edit/src/core/layers/etext/Origindata.js")}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){switch(e){case" ":case"⑴":e="&nbsp;";break;case"⑵":e="&quot;";break;case"⑶":e="&amp;";break;case"⑷":e="&lt;";break;case"⑸":e="&gt;"}return e}function i(e,t){var a=e.data,n=a.style,i=a.data,s=void 0===i?"":i,u=a.artword,c=void 0===u?{}:u,_=a.animate,f=a.fontFamilySet,p=void 0===f?{}:f,h="";if(s=s.replace(/&nbsp;/g,"⑴"),s=s.replace(/&quot;/g,"⑵"),s=s.replace(/&amp;/g,"⑶"),s=s.replace(/&lt;/g,"⑷"),s=s.replace(/&gt;/g,"⑸"),_){var m=0,y=!1;s.split("").forEach(function(e){if("<"===e&&(y=!0),y)h+=e;else{var t=parseFloat(_.delay)+parseFloat(_.interval)*m;m++,h+='<span class="animated" style="animation: '+_.animate+" "+_.time+" "+_.fun+" "+t+"s "+_.count+' normal forwards running;\n        opacity: 0">'+r(e)+"</span>"}">"===e&&(y=!1)})}else{var g=!1;s.split("").forEach(function(e){"<"===e&&(g=!0),h+=g?e:"<span>"+r(e)+"</span>",">"===e&&(g=!1)})}var v="@font-face {\n    font-family: "+p.name+";\n    src: url("+p.url+");\n  }";return c.type&&delete n.color,d.default.createElement("div",{className:"layer-etext-inner"},d.default.createElement("div",{className:"layer-etext-box"},c.type?d.default.createElement("div",{className:"layer-etext-auto",style:(0,o.default)({},n)},d.default.createElement(l.Artword,(0,o.default)({shtml:h},c))):d.default.createElement("div",{className:"layer-etext-auto",style:(0,o.default)({},n),dangerouslySetInnerHTML:{__html:h}}),p.url?d.default.createElement("style",null,v):null))}Object.defineProperty(t,"__esModule",{value:!0});var s=a(9),o=n(s);t.layerdom=i;var l=a(63),u=a(2),d=n(u);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"filterHtml","D:/H5DS/h5ds-edit/src/core/layers/etext/layerdom.jsx"),__REACT_HOT_LOADER__.register(i,"layerdom","D:/H5DS/h5ds-edit/src/core/layers/etext/layerdom.jsx"))}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=null;if(e.data.crop){var n={};try{n=JSON.parse(e.data.crop)}catch(t){n=e.data.crop}var r=n,i=r.top,s=void 0===i?0:i,o=r.left,u=void 0===o?0:o,d=r.width,c=void 0===d?1:d,_=r.height,f=void 0===_?1:_,p=r.naturalHeight,h=r.naturalWidth,m={top:-s,left:-u,width:h,height:p};a=l.default.createElement("div",{className:"layer-img-inner",style:{width:c,height:f,transform:"scale("+e.style.width/c+", "+e.style.height/f+")"}},l.default.createElement("div",{className:"layer-img-box",style:m},l.default.createElement("img",{src:e.data.src||"http://cdn.h5ds.com/lib/images/imgDom.jpg"})))}else a=l.default.createElement("img",{src:e.data.src||"http://cdn.h5ds.com/lib/images/imgDom.jpg"});return a}Object.defineProperty(t,"__esModule",{value:!0}),t.Origindata=void 0;var i=a(0),s=n(i);t.layerdom=r;var o=a(2),l=n(o),u=t.Origindata=function e(){(0,s.default)(this,e),this.id=null,this.name="图片",this.animate=[],this.data={src:"http://cdn.h5ds.com/lib/images/imgDom.jpg",crop:""},this.estyle={},this.style={width:200,height:150,top:10,left:10},this.type="img",this.color="none",this.ue={}};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"layerdom","D:/H5DS/h5ds-edit/src/core/layers/img/layer.jsx"),__REACT_HOT_LOADER__.register(u,"Origindata","D:/H5DS/h5ds-edit/src/core/layers/img/layer.jsx"))}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(14),i=n(r),s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(150);var m=a(2),y=n(m),g=a(32),v=n(g),E=a(8),A=a(7),T=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));a.setLayer=function(){return a.__setLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.showSourceImgs=function(){return a.__showSourceImgs__REACT_HOT_LOADER__.apply(a,arguments)},a.onCropOk=function(){return a.__onCropOk__REACT_HOT_LOADER__.apply(a,arguments)};var n={};try{n=JSON.parse(e.layer.data.crop)}catch(e){}return a.state={src:e.layer.data.src,crop:n},a.eventId=A.util.randomID(),a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__setLayer__REACT_HOT_LOADER__",value:function(){var e=this;(0,E.transaction)(function(){e.props.layer.data.src=e.state.src,e.props.layer.data.crop=(0,i.default)(e.state.crop),$(document).trigger("h5ds.setHistory")})}},{key:"__showSourceImgs__REACT_HOT_LOADER__",value:function(){$(document).trigger("h5ds.showImgSource",this.eventId)}},{key:"__onCropOk__REACT_HOT_LOADER__",value:function(e){if(e){var t=e.cropLeft,a=e.cropTop,n=e.cropWidth,r=e.cropHeight,i=e.naturalWidth,s=e.naturalHeight;this.setState({crop:{left:t,top:a,width:n,height:r,naturalWidth:i,naturalHeight:s}},this.setLayer)}else $(document).trigger("h5ds.shortcuts_dellayer")}},{key:"componentDidMount",value:function(){var e=this;$("#h5dsCanvas").on("dblclick.imgeditor",".h5ds-control",function(){e.showSourceImgs()}),$(document).on("h5ds.selectImage."+this.eventId,function(t,a){e.setState({src:a.url},e.setLayer)})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.selectImage."+this.eventId),$("#h5dsCanvas").off("dblclick.imgeditor")}},{key:"render",value:function(){var e=this.state,t=e.src,a=e.crop;return y.default.createElement("div",{className:"h5ds-exlayer-img"},y.default.createElement(v.default,{cropSet:a,onClickNullImage:this.showSourceImgs,onChangeImage:this.showSourceImgs,onCropOk:this.onCropOk,src:t}))}}]),t}(m.Component);t.default=T;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(T,"ImgEditor","D:/H5DS/h5ds-edit/src/core/layers/img/ImgEditor.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(14),o=n(s),l=a(9),u=n(l),d=a(19),c=n(d),_=a(46),f=n(_),p=a(15),h=n(p),m=a(3),y=n(m),g=a(0),v=n(g),E=a(1),A=n(E),T=a(4),O=n(T),R=a(5),C=n(R);a(152);var b=a(7),D=a(8),L=a(6),k=a(2),H=n(k),x=a(37),S=(r=(0,L.inject)("app","layerfun"))(i=(0,L.observer)(i=function(e){function t(){var e,a,n,r;(0,v.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,O.default)(this,(e=t.__proto__||(0,y.default)(t)).call.apply(e,[this].concat(s))),n.control=function(){var e;return(e=n).__control__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,O.default)(n,r)}return(0,C.default)(t,e),(0,A.default)(t,[{key:"__control__REACT_HOT_LOADER__",value:function(e,t){if(t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),this.props.set.isPhoneView){var a=this.props.app,n=a.edata,r=a.getPageDom,i=a.getPageLayerDom,s=a.getLayers;if(t&&t.ctrlKey)return void(0,D.transaction)(function(){if(!n.selectGroup){n.selectGroup=[];r().find(".h5ds-control")[0]&&n.selectGroup.push(n.selectLayer)}-1===n.selectGroup.indexOf(e)?n.selectGroup.push(e):n.selectGroup.splice(n.selectGroup.findIndex(function(t){return t===e}),1),n.selectGroup=[].concat((0,h.default)(new f.default(n.selectGroup))),n.selectGroup.length>1&&(n.selectLayer=null,n.setType="group"),(0,x.setGroupControl)(r,n.selectGroup),(0,x.dragGroupEvent)(s,i,n)});n.selectGroup&&b.util.isEmpty(n.selectLayer)&&$(t.currentTarget).find(".h5ds-control")[0]||e!==n.selectLayer&&(n.selectGroup=null,this.props.app.setLayer(e),$(document).trigger("h5ds.iniControl"))}}},{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.layerfun.layersSet,t=this.props.layer,a=this.props.set,n=a.isMinPage,r=a.isPhoneView,i=a.isView;if(!i){var s=e[t.type];s&&s.willMount&&s.willMount.bind(this)(t,{isMinPage:n,isPhoneView:r,isView:i})}}},{key:"componentDidMount",value:function(){var e=this.props.layerfun.layersSet,t=this.props.layer,a=this.props.set,n=a.isMinPage,r=a.isPhoneView,i=a.isView;if(!i){var s=e[t.type];s&&s.didMount&&s.didMount.bind(this)(this.layerRef,t,{isMinPage:n,isPhoneView:r,isView:i})}}},{key:"componentWillUnmount",value:function(){var e=this.props.layerfun.layersSet,t=this.props.layer,a=this.props.set,n=a.isMinPage,r=a.isPhoneView,i=a.isView;if(!i){var s=e[t.type];s&&s.willUnmount&&s.willUnmount.bind(this)(this.layerRef,t,{isMinPage:n,isPhoneView:r,isView:i})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.layer,n=t.zIndex,r=t.children,i=t.set,s=i.isPhoneView,l=i.isMinPage,d=["layer"],_=a.style,f=_.abottom,p=_.atop,h=_.aleft,m=_.aright,y=(0,c.default)(_,["abottom","atop","aleft","aright"]),g=(0,u.default)({zIndex:n},y);d.push("layer-"+a.type),a.className&&d.push(a.className),a.set&&a.set.hide&&d.push("layer-temporary-hide"),a.set&&a.set.lock&&d.push("layer-temporary-lock");var v=[];a.animate&&a.animate.length>0&&a.animate.forEach(function(e){v.push(e.style)});var E=a.animate[a.animate.length-1]||{type:""},A=a.estyle||{},T="",O="";return a.id&&(T=a.id+(s?"_phoneview":"")+(l?"_min":"")),a.eid&&(O=a.eid+(s?"_phoneview":"")+(l?"_min":"")),H.default.createElement("div",{"data-adsorbent":(0,o.default)({abottom:f,atop:p,aleft:h,aright:m}),id:T,key:a.keyid,"data-keyid":a.keyid,"data-last-animate":E.type,"data-uefun":a.ue?(0,o.default)(a.ue):"",onClick:function(t){return e.control(9999-n,t)},className:d.join(" "),style:g},H.default.createElement("div",{ref:function(t){return e.layerRef=t},className:"element",id:O,style:(0,u.default)({WebkitAnimation:v.join(","),animation:v.join(",")},A)},r))}}]),t}(k.Component))||i)||i;t.default=S;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(S,"Layer","D:/H5DS/h5ds-edit/src/core/layers/Layer.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a,n){a&&(0,X.default)(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(n):void 0})}function i(e,t,a,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function s(e,t,a){var n=le.util.getStorage("APP_ID");if(t&&n===t){a(le.util.getStorage("APP_DATA"))}else t||(t="h5ds_demo_appid"),le.util.setStorage("APP_ID",t),a(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l,u,d,c,_,f,p,h,m,y,g,v,E,A,T,O,R,C,b,D,L,k,H,x,S,w,N,I,M,P,j,z,F,W,B,G,U,V,q,Y,J=a(69),X=n(J),Q=a(11),Z=n(Q),K=a(14),ee=n(K),te=a(0),ae=n(te),ne=a(1),re=n(ne);a(12);var ie=a(8),se=a(13),oe=n(se),le=a(7),ue=(o=function(){function e(){var t=this;(0,ae.default)(this,e),r(this,"data",l,this),r(this,"edata",u,this),this.historyIndex=0,this.history=[],r(this,"renderPageList",d,this),r(this,"initApp",c,this),r(this,"resetCanvas",_,this),r(this,"newToObj",f,this),r(this,"addSet",p,this),r(this,"banAnimate",h,this),r(this,"playAnimate",m,this),r(this,"setLayerId",y,this),r(this,"originLayerSet",g,this),r(this,"setPhoneStyle",v,this),r(this,"setType",E,this),r(this,"setLayerStyle",A,this),r(this,"getPageNum",T,this),r(this,"getPage",O,this),r(this,"getPages",R,this),r(this,"getLayers",C,this),r(this,"getLayer",b,this),r(this,"addLayer",D,this),r(this,"addLayers",L,this),r(this,"getPageDom",k,this),r(this,"getPageLayerDom",H,this),r(this,"getGroups",x,this),r(this,"getLayerDom",S,this),r(this,"delLayer",w,this),this.getLayerData=function(){return t.__getLayerData__REACT_HOT_LOADER__.apply(t,arguments)},r(this,"delGroupLayer",N,this),r(this,"setPage",I,this),r(this,"clickLayer",M,this),r(this,"setLayer",P,this),r(this,"exChangePage",j,this),r(this,"exChangeLayer",z,this),r(this,"delPage",F,this),r(this,"addPage",W,this),r(this,"copyPage",B,this),r(this,"copyLayer",G,this),r(this,"copyAnimate",U,this),r(this,"pasteAnimate",V,this),r(this,"doHistory",q,this),r(this,"setHistory",Y,this)}return(0,re.default)(e,[{key:"__getLayerData__REACT_HOT_LOADER__",value:function(e){var t=this.edata.selectLayer,a=this.getLayers();e=le.util.isEmpty(e)?t:e;var n=(0,ie.toJS)(a[e]);return this.originLayerSet(n,!0)}}]),e}(),l=i(o.prototype,"data",[ie.observable],{enumerable:!0,initializer:function(){return null}}),u=i(o.prototype,"edata",[ie.observable],{enumerable:!0,initializer:function(){return null}}),d=i(o.prototype,"renderPageList",[ie.action],{enumerable:!0,initializer:function(){var e=this;return le.util.debounce(function(){e.edata.pageListKeys=le.util.randomID()},500)}}),c=i(o.prototype,"initApp",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t,a){s(t,a,function(t){(0,ie.transaction)(function(){e.edata={appid:a||"",phoneStyle:{transform:"translate(-50%, 0) scale(1)"},banAnimate:!1,canvasShow:!0,gridAdsorb:!1,gridSize:5,phoneScale:1,setType:"page",selectType:"pages",selectFixed:0,selectPage:0,selectPopup:0,selectLayer:null,selectGroup:!1,keys:le.util.randomID(),selectlayerKeys:le.util.randomID(),layerListKeys:le.util.randomID(),pageListKeys:le.util.randomID()},e.data=e.addSet(t),e.setHistory()})}),$(document).off("h5ds.setHistory").on("h5ds.setHistory",le.util.debounce(function(){e.setHistory()},100))}}}),_=i(o.prototype,"resetCanvas",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.edata.keys=le.util.randomID()}}}),f=i(o.prototype,"newToObj",[ie.action],{enumerable:!0,initializer:function(){return function(e){var t=null;try{t=JSON.parse((0,ee.default)(e))}catch(e){return}return t}}}),p=i(o.prototype,"addSet",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var a=t.pages,n=t.fixeds,r=t.popups;return a.forEach(function(t){t.keyid=le.util.randomID(),t.layers.forEach(function(t){e.originLayerSet(t)})}),n.forEach(function(t){t.keyid=le.util.randomID(),t.layers.forEach(function(t){e.originLayerSet(t)})}),r.forEach(function(t){t.keyid=le.util.randomID(),t.layers.forEach(function(t){e.originLayerSet(t)})}),t}}}),h=i(o.prototype,"banAnimate",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.edata.banAnimate=!0,$("#h5dsCanvas").find("audio").each(function(){this.pause()})}}}),m=i(o.prototype,"playAnimate",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.edata.banAnimate=!1,e.edata.canvasShow=!1,setTimeout(function(){e.edata.canvasShow=!0})}}}),y=i(o.prototype,"setLayerId",[ie.action],{enumerable:!0,initializer:function(){return function(e){return e.id&&(e.id="ID_"+le.util.randomID()),e.eid&&(e.eid="EID_"+le.util.randomID()),e}}}),g=i(o.prototype,"originLayerSet",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.keyid=le.util.randomID(),void 0===t.className&&(t.className=""),void 0===t.set&&(t.set={}),t.set.hide=!1,void 0===t.set.lock&&(t.set.lock=!1),a&&e.setLayerId(t),"text"!==t.type&&"atext"!==t.type&&"etext"!==t.type||(t.data.text&&(t.data.data=t.data.text,delete t.data.text),t.type="etext",t.eid="EID_"+le.util.randomID()),t}}}),v=i(o.prototype,"setPhoneStyle",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.edata.phoneStyle.transform="translate(-50%, 0) scale("+t+")",e.edata.phoneScale=t}}}),E=i(o.prototype,"setType",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.edata.setType=t}}}),A=i(o.prototype,"setLayerStyle",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.getLayer().style=t}}}),T=i(o.prototype,"getPageNum",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.edata,a=t.selectPage,n=t.selectPopup,r=t.selectFixed,i=t.selectType,s=null;switch(i){case"pages":s=a;break;case"fixeds":s=r;break;case"popups":s=n}return s}}}),O=i(o.prototype,"getPage",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t,a){var n=e.edata,r=n.selectPage,i=n.selectPopup,s=n.selectFixed,o=n.selectType,l=t||o,u=null;switch(l){case"pages":u=le.util.isEmpty(a)?r:a;break;case"fixeds":u=le.util.isEmpty(a)?s:a;break;case"popups":u=le.util.isEmpty(a)?i:a}return e.data[l][u]||null}}}),R=i(o.prototype,"getPages",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.edata.selectType;return e.data[t]||[]}}}),C=i(o.prototype,"getLayers",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.getPage(),a=null;return t&&(a=t.layers),a}}}),b=i(o.prototype,"getLayer",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.getLayers(),a=e.edata.selectLayer,n=null;if(null!==a)return t&&(n=t[a]),n}}}),D=i(o.prototype,"addLayer",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t,a){var n=e.getPage();if(!n)return void Z.default.error("未选择任何页面！");(0,ie.transaction)(function(){e.originLayerSet(t),le.util.isEmpty(a)?n.layers.unshift(t):n.layers.splice(a,0,t),e.edata.layerListKeys=le.util.randomID()})}}}),L=i(o.prototype,"addLayers",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t,a,n){var r=e.getPage();(0,ie.transaction)(function(){t.forEach(function(t){e.originLayerSet(t),t.style.left+=n.left,t.style.top+=n.top,r.layers.splice(a,0,t)}),e.delLayer(a+t.length),e.edata.layerListKeys=le.util.randomID()})}}}),k=i(o.prototype,"getPageDom",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var a=e.edata,n=a.selectType,r=a.selectFixed,i=null;switch(t&&(n=t),n){case"popups":i=$("#h5dsPageViewPopup");break;case"fixeds":i=0===r?$("#h5dsPageViewFixedUp"):$("#h5dsPageViewFixedDown");break;case"pages":i=$("#h5dsPageView")}return i}}}),H=i(o.prototype,"getPageLayerDom",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var a=e.getPageDom(),n=a.children().children();return le.util.isEmpty(t)?n:n.eq(t)}}}),x=i(o.prototype,"getGroups",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=[],a=e.getLayers();return e.edata.selectGroup&&e.edata.selectGroup.forEach(function(e){t.push({key:e,layer:a[e]})}),t.sort(function(e,t){return e.key-t.key})}}}),S=i(o.prototype,"getLayerDom",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var a=e.getPageDom(),n=e.edata.selectLayer;return le.util.isEmpty(t)||(n=t),le.util.isEmpty(n)?null:a.children().children(".layer").eq(n)}}}),w=i(o.prototype,"delLayer",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var a=e.edata.selectLayer,n=e.getLayers();(0,ie.transaction)(function(){n.splice(le.util.isEmpty(t)?a:t,1),e.edata.selectLayer=null,e.edata.keys=le.util.randomID(),e.setPage(),$(document).trigger("h5ds.destoryControl")})}}}),N=i(o.prototype,"delGroupLayer",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var a=e.edata.selectGroup;a?(0,ie.transaction)(function(){var n=e.getPage();n.layers=n.layers.filter(function(e,t){return-1===a.indexOf(t)}),t&&t(n.layers.length),e.edata.selectGroup=!1,e.edata.layerListKeys=le.util.randomID()}):Z.default.error("请选择多个图层！")}}}),I=i(o.prototype,"setPage",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t,a){le.util.isEmpty(t)&&(t=e.getPageNum()),a||(a=e.edata.selectType),(0,ie.transaction)(function(){switch(e.edata.selectType=a,a){case"popups":0===e.data.popups.length?e.edata.selectPopup=null:e.edata.selectPopup=t;break;case"pages":0===e.data.pages.length?e.edata.selectPage=null:e.edata.selectPage=t;break;case"fixeds":e.edata.selectFixed=t}e.edata.selectLayer=null,e.edata.pageListKeys=le.util.randomID(),e.setType("page")})}}}),M=i(o.prototype,"clickLayer",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return $("#h5dsLayerList").find("li").eq(t).trigger("click"),e.getLayer()}}}),P=i(o.prototype,"setLayer",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){(0,ie.transaction)(function(){e.edata.selectlayerKeys=le.util.randomID(),e.edata.setType="layer",e.edata.selectLayer=t,e.setType("layer")})}}}),j=i(o.prototype,"exChangePage",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t,a){var n=e.getPages();(0,ie.transaction)(function(){switch(new Array(Math.abs(t-a)).fill(1).forEach(function(){if(t<a){var e=[n[t+1],n[t]];n[t]=e[0],n[t+1]=e[1],t++}else{var r=[n[t],n[t-1]];n[t-1]=r[0],n[t]=r[1],t--}}),e.edata.selectType){case"popups":e.edata.selectPopup=a;break;case"fixeds":e.edata.selectFixed=a;break;case"pages":e.edata.selectPage=a}e.edata.pageListKeys=le.util.randomID()})}}}),z=i(o.prototype,"exChangeLayer",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t,a){if(t<0||a<0)return!1;var n=e.getLayers();(0,ie.transaction)(function(){new Array(Math.abs(t-a)).fill(1).forEach(function(){if(t<a){var e=[n[t+1],n[t]];n[t]=e[0],n[t+1]=e[1],t++}else{var r=[n[t],n[t-1]];n[t-1]=r[0],n[t]=r[1],t--}}),e.edata.selectLayer=a,e.edata.keys=le.util.randomID(),e.edata.layerListKeys=le.util.randomID()})}}}),F=i(o.prototype,"delPage",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var a=e.edata,n=a.selectType,r=a.selectPage,i=a.selectPopup,s=a.selectFixed;(0,ie.transaction)(function(){var a=e.data[n];switch(n){case"popups":t=le.util.isEmpty(t)?i:t,a.splice(t,1),a.length>0?e.edata.selectPopup=0:e.edata.selectPopup=null;break;case"pages":t=le.util.isEmpty(t)?r:t,a.splice(t,1),a.length>0?e.edata.selectPage=0:e.edata.selectPage=null;break;case"fixeds":t=le.util.isEmpty(t)?s:t,a.splice(t,1),a.length>0?e.edata.selectFixed=0:e.edata.selectFixed=null}e.edata.pageListKeys=le.util.randomID()})}}}),W=i(o.prototype,"addPage",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){if("fixeds"===e.edata.selectType)return void Z.default.warn("不能添加浮动层");t||(t=JSON.parse('{\n                "id": null,\n                "name": "空白页面",\n                "desc": "页面描述",\n                "style": {"height": '+oe.default.appHeight+'},\n                "layers": [],\n                "animate": [],\n                "slider": {\n                    "animate": 1,\n                    "autoplay": false,\n                    "lock": false,\n                    "time": 5\n                }\n            }'));var a=e.getPages();(0,ie.transaction)(function(){var n=null;switch(e.edata.selectType){case"pages":n="selectPage";break;case"fixeds":n="selectFixed";break;case"popups":n="selectPopup"}t.keyid=le.util.randomID();var r=e.edata[n];a.splice(r+1,0,t),e.edata[n]=r+1,e.edata.selectLayer=null,e.edata.keys=le.util.randomID(),e.edata.pageListKeys=le.util.randomID()})}}}),B=i(o.prototype,"copyPage",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var a=e.edata,n=a.selectType,r=a.selectPage,i=e.getPageNum(),s=e.data[n][t||i];s=e.newToObj(s),(0,ie.transaction)(function(){s.keyid=le.util.randomID(),s.id=null,s.layers.map(function(t){return e.originLayerSet(t,!0)}),e.data[n].splice(t||r,0,s)})}}}),G=i(o.prototype,"copyLayer",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var a=e.edata,n=a.selectType,r=a.selectLayer,i=e.getPageNum();if(null===r&&void 0===t)return void Z.default.error("请先选择一个图层进行复制！");void 0===t&&(t=r);var s=e.data[n][i].layers[t];(0,ie.transaction)(function(){var a=e.data[n][i].layers,r=(0,ie.toJS)(s);e.originLayerSet(r,!0),a.splice(t,0,r)})}}}),U=i(o.prototype,"copyAnimate",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.getLayer();t&&(Z.default.success("复制动画成功！"),e.copyAnimateData=(0,ie.toJS)(t.animate))}}}),V=i(o.prototype,"pasteAnimate",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=e.getLayer();(0,ie.transaction)(function(){e.copyAnimateData[0]&&"in"===e.copyAnimateData[0].type&&(t.estyle.opacity=0),t.animate=le.util.cloneDeep(e.copyAnimateData),Z.default.success("粘贴动画成功！")})}}}),q=i(o.prototype,"doHistory",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(t){if(e.historyIndex>=0){"undo"===t?--e.historyIndex<0&&(e.historyIndex=0):++e.historyIndex>e.history.length&&(e.historyIndex=e.history.length-1);var a=e.history[e.historyIndex]||{},n=a.data,r=a.edata;n&&(0,ie.transaction)(function(){e.data=JSON.parse(n),r=JSON.parse(r);for(var t in r)e.edata[t]=r[t]})}}}}),Y=i(o.prototype,"setHistory",[ie.action],{enumerable:!0,initializer:function(){var e=this;return function(){(0,ie.transaction)(function(){e.history.length!==e.historyIndex+1&&e.history.splice(e.history.length-1-e.historyIndex,e.history.length-1);var t={data:(0,ee.default)(e.data),edata:(0,ee.default)(e.edata)};e.history.push(t),le.util.setStorage("APP_DATA",t.data),le.util.setStorage("APP_EDATA",t.edata),e.history.length>20&&e.history.shift(),e.historyIndex=e.history.length-1})}}}),o);t.default=ue;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ue,"App","D:/H5DS/h5ds-edit/src/store/App.js"),__REACT_HOT_LOADER__.register(s,"getData","D:/H5DS/h5ds-edit/src/store/App.js"))}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a,n){a&&(0,l.default)(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(n):void 0})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,o=a(69),l=n(o),u=a(0),d=n(u),c=a(8),_=(i=function e(){(0,d.default)(this,e),r(this,"layerfun",s,this)},s=function(e,t,a,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(i.prototype,"layerfun",[c.observable],{enumerable:!0,initializer:function(){return null}}),i);t.default=_;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(_,"LayerFun","D:/H5DS/h5ds-edit/src/store/LayerFun.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s,o,l=a(156),u=n(l),d=a(157),c=n(d),_=a(9),f=n(_),p=a(3),h=n(p),m=a(0),y=n(m),g=a(1),v=n(g),E=a(4),A=n(E),T=a(5),O=n(T);a(158),a(159);var R=a(2),C=n(R),b=a(6),D=a(160),L=n(D),k=a(55),H=n(k),x=a(74),S=a(271),w=n(S),N=a(7),I=(r=(0,b.inject)("app","layerfun"))(i=(0,b.observer)((o=s=function(e){function t(e){(0,y.default)(this,t);var a=(0,A.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));a.loadSource=function(){return a.__loadSource__REACT_HOT_LOADER__.apply(a,arguments)};var n=null;return void 0===e.data&&(n=x.defaultData),a.state={data:n,percent:0,success:!1},a}return(0,O.default)(t,e),(0,v.default)(t,[{key:"__loadSource__REACT_HOT_LOADER__",value:function(){return this.__loadSource__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__loadSource__REACT_HOT_LOADER__",value:function(e,t){var a=this,n=N.util.getSource(e,{loadSound:!0}),r=N.util.randomID(),i=n.map(function(e,t){return{src:e+"?t="+r,id:"source_"+t,type:-1!==["jpg","gif","png","jpeg"].indexOf(e.replace(/.+\.(.+)/,"$1"))?"image":"sound"}}),s=new window.createjs.LoadQueue(!0,"",!0);s.setMaxConnections(100),s.maintainScriptOrder=!0,s.on("progress",function(e){a.setState({percent:parseInt(100*e.loaded,10)})}),s.on("error",function(e){}),s.on("complete",function(){t()},this),i.length>0?s.loadManifest(i):t()}},{key:"componentDidMount",value:function(){var e=this;this.props.data&&this.loadSource(this.props.data,function(){e.setState({data:e.props.data,success:!0})})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;e.data&&this.loadSource(e.data,function(){t.setState({data:e.data,success:!0})})}},{key:"render",value:function(){var e=this.state,t=e.success,a=e.percent,n=e.data;return C.default.createElement(u.default,{locale:w.default},C.default.createElement("div",{className:"h5ds-layout-frame"},t?C.default.createElement(L.default,(0,f.default)({appData:n},this.props)):C.default.createElement(H.default,{body:C.default.createElement("div",{className:"h5ds-centerbox"},C.default.createElement(c.default,{strokeWidth:1,format:function(e){return C.default.createElement("div",{style:{color:"#fff",fontSize:14}},"资源载入",e,"%")},width:200,type:"circle",percent:a}))})))}}]),t}(R.Component),s.defaultProps={testVersion:!1},i=o))||i)||i;t.default=I;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(I,"App","D:/H5DS/h5ds-edit/src/core/App.jsx")}();e.exports=t.default},function(e,t){e.exports=require("antd/lib/locale-provider")},function(e,t){e.exports=require("antd/lib/progress")},function(e,t){e.exports=require("antd/lib/locale-provider/style")},function(e,t){e.exports=require("antd/lib/progress/style")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s,o,l=a(11),u=n(l),d=a(30),c=n(d),_=a(15),f=n(_),p=a(18),h=n(p),m=a(3),y=n(m),g=a(0),v=n(g),E=a(1),A=n(E),T=a(4),O=n(T),R=a(5),C=n(R);a(12);var b=a(8),D=a(6),L=a(2),k=n(L),H=a(161),x=n(H),S=a(169),w=n(S),N=a(183),I=n(N),M=a(186),P=n(M),j=a(190),z=n(j),F=a(200),W=n(F),B=a(47),G=n(B),U=a(60),V=n(U),q=a(249),Y=n(q),J=a(66),X=n(J),Q=a(257),Z=n(Q),K=a(261),ee=n(K),te=a(264),ae=n(te),ne=a(74),re=a(267),ie=a(67),se=a(13),oe=n(se),le=a(268),ue=n(le),de=(r=(0,D.inject)("app","layerfun"))(i=(0,D.observer)((o=s=function(e){function t(e){(0,v.default)(this,t);var a=(0,O.default)(this,(t.__proto__||(0,y.default)(t)).call(this,e));return a.loadingOver=function(){return a.__loadingOver__REACT_HOT_LOADER__.apply(a,arguments)},a.setLayers=function(){return a.__setLayers__REACT_HOT_LOADER__.apply(a,arguments)},a.shortcuts=!1,a.state={loadover:!1,modals:[]},a}return(0,C.default)(t,e),(0,A.default)(t,[{key:"__setLayers__REACT_HOT_LOADER__",value:function(){return this.__setLayers__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__loadingOver__REACT_HOT_LOADER__",value:function(){return this.__loadingOver__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__loadingOver__REACT_HOT_LOADER__",value:function(){this.setState({loadover:!0})}},{key:"__setLayers__REACT_HOT_LOADER__",value:function(){var e=this;if(this.props.plugins){var t={img:X.default,etext:V.default,combin:G.default,sound:Y.default},a=[];this.props.plugins.forEach(function(e){t[e.type]=(0,h.default)(t[e.type]||{},e),e.modal&&a.push(e.modal)}),(0,b.transaction)(function(){e.props.layerfun.resetCanvasSize=e.resetCanvasSize.bind(e),e.props.layerfun.pageToHTML=ie.pageToHTML.bind(e),e.props.layerfun.Template=e.props.template||null,e.props.layerfun.testVersion=e.props.testVersion||!1,e.props.layerfun.savePage=e.props.savePage||null,e.props.layerfun.Music=e.props.music||null,e.props.layerfun.saveApp=e.props.saveApp||null,e.props.layerfun.saveLayer=e.props.saveLayer||null,e.props.layerfun.publishApp=e.props.publishApp||null,e.props.layerfun.getHTML=e.props.getHTML||null,e.props.layerfun.uploadBase64=e.props.uploadBase64||null,e.props.layerfun.uploadSet=e.props.uploadSet||null,e.props.layerfun.config=e.props.config||{},e.props.layerfun.layersSet=t});var n=[];for(var r in t){var i=t[r].scripts||[];n=[].concat((0,f.default)(n),(0,f.default)(i))}if(0===n.length)this.loadingOver();else{var s=[];n.forEach(function(e){var t=new c.default(function(t,a){$.getScript(e).done(function(){t(!0)}).fail(function(){u.default.error("第三方插件载入失败："+e),a(!1)})});s.push(t)}),c.default.all(s).then(function(){n.forEach(function(e){!$("head").find('[src="'+e+'"]')[0]&&$("#insertjs").before('<script src="'+e+'"><\/script>')}),e.loadingOver()}).catch(function(t){e.loadingOver()})}this.setState({modals:a})}}},{key:"resetCanvasSize",value:function(){var e=this.props.app.data;(0,se.setConfig)(e.type),(0,b.transaction)(function(){var t=oe.default.appWidth,a=oe.default.appHeight,n=e.style,r=n.width,i=n.height;r="pc"===e.type?r<t?t:r:r>t?t:r,i=a,e.style.width=r,e.style.height=i,[].concat((0,f.default)(e.pages),(0,f.default)(e.popups),(0,f.default)(e.fixeds)).map(function(e){e.style.height=i,e.style.width=r}),e.fixeds[0].style.height=0})}},{key:"UNSAFE_componentWillMount",value:function(){this.props.appData&&(this.props.app.initApp(this.props.appData,this.props.appid),(0,se.setConfig)(this.props.app.data.type),this.setLayers()),this.shortcuts||(this.shortcuts=!0,(0,re.shortcuts)())}},{key:"componentDidMount",value:function(){$("body").addClass("h5ds-edit")}},{key:"componentWillUnmount",value:function(){$("body").removeClass("h5ds-edit")}},{key:"render",value:function(){var e=this,t=this.state,a=t.modals;return t.loadover?k.default.createElement("div",{className:"h5ds-layout-finner"},k.default.createElement(w.default,null),k.default.createElement(z.default,null),k.default.createElement(ee.default,null),k.default.createElement(P.default,null),k.default.createElement(W.default,null),k.default.createElement(x.default,null),k.default.createElement(I.default,null),k.default.createElement(Z.default,null),k.default.createElement(ae.default,null),k.default.createElement(ue.default,null),a.map(function(t,a){return k.default.createElement(t,{app:e.props.app,layerfun:e.props.layerfun,key:a})})):null}}]),t}(L.Component),s.defaultProps={appset:{appid:"h5ds_demo_appid"},plugins:[],appData:ne.defaultData},i=o))||i)||i;t.default=de;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(de,"Core","D:/H5DS/h5ds-edit/src/core/Core.jsx")}();e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(162),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/shortcut/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(9),o=(n(s),a(11)),l=n(o),u=a(51),d=n(u),c=a(52),_=n(c),f=a(14),p=n(f),h=a(3),m=n(h),y=a(0),g=n(y),v=a(1),E=n(v),A=a(4),T=n(A),O=a(5),R=n(O);a(12),a(163);var C=a(2),b=n(C),D=a(37),L=a(6),k=a(7),H=a(13),x=n(H),S=a(47),w=n(S),N=a(29),I=a(8),M=a(164),P=n(M),j=a(166),z=n(j),F=a(167),W=n(F),B=a(168),G=n(B),U=(r=(0,L.inject)("app","layerfun"))(i=(0,L.observer)(i=function(e){function t(){var e,a,n,r;(0,g.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,T.default)(this,(e=t.__proto__||(0,m.default)(t)).call.apply(e,[this].concat(s))),n.state={show:!0},n.setScale=function(){var e;return(e=n).__setScale__REACT_HOT_LOADER__.apply(e,arguments)},n.savePage=function(){var e;return(e=n).__savePage__REACT_HOT_LOADER__.apply(e,arguments)},n.undo=function(){var e;return(e=n).__undo__REACT_HOT_LOADER__.apply(e,arguments)},n.redo=function(){var e;return(e=n).__redo__REACT_HOT_LOADER__.apply(e,arguments)},n.pasteLayer=function(){var e;return(e=n).__pasteLayer__REACT_HOT_LOADER__.apply(e,arguments)},n.copyLayer=function(){var e;return(e=n).__copyLayer__REACT_HOT_LOADER__.apply(e,arguments)},n.delLayer=function(){var e;return(e=n).__delLayer__REACT_HOT_LOADER__.apply(e,arguments)},n.combinLayers=function(){var e;return(e=n).__combinLayers__REACT_HOT_LOADER__.apply(e,arguments)},n.uncombin=function(){var e;return(e=n).__uncombin__REACT_HOT_LOADER__.apply(e,arguments)},n.addPage=function(){var e;return(e=n).__addPage__REACT_HOT_LOADER__.apply(e,arguments)},n.saveToImage=function(){var e;return(e=n).__saveToImage__REACT_HOT_LOADER__.apply(e,arguments)},n.showList=function(){var e;return(e=n).__showList__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,T.default)(n,r)}return(0,R.default)(t,e),(0,E.default)(t,[{key:"__setScale__REACT_HOT_LOADER__",value:function(e){var t=$(".h5ds-canvas-box").attr("style"),a=k.csstool.getTransformVal(t,"scale");"add"===e?a+=.2:a-=.2,a>2&&(a=2),a<.5&&(a=.5),this.props.app.setPhoneStyle(a.toFixed(1))}},{key:"__savePage__REACT_HOT_LOADER__",value:function(){var e=this.props.app.getPage(),t=this.props.layerfun.savePage;if(t)return t({name:e.name,data:(0,p.default)(e)})}},{key:"__undo__REACT_HOT_LOADER__",value:function(){this.props.app.doHistory("undo")}},{key:"__redo__REACT_HOT_LOADER__",value:function(){this.props.app.doHistory("redo")}},{key:"__pasteLayer__REACT_HOT_LOADER__",value:function(){var e=this,t=this.props.app,a=t.getLayers,n=t.setLayer,r=t.edata,i=t.getPageDom,s=t.getPageLayerDom,o=t.originLayerSet,u=a();if(window.H5DS_COPY_DATA){var c=null;try{$(document).trigger("h5ds.destoryControl"),c=JSON.parse(window.H5DS_COPY_DATA),"layer"===c.type?(c.data.style.top+=10,c.data.style.left+=10,(0,I.transaction)((0,_.default)(d.default.mark(function t(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(c.data,!0),u.unshift(c.data),e.next=4,n(0);case 4:$(document).trigger("h5ds.iniControl");case 5:case"end":return e.stop()}},t,e)})))):"group"===c.type?(0,I.transaction)(function(){for(var e=[],t=c.data.length-1;t>=0;t--){e.push(c.data.length-1-t);var n=JSON.parse(unescape(c.data[t]));n.style.top+=10,n.style.left+=10,o(n,!0),u.unshift(n)}if(r.setType="group",r.selectGroup=e,r.keys=k.util.randomID(),(0,D.dragGroupEvent)(a,s,r),!r.selectGroup)return void l.default.error("组的选择已经取消！");(0,D.setGroupControl)(i,r.selectGroup)}):l.default.error("复制出现未知错误！"),$(document).trigger("h5ds.setHistory")}catch(e){l.default.error("复制数据错误")}}else l.default.error("请先复制图层")}},{key:"__copyLayer__REACT_HOT_LOADER__",value:function(){var e=this,t=this.props.app,a=t.getLayers,n=t.edata;if(k.util.isEmpty(n.selectLayer))n.selectGroup?(0,I.transaction)((0,_.default)(d.default.mark(function t(){var r,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a(),i=[],n.selectGroup.forEach(function(e){i.push(escape((0,p.default)(r[e])))}),window.H5DS_COPY_DATA=(0,p.default)({type:"group",data:i}),l.default.success("已复制多个图层"),$(document).trigger("h5ds.setHistory");case 6:case"end":return e.stop()}},t,e)}))):l.default.error("请先选择图层！");else{var r=a();window.H5DS_COPY_DATA=(0,p.default)({type:"layer",data:r[n.selectLayer]}),l.default.success("已复制一个图层")}}},{key:"__delLayer__REACT_HOT_LOADER__",value:function(){var e=this.props.app,t=e.delLayer,a=e.edata,n=e.delGroupLayer;k.util.isEmpty(a.selectLayer)?a.selectGroup?(0,I.transaction)(function(){n(),$(document).trigger("h5ds.setHistory")}):l.default.error("请先选择图层！"):(0,I.transaction)(function(){t(a.selectLayer),$(document).trigger("h5ds.setHistory")})}},{key:"__combinLayers__REACT_HOT_LOADER__",value:function(){var e=this.props.app,t=e.edata,a=e.getGroups,n=e.addLayer,r=e.delGroupLayer,i=e.setLayerId;if(!t.selectGroup)return void l.default.warn("请先选择一组图层！");var s=[],o=[],u=[],d=[];a().forEach(function(e){var t=N.rectMath.rectParamObj((0,I.toJS)(e.layer));d.push(e.key),o.push(t.top),o.push(t.top+t.boxHeight),u.push(t.left),u.push(t.left+t.boxWidth),s.push(i((0,I.toJS)(e.layer)))});var c=Math.min.apply(Math,o),_=Math.min.apply(Math,u),f=Math.max.apply(Math,u)-_,p=Math.max.apply(Math,o)-c;s.forEach(function(e){e.style.left-=_,e.style.top-=c});var h=w.default.origindata,m=new h;m.style.top=c,m.style.left=_,m.originstyle.width=f,m.originstyle.height=p,m.style.width=f,m.style.height=p,m.layers=s,(0,I.transaction)(function(){var e=Math.min.apply(Math,d);r(),n(m,e),t.keys=k.util.randomID(),$(document).trigger("h5ds.destoryControl"),$(document).trigger("h5ds.setHistory"),setTimeout(function(){$(".h5ds-js-layerlist").find(".h5ds-js-layerlist-item").eq(e).trigger("click")})})}},{key:"__uncombin__REACT_HOT_LOADER__",value:function(){var e=this.props.app,t=e.getLayer,a=e.addLayers,n=e.edata,r=t(),i=n.selectLayer;a(r.layers.reverse(),i,N.rectMath.rectParamObj(r)),$(document).trigger("h5ds.destoryControl"),$(document).trigger("h5ds.setHistory")}},{key:"__addPage__REACT_HOT_LOADER__",value:function(){this.props.layerfun.template?$(document).trigger("h5ds.showPageTpls"):($(document).trigger("h5ds.destoryControl"),this.props.app.addPage({id:null,keyid:k.util.randomID(),name:"空白页面",desc:"页面描述",style:{height:x.default.appHeight,width:x.default.appWidth},layers:[],animate:[],slider:{animate:1,autoplay:!1,lock:!1,time:5}}),$(document).trigger("h5ds.setHistory"))}},{key:"__saveToImage__REACT_HOT_LOADER__",value:function(){var e=this.props.app.getPage(),t=this.props.app.data.type,a=void 0,n=void 0,r=void 0;"phone"===t?(a=2*e.style.width||640,n=2*e.style.height||1028,r=2):(a=e.style.width||1e3,n=e.style.height||600,r=1),G.default.toPng(document.getElementById("h5dsCanvasApp"),{width:a,height:n,cacheBust:!0,style:{"transform-origin":"0 0",transform:"scale("+r+")",background:"#fff"},filter:function(e){return-1===["h5ds-grid-box h5ds-js-grid","h5ds-setpage-height","h5ds-setpage-width","h5ds-control"].indexOf(e.className)}}).then(function(e){var t=document.createElement("a");t.download="h5ds_"+k.util.randomID()+".png",t.href=e,t.click()}).catch(function(e){})}},{key:"__showList__REACT_HOT_LOADER__",value:function(){var e=this.state.show;e=!e,this.setState({show:e})}},{key:"componentDidMount",value:function(){var e=this;$(document).off("h5ds.shortcuts_undo").on("h5ds.shortcuts_undo",function(){e.undo()}),$(document).off("h5ds.shortcuts_combin").on("h5ds.shortcuts_combin",function(){e.combinLayers()}),$(document).off("h5ds.shortcuts_redo").on("h5ds.shortcuts_redo",function(){e.redo()}),$(document).off("h5ds.shortcuts_tomin").on("h5ds.shortcuts_tomin",function(){e.setScale("del")}),$(document).off("h5ds.shortcuts_tomax").on("h5ds.shortcuts_tomax",function(){e.setScale("add")}),$(document).off("h5ds.shortcuts_grid").on("h5ds.shortcuts_grid",function(){e.showGrid()}),$(document).off("h5ds.shortcuts_copylayer").on("h5ds.shortcuts_copylayer",function(){e.copyLayer()}),$(document).off("h5ds.shortcuts_pastelayer").on("h5ds.shortcuts_pastelayer",function(){e.pasteLayer()}),$(document).off("h5ds.shortcuts_dellayer").on("h5ds.shortcuts_dellayer",function(){e.delLayer()}),$(document).off("h5ds.shortcuts_uncombin").on("h5ds.shortcuts_uncombin",function(){e.uncombin()})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.shortcuts_redo"),$(document).off("h5ds.shortcuts_copylayer"),$(document).off("h5ds.shortcuts_pastelayer"),$(document).off("h5ds.shortcuts_undo"),$(document).off("h5ds.shortcuts_tomin"),$(document).off("h5ds.shortcuts_combin"),$(document).off("h5ds.shortcuts_uncombin"),$(document).off("h5ds.shortcuts_tomax"),$(document).off("h5ds.shortcuts_grid"),$(document).off("h5ds.shortcuts_dellayer")}},{key:"render",value:function(){var e=this;return b.default.createElement("div",{className:"h5ds-shortcut h5ds-js-shortcut h5ds-drag","data-dragset":'{"limit":true}'},b.default.createElement(W.default,{combinLayers:this.combinLayers,uncombin:this.uncombin,pasteLayer:this.pasteLayer,copyLayer:this.copyLayer}),b.default.createElement("h5",null,b.default.createElement("i",{className:"h5ds-ico h5ds-ico-caidan"})," 快捷按钮",b.default.createElement("a",{onClick:this.showList},b.default.createElement("i",{className:"h5ds-ico h5ds-ico-a1down"}))),b.default.createElement("div",{style:{display:this.state.show?"block":"none"}},b.default.createElement("div",null,b.default.createElement("ul",null,b.default.createElement("li",{onClick:function(){$(document).trigger("h5ds.playAnimate")}},b.default.createElement("a",null,b.default.createElement("i",{className:"h5ds-ico h5ds-ico-bofang"})),b.default.createElement("span",null,"播放动画")),b.default.createElement("li",{onClick:this.props.app.banAnimate},b.default.createElement("a",null,b.default.createElement("i",{className:"h5ds-ico h5ds-ico-zanting1"})),b.default.createElement("span",null,"禁用动画")),b.default.createElement("li",{onClick:this.saveToImage},b.default.createElement("a",null,b.default.createElement("i",{className:"h5ds-ico h5ds-ico-beijing"})),b.default.createElement("span",null,"存为图片")),b.default.createElement("li",null,b.default.createElement(P.default,null)),b.default.createElement("li",{className:"h5ds-js-savepage",onClick:this.savePage},b.default.createElement("a",null,b.default.createElement("i",{className:"h5ds-ico h5ds-ico-shoucang"})),b.default.createElement("span",null,"收藏页面")))),b.default.createElement("div",{className:"h5ds-shortcut-bottom-btns"},b.default.createElement("ul",null,b.default.createElement("li",{onClick:this.undo},b.default.createElement("a",null,b.default.createElement("i",{className:"h5ds-ico h5ds-ico-chexiao2"})),b.default.createElement("span",null,"撤销")),b.default.createElement("li",{onClick:this.redo},b.default.createElement("a",null,b.default.createElement("i",{className:"h5ds-ico h5ds-ico-chexiao1"})),b.default.createElement("span",null,"前进")),b.default.createElement("li",{onClick:function(){return e.setScale("add")}},b.default.createElement("a",null,b.default.createElement("i",{className:"h5ds-ico h5ds-ico-fangda"})),b.default.createElement("span",null,"放大画布")),b.default.createElement("li",{onClick:function(){return e.setScale("del")}},b.default.createElement("a",null,b.default.createElement("i",{className:"h5ds-ico h5ds-ico-suoxiao"})),b.default.createElement("span",null,"缩小画布")),b.default.createElement("li",null,b.default.createElement(z.default,null)),b.default.createElement("li",{onClick:this.addPage},b.default.createElement("a",{className:"h5ds-shortcut-add"},b.default.createElement("i",{className:"h5ds-ico h5ds-ico-jia1"})),b.default.createElement("span",null,"添加页面"))))))}}]),t}(C.Component))||i)||i;t.default=U;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(U,"Shortcut","D:/H5DS/h5ds-edit/src/core/components/shortcut/Shortcut.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(33),o=n(s),l=a(21),u=n(l),d=a(49),c=n(d),_=a(3),f=n(_),p=a(0),h=n(p),m=a(1),y=n(m),g=a(4),v=n(g),E=a(5),A=n(E);a(35),a(22),a(50),a(165);var T=a(2),O=n(T),R=a(6),C=(r=(0,R.inject)("app"))(i=(0,R.observer)(i=function(e){function t(){var e,a,n,r;(0,h.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,v.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(s))),n.showGrid=function(){var e;return(e=n).__showGrid__REACT_HOT_LOADER__.apply(e,arguments)},n.changeGridSize=function(){var e;return(e=n).__changeGridSize__REACT_HOT_LOADER__.apply(e,arguments)},n.adsorbGrid=function(){var e;return(e=n).__adsorbGrid__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,v.default)(n,r)}return(0,A.default)(t,e),(0,y.default)(t,[{key:"__showGrid__REACT_HOT_LOADER__",value:function(){$(document).trigger("h5ds.show.grid")}},{key:"__changeGridSize__REACT_HOT_LOADER__",value:function(e){var t=e.target.value;this.props.app.edata.gridSize=t}},{key:"__adsorbGrid__REACT_HOT_LOADER__",value:function(){var e=this.props.app.edata.gridAdsorb;this.props.app.edata.gridAdsorb=!e}},{key:"render",value:function(){var e=c.default.Button,t=c.default.Group,a=this.props.app.edata;return O.default.createElement(o.default,{placement:"left",title:"网格设置",content:O.default.createElement("div",{className:"h5ds-gridset"},O.default.createElement("div",{className:"h5ds-gridset-item"},O.default.createElement("span",null,"网格开关："),O.default.createElement(u.default,{defaultChecked:!1,onChange:this.showGrid})),O.default.createElement("div",{className:"h5ds-gridset-item"},O.default.createElement("span",null,"网格密度："),O.default.createElement(t,{value:a.gridSize,onChange:this.changeGridSize,size:"small"},O.default.createElement(e,{value:5},"5"),O.default.createElement(e,{value:8},"8"),O.default.createElement(e,{value:10},"10"),O.default.createElement(e,{value:16},"16"),O.default.createElement(e,{value:20},"20"),O.default.createElement(e,{value:32},"32"),O.default.createElement(e,{value:40},"40"),O.default.createElement(e,{value:80},"80"))),O.default.createElement("div",{className:"h5ds-gridset-item"},O.default.createElement("span",null,"网格吸附："),O.default.createElement(u.default,{defaultChecked:a.gridAdsorb,onChange:this.adsorbGrid}))),trigger:"click"},O.default.createElement("span",null,O.default.createElement("a",null,O.default.createElement("i",{className:"h5ds-ico h5ds-ico-wangge"})),O.default.createElement("span",null,"显示网格")))}}]),t}(T.Component))||i)||i;t.default=C;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(C,"GridSet","D:/H5DS/h5ds-edit/src/core/components/shortcut/GridSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(33),i=n(r),s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(35);var m=a(2),y=n(m),g=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return y.default.createElement(i.default,{placement:"left",title:"快捷键说明",content:y.default.createElement("ul",null,y.default.createElement("li",null,"delete 删除"),y.default.createElement("li",null,"ctrl+s 保存预览APP"),y.default.createElement("li",null,"ctrl+c 复制图层"),y.default.createElement("li",null,"ctrl+v 粘贴图层"),y.default.createElement("li",null,"ctrl+z 撤销"),y.default.createElement("li",null,"ctrl+y 恢复"),y.default.createElement("li",null,"ctrl+y 恢复"),y.default.createElement("li",null,"ctrl+'-' 缩小画布"),y.default.createElement("li",null,"ctrl+'+' 放大画布"),y.default.createElement("li",null,"ctrl+p 播放动画"),y.default.createElement("li",null,"ctrl+h 显示网格"),y.default.createElement("li",null,"ctrl+g 合并图层"),y.default.createElement("li",null,"ctrl+u 取消合并"),y.default.createElement("li",null,"ctrl+上/下/左/右 大范围移动"),y.default.createElement("li",null,"上/下/左/右 小范围移动")),trigger:"click"},y.default.createElement("span",null,y.default.createElement("a",null,y.default.createElement("i",{className:"h5ds-ico h5ds-ico-kuaijiejian"})),y.default.createElement("span",null,"快捷键")))}}]),t}(m.Component);t.default=g;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(g,"ShortcutInfo","D:/H5DS/h5ds-edit/src/core/components/shortcut/ShortcutInfo.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(11),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(12);var g=a(2),v=(n(g),a(6)),E=(r=(0,v.inject)("app","layerfun"))(i=(0,v.observer)(i=function(e){function t(){var e,a,n,r;(0,c.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,h.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(s))),n.mouseright=function(){var e;return(e=n).__mouseright__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,h.default)(n,r)}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__mouseright__REACT_HOT_LOADER__",value:function(){var e=this,t=this.props.app,a=t.edata,n=t.exChangeLayer,r=t.getLayers,i=t.delLayer,s=t.getLayerData,l=t.setLayer,u=t.copyAnimate,d=t.pasteAnimate;$(document).on("contextmenu","#h5dsCanvas",function(e){e.preventDefault()}),$(document).on("contextmenu.menu",".h5ds-canvas-app > div > .h5ds-swiper-layers > .layer, .h5ds-contextmenu, #h5dsCanvasApp",function(t){t.preventDefault(),t.stopPropagation();var c=$(t.target).closest(".layer"),_=c.index(),f="layer",p=null;switch(a.selectGroup?f="group":-1===_?f="null":(l(_),$(document).trigger("h5ds.iniControl")),f){case"layer":p=[{name:'<i class="h5ds-ico h5ds-ico-dingceng"></i> 置顶',val:"top"},{name:'<i class="h5ds-ico h5ds-ico-diceng"></i> 置底',val:"bottom"},{name:'<i class="h5ds-ico h5ds-ico-shangyiyiceng"></i> 上移一层',val:"prev"},{name:'<i class="h5ds-ico h5ds-ico-xiayiyiceng"></i> 下移一层',val:"next"},{name:'<i class="h5ds-ico h5ds-ico-fuzhi"></i> 复制图层',val:"copy"},{name:'<i class="h5ds-ico h5ds-ico-niantie"></i> 粘贴图层',val:"paste"},{name:'<i class="h5ds-ico h5ds-ico-fuzhi"></i> 复制动画',val:"copyAnimate"},{name:'<i class="h5ds-ico h5ds-ico-niantie"></i> 粘贴动画',val:"pasteAnimate"},{name:'<i class="h5ds-ico h5ds-ico-icodel"></i> 删除图层',val:"del"},{name:'<i class="h5ds-ico h5ds-ico-baocun"></i> 保存图层',val:"save"}],c.hasClass("layer-combin")&&p.push({name:'<i class="h5ds-ico h5ds-ico-fuzhi"></i> 取消合并',val:"uncombin"});break;case"group":p=[{name:'<i class="h5ds-ico h5ds-ico-fuzhi"></i> 合并图层',val:"combin"},{name:'<i class="h5ds-ico h5ds-ico-fuzhi"></i> 复制图层',val:"copy"},{name:'<i class="h5ds-ico h5ds-ico-niantie"></i> 粘贴图层',val:"paste"},{name:'<i class="h5ds-ico h5ds-ico-icodel"></i> 删除图层',val:"del"}];break;case"null":p=[{name:'<i class="h5ds-ico h5ds-ico-niantie"></i> 粘贴图层',val:"paste"}]}$.contextMenu({x:t.pageX,y:t.pageY,vals:p,callback:function(t){switch(t){case"uncombin":e.props.uncombin(_);break;case"top":0===_?o.default.warn("已经是最顶层了"):(n(_,0),$(document).trigger("h5ds.setHistory"));break;case"bottom":_===r().length-1?o.default.warn("已经是最底层了"):(n(_,r().length-1),$(document).trigger("h5ds.setHistory"));break;case"prev":0===_?o.default.warn("已经是最顶层了"):(n(_,_-1),$(document).trigger("h5ds.setHistory"));break;case"next":_===r().length-1?o.default.warn("已经是最底层了"):(n(_,_+1),$(document).trigger("h5ds.setHistory"));break;case"copy":e.props.copyLayer(),$(document).trigger("h5ds.setHistory");break;case"copyAnimate":u();break;case"paste":e.props.pasteLayer();break;case"pasteAnimate":d();break;case"combin":e.props.combinLayers();break;case"del":i(_),$(document).trigger("h5ds.setHistory");break;case"save":var a=s(_);e.props.layerfun.saveLayer?e.props.layerfun.saveLayer(a):o.default.error("保存失败，没有配置saveLayer")}}})})}},{key:"componentDidMount",value:function(){this.mouseright()}},{key:"componentWillUnmount",value:function(){$(document).off("contextmenu.menu")}},{key:"render",value:function(){return null}}]),t}(g.Component))||i)||i;t.default=E;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(E,"ContextMenu","D:/H5DS/h5ds-edit/src/core/components/shortcut/ContextMenu.jsx")}();e.exports=t.default},function(e,t){e.exports=require("dom-to-image")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(71),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(72),a(170);var g=a(2),v=n(g),E=a(6),A=a(8),T=a(171),O=n(T),R=a(176),C=n(R),b=a(182),D=n(b),L=a(7),k=(r=(0,E.inject)("app","layerfun"))(i=(0,E.observer)(i=function(e){function t(){var e,a,n,r;(0,c.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,h.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(s))),n.clears=function(){var e;return(e=n).__clears__REACT_HOT_LOADER__.apply(e,arguments)},n.setApp=function(){var e;return(e=n).__setApp__REACT_HOT_LOADER__.apply(e,arguments)},n.help=function(){var e;return(e=n).__help__REACT_HOT_LOADER__.apply(e,arguments)},n.changeAppType=function(){var e;return(e=n).__changeAppType__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,h.default)(n,r)}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__clears__REACT_HOT_LOADER__",value:function(){L.util.clearStorage("APP_DATA"),L.util.clearStorage("APP_EDATA"),L.util.clearStorage("APP_ID"),window.location.reload()}},{key:"__setApp__REACT_HOT_LOADER__",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),$(document).trigger("h5ds.destoryControl"),this.props.app.setType("app")}},{key:"__help__REACT_HOT_LOADER__",value:function(){$.helps({show:!0,data:[{dom:".h5ds-js-h5set",content:"【整体设置】点击此处设置H5页面的整体内容：背景，主图，介绍, 背景音乐，加载效果等",pos:"bottom"},{dom:".h5ds-js-clearlocal",content:"【清除缓存】这里清除本地缓存",pos:"bottom"},{dom:".h5ds-js-publish",content:"【预览/发布】做好之后，发布应用点击这里发布应用或者预览应用，全部OK后生成二维码",pos:"bottom"},{dom:".h5ds-js-pagelist",content:"【页面列表】此处主要展示页面的列表，也可以在【模板中心】中选择模板进行页面添加",pos:"right"},{dom:".h5ds-js-temps",content:"【模板中心】所有页面模板都在这里了，你可以选择系统提供的模板，也可以选择自己保存的模板",pos:"right"},{dom:".h5ds-js-layermenu",content:"【图层】页面里面所有的元素叫做图层，你可以在这里选择需要创建的图层，也可以点击“。。。”展开图层，选择更多图层",pos:"bottom"},{dom:".h5ds-js-setting",content:"【设置区域】只需要记住，页面，图层，动画，交互等任何设置相关的操作都在这里进行就可以了。顶部会显示：当前选中的对象",pos:"left"},{dom:".h5ds-js-canvas",content:"【可视化区域】页面的可视化界面，所见即所得",pos:"left"},{dom:".h5ds-js-layerlist",content:"【图层列表】可以展开图层列表，这里有图层相关的一些操作！",pos:"bottom"},{dom:".h5ds-js-shortcut",content:"【快捷操作】这里有一些快捷操作的方法 <br/>【ctrl+s 保存预览APP】<br/>【ctrl+z 撤销】<br/>【ctrl+y 恢复】<br/>【ctrl+ - 缩小画布】<br/>【ctrl+ + 放大画布】<br/>【ctrl+ p 播放动画】<br/>【ctrl+g 合并图层】<br/>【ctrl+u 取消合并】<br/>【ctrl+ h 显示网格】<br/>【ctrl + d 删除】<br/>【上，下，左，右 微调距离】<br/>【shift + 上，下，左，右 大幅度调距离】",pos:"left"}]})}},{key:"__changeAppType__REACT_HOT_LOADER__",value:function(e){var t=this;(0,A.transaction)(function(){t.props.app.data.type=e,t.props.layerfun.resetCanvasSize(),$(document).trigger("h5ds.setHistory")})}},{key:"render",value:function(){var e=this,t=this.props.app.data,a=this.props.layerfun.config;return v.default.createElement("div",{className:"h5ds-header"},v.default.createElement("div",{className:"h5ds-logo"},v.default.createElement("a",{rel:"noopener noreferrer",href:"http://www.h5ds.com"},"H5",v.default.createElement("span",null,"DS"),v.default.createElement("em",null,"power by h5ds"))),v.default.createElement("div",{className:"h5ds-h5type"},v.default.createElement("a",{onClick:function(){return e.changeAppType("phone")},className:"phone"===t.type?" active":""},"Phone"),v.default.createElement("a",{onClick:function(){return e.changeAppType("pc")},className:"pc"===t.type?" active":""},"PC")),v.default.createElement("div",{className:"h5ds-layermenu"},v.default.createElement(O.default,null)),v.default.createElement("div",{className:"h5ds-publish"},v.default.createElement("div",{className:"h5ds-h5set"},v.default.createElement("a",{className:"h5ds-basic-btn-min",onClick:this.help},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-bangzhu"})," 帮助")," ",v.default.createElement("a",{className:"h5ds-btn-yellow h5ds-js-h5set",onClick:this.setApp},"全局设置"))," ",v.default.createElement(o.default,{onConfirm:this.clears,title:v.default.createElement("div",{style:{width:300}},"清除缓存后，当前数据将被清空，然后从服务器重新加载数据！是否要清除？"),okText:"确定",cancelText:"取消"},v.default.createElement("a",{className:"h5ds-basic-btn-min h5ds-js-clearlocal"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-Icon_huancun"})," 清缓存"))," ","pc"===t.type?v.default.createElement(D.default,null):v.default.createElement(C.default,null),v.default.createElement("a",{href:a.backUrl,className:"h5ds-logout"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-wangge"})," 返回")))}}]),t}(g.Component))||i)||i;t.default=k;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(k,"Header","D:/H5DS/h5ds-edit/src/core/components/header/Header.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(172),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/layersMenu/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(33),o=n(s),l=a(11),u=n(l),d=a(3),c=n(d),_=a(0),f=n(_),p=a(1),h=n(p),m=a(4),y=n(m),g=a(5),v=n(g);a(35),a(12),a(173);var E=a(2),A=n(E),T=a(8),O=a(6),R=a(174),C=n(R),b=a(7),D=(r=(0,O.inject)("app","layerfun"))(i=(0,O.observer)(i=function(e){function t(e){(0,f.default)(this,t);var a=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return a.addImage=function(){return a.__addImage__REACT_HOT_LOADER__.apply(a,arguments)},a.addLayer=function(){return a.__addLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.initLayerMenusData=function(){return a.__initLayerMenusData__REACT_HOT_LOADER__.apply(a,arguments)},a.handleVisibleChange=function(){return a.__handleVisibleChange__REACT_HOT_LOADER__.apply(a,arguments)},a.state={visible:!1,layerMenus:[]},a.eventId=b.util.randomID(),a}return(0,v.default)(t,e),(0,h.default)(t,[{key:"__addImage__REACT_HOT_LOADER__",value:function(e){var t=this,a=e.url,n=this.props.layerfun.layersSet.img.origindata,r=b.util.toJS(new n);(0,T.transaction)(function(){var e=$('<img src="'+a+'"/>')[0];r.style.width=e.naturalWidth/2||200,r.style.height=e.naturalHeight/2||200,r.data.src=a,t.props.app.addLayer(r),t.props.app.edata.keys=b.util.randomID(),setTimeout(function(){$(".h5ds-js-layerlist").find(".h5ds-js-layerlist-item").eq(0).trigger("click")},0)}),$(document).trigger("h5ds.setHistory"),$(document).trigger("h5ds.hideImgSource")}},{key:"__addLayer__REACT_HOT_LOADER__",value:function(e){var t=this;$(document).trigger("h5ds.destoryControl");var a=this.props.app,n=a.addLayer,r=a.setLayer,i=this.props.layerfun.layersSet,s=i[e].origindata,o=b.util.toJS(new s);setTimeout(function(){if("img"===e)$(document).trigger("h5ds.showImgSource",t.eventId),i.img.modal||$(document).trigger("h5ds.showImageUrlInput");else{var a=!!i[e]&&i[e].selectIcon,s=function(){(0,T.transaction)(function(){n(o),r(0),setTimeout(function(){$(document).trigger("h5ds.iniControl")},0)}),$(document).trigger("h5ds.setHistory")};if(void 0===a)s();else try{a(e).then(function(){s()}).fail(function(e){u.default.error("添加layer错误！")})}catch(t){a(e)}}},0),this.setState({visible:!1})}},{key:"__initLayerMenusData__REACT_HOT_LOADER__",value:function(){var e=[],t=this.props.layerfun.layersSet;for(var a in t){var n=t[a];n.icon&&e.push({name:n.name,icon:n.icon,type:n.type})}this.setState({layerMenus:e})}},{key:"__handleVisibleChange__REACT_HOT_LOADER__",value:function(e){this.setState({visible:e})}},{key:"componentDidMount",value:function(){var e=this;this.initLayerMenusData(),$(document).on("h5ds.selectImage."+this.eventId,function(t,a){e.addImage(a)})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.selectImage."+this.eventId)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.layerMenus,r=A.default.createElement("ul",{className:"h5ds-global-clearfix h5ds-layermenu-all"},n.map(function(t){return A.default.createElement("li",{key:t.type,className:"fun",onClick:function(){return e.addLayer(t.type)}},A.default.createElement("a",null,t.icon,A.default.createElement("span",null,t.name)))}));return A.default.createElement("div",{className:"h5ds-js-layermenu"},A.default.createElement("ul",{className:"h5ds-layermenu-moreuse"},n.map(function(t,a){return a>5?null:A.default.createElement("li",{key:t.type,className:"fun",onClick:function(){return e.addLayer(t.type)}},A.default.createElement("a",null,t.icon,A.default.createElement("span",null,t.name)))}),A.default.createElement("li",{className:"fun"},A.default.createElement(o.default,{visible:a,onVisibleChange:this.handleVisibleChange,title:"全部模块",trigger:"click",content:r},A.default.createElement("a",null,A.default.createElement("i",{className:"h5ds-ico h5ds-ico-more"}),A.default.createElement("span",null,"全部模块"))))),A.default.createElement(C.default,{addImage:this.addImage}))}}]),t}(E.Component))||i)||i;t.default=D;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(D,"LayersMenu","D:/H5DS/h5ds-edit/src/core/components/layersMenu/LayersMenu.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(39),i=n(r),s=a(40),o=n(s),l=a(11),u=n(l),d=a(3),c=n(d),_=a(0),f=n(_),p=a(1),h=n(p),m=a(4),y=n(m),g=a(5),v=n(g);a(41),a(42),a(12),a(175);var E=a(2),A=n(E),T=function(e){function t(){var e,a,n,r;(0,f.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,y.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(s))),n.state={visible:!1,val:""},n.handleOk=function(){var e;return(e=n).__handleOk__REACT_HOT_LOADER__.apply(e,arguments)},n.handleCancel=function(){var e;return(e=n).__handleCancel__REACT_HOT_LOADER__.apply(e,arguments)},n.handlerChange=function(){var e;return(e=n).__handlerChange__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,y.default)(n,r)}return(0,v.default)(t,e),(0,h.default)(t,[{key:"__handleOk__REACT_HOT_LOADER__",value:function(){var e=this.state.val;""===e?u.default.error("请填写图片url，如果图片跨域，将无法裁剪！"):(this.props.addImage({url:e}),this.setState({visible:!1}))}},{key:"__handleCancel__REACT_HOT_LOADER__",value:function(){this.setState({visible:!1})}},{key:"__handlerChange__REACT_HOT_LOADER__",value:function(e){this.setState({val:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.showImageUrlInput",function(){e.setState({visible:!0})})}},{key:"render",value:function(){return A.default.createElement(i.default,{title:"填写图片URL（别跨域）",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},A.default.createElement("div",{className:"h5ds-set-img-url"},A.default.createElement(o.default,{value:this.state.val,onChange:this.handlerChange})))}}]),t}(E.Component);t.default=T;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(T,"InputImgUrl","D:/H5DS/h5ds-edit/src/core/components/layersMenu/InputImgUrl.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(177),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/publish/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(39),o=n(s),l=a(9),u=n(l),d=a(25),c=n(d),_=a(18),f=n(_),p=a(3),h=n(p),m=a(0),y=n(m),g=a(1),v=n(g),E=a(4),A=n(E),T=a(5),O=n(T);a(41),a(26),a(73);var R=a(6),C=a(2),b=n(C),D=a(43),L=a(8),k=a(55),H=n(k),x=a(179),S=n(x),w=a(38),N=a(54),I=a(70),M=(r=(0,R.inject)("app","layerfun"))(i=(0,R.observer)(i=function(e){function t(){var e,a,n,r;(0,y.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,A.default)(this,(e=t.__proto__||(0,h.default)(t)).call.apply(e,[this].concat(s))),n.state={visible:!1,nowpage:1,path:!1,loading:!1},n.publish=function(){var e;return(e=n).__publish__REACT_HOT_LOADER__.apply(e,arguments)},n.save=function(){var e;return(e=n).__save__REACT_HOT_LOADER__.apply(e,arguments)},n.viewCode=function(){var e;return(e=n).__viewCode__REACT_HOT_LOADER__.apply(e,arguments)},n.modalShow=function(){var e;return(e=n).__modalShow__REACT_HOT_LOADER__.apply(e,arguments)},n.closeModal=function(){var e;return(e=n).__closeModal__REACT_HOT_LOADER__.apply(e,arguments)},n.initSwiper=function(){var e;return(e=n).__initSwiper__REACT_HOT_LOADER__.apply(e,arguments)},n.changePage=function(){var e;return(e=n).__changePage__REACT_HOT_LOADER__.apply(e,arguments)},n.uploadEnd=function(){var e;return(e=n).__uploadEnd__REACT_HOT_LOADER__.apply(e,arguments)},n.changeVal=function(){var e;return(e=n).__changeVal__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,A.default)(n,r)}return(0,O.default)(t,e),(0,v.default)(t,[{key:"__publish__REACT_HOT_LOADER__",value:function(){var e=this;if(this.setState({loading:!0}),this.props.layerfun.publishApp){var t=this.props.app.edata.appid,a=(0,L.toJS)(this.props.app.data);this.props.layerfun.publishApp(t,a,(0,N.toFullHtml)(a,this.props.layerfun)).then(function(){var t=e.props.app.edata.appid,a=e.props.layerfun.config.appHost,n=void 0===a?"/":a,r=e.newQrcode({appid:t,appHost:n});e.setState({loading:!1,path:r})})}$(document).trigger("h5ds.setHistory")}},{key:"__save__REACT_HOT_LOADER__",value:function(){var e=this;if(this.setState({loading:!0}),this.props.layerfun.saveApp){var t=this.props.app.edata.appid;this.props.layerfun.saveApp(t,(0,L.toJS)(this.props.app.data)).then(function(){e.setState({loading:!1})})}$(document).trigger("h5ds.setHistory")}},{key:"__viewCode__REACT_HOT_LOADER__",value:function(){if(this.props.layerfun.publishApp){var e=this.props.app.edata.appid,t=(0,L.toJS)(this.props.app.data);this.props.layerfun.getHTML(e,t,(0,N.toFullHtml)(t,this.props.layerfun))}}},{key:"newQrcode",value:function(e){var t=e.appid,a=e.appHost,n=a+"/apps/"+t,r=$("#h5dsPublisQrcode").empty();return new window.QRCode(r[0],{text:n,width:600,height:600,colorLight:"#ffffff",colorDark:"#000000",correctLevel:window.QRCode.CorrectLevel.M}),n}},{key:"__modalShow__REACT_HOT_LOADER__",value:function(){var e=this;this.setState({visible:!0},function(){setTimeout(function(){e.initSwiper()},100)})}},{key:"__closeModal__REACT_HOT_LOADER__",value:function(){this.setState({visible:!1,path:!1})}},{key:"__initSwiper__REACT_HOT_LOADER__",value:function(){var e=this,t=this.props.app.data,a=$("#h5dsSwiper"),n=function(){(0,D.langPage)(),window.H5DS_H5_SWIPER=a.h5dsSwiper((0,f.default)(w.sliderAnimate[t.slider.animate]||{})),a.off("h5ds.animateStart h5ds.animateEnd").on("h5ds.animateStart",function(t,a){e.setState({nowpage:a+1}),e.animated=!0}).on("h5ds.animateEnd",function(){e.animated=!1}),(0,D.setDot)(a,window.H5DS_H5_SWIPER),$(document).trigger("h5ds.swiperAfter",{$in:$("#h5dsFixedsUp").find(".h5ds-swiper-page"),$out:null}),$(document).trigger("h5ds.swiperAfter",{$in:$("#h5dsFixedsDown").find(".h5ds-swiper-page"),$out:null})};$("#h5dsLoading").show();var r=0;!function t(){e.setLoadingNum=setTimeout(function(){$("#h5dsProgress").html(r+++"%"),r>100?($("#h5dsLoading").hide(),(0,D.swiperLast)(),(0,D.autoPlayMusic)(),$(document).trigger("h5ds.loadingEnd","#h5dsSwiper"),(0,D.setAdsorbent)(),n(),clearInterval(e.setLoadingNum)):t()},5)}()}},{key:"__changePage__REACT_HOT_LOADER__",value:function(e){var t=$("#h5dsSwiper").find(".h5ds-swiper-current"),a=t.index();this.animated||("prev"===e?$("#h5dsSwiper").trigger("h5ds_swipedown",{$out:t,outIndex:a}).trigger("h5ds_swipeleft",{$out:t,outIndex:a}):$("#h5dsSwiper").trigger("h5ds_swipeup",{$out:t,outIndex:a}).trigger("h5ds_swiperight",{$out:t,outIndex:a}))}},{key:"__uploadEnd__REACT_HOT_LOADER__",value:function(e){this.props.app.data.img=e.path}},{key:"__changeVal__REACT_HOT_LOADER__",value:function(e,t){var a=this.props.app.data;(void 0===a?{}:a)[t]=e}},{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.shortcuts_save",function(){e.save()});!function t(){e.saveTime=setTimeout(function(){e.save(),t()},6e5)}()}},{key:"componentWillUnmount",value:function(){window.H5DS_H5_SWIPER=null,$(document).off("h5ds.shortcuts_save"),this.setLoadingNum&&clearInterval(this.setLoadingNum),this.saveTime&&clearTimeout(this.saveTime)}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.nowpage,r=t.loading,i=t.path,s=this.props.app.data,l=this.props.layerfun,d=l.pageToHTML,_=l.getHTML,f={isMinPage:!1,isPhoneView:!1,isView:!0,isPc:!1};return b.default.createElement("span",null,b.default.createElement("a",{className:"h5ds-btn-min",onClick:this.save},r?b.default.createElement("span",null,b.default.createElement(c.default,{type:"loading"})," 保存中"):b.default.createElement("span",null,b.default.createElement("i",{className:"h5ds-ico h5ds-ico-baocun"})," 保存")),"  ",b.default.createElement("a",{onClick:this.modalShow,className:"h5ds-btn-min h5ds-js-publish"},b.default.createElement("i",{className:"h5ds-ico h5ds-ico-fabu"})," 预览/发布"),b.default.createElement(o.default,{width:1e3,title:null,footer:null,visible:a,onCancel:this.closeModal},b.default.createElement("div",{className:"h5ds-modal h5ds-publish-modal h5ds-publish-phone"},r?b.default.createElement(H.default,{tips:"保存中，请耐心等待！"}):null,a?b.default.createElement("div",{className:"h5ds-modal-box"},b.default.createElement("div",{className:"h5ds-modal-full clearfix"},b.default.createElement("div",{className:"h5ds-publish-view-phone"},b.default.createElement("div",{className:"h5ds-publish-change-page"},b.default.createElement("a",{onClick:function(){return e.changePage("prev")}},b.default.createElement("i",{className:"h5ds-ico h5ds-ico-a3top"})),b.default.createElement("p",null,b.default.createElement("span",null,n),"/",s.pages.length),b.default.createElement("a",{onClick:function(){return e.changePage("next")}},b.default.createElement("i",{className:"h5ds-ico h5ds-ico-a3down"}))),b.default.createElement("div",{className:"h5ds-publish-view-phone-window"},s.mp3.url?b.default.createElement("audio",{style:{display:"none",height:0},preload:"auto",id:"h5dsBgMusic",loop:"loop"},b.default.createElement("source",{src:s.mp3.url,type:"audio/mpeg"})):null,s.mp3.url?b.default.createElement("div",{className:"h5ds-video-icon"},b.default.createElement("i",null),b.default.createElement("i",null),b.default.createElement("i",null),b.default.createElement("i",null)):null,b.default.createElement("div",{className:"h5ds-loading",id:"h5dsLoading"},b.default.createElement("div",{className:"h5ds-loadinner"},b.default.createElement("div",{className:s.loading}),b.default.createElement("div",{className:"h5ds-progress",id:"h5dsProgress"}))),(0,N.getPopupsHTML)(s,f,d),(0,N.getFixedsHTML)(s,f,d),(0,N.getPagesHTML)(s,f,d),(0,I.powerHTML)(s))),b.default.createElement("div",{className:"h5ds-publish-other-info"},b.default.createElement("div",{className:"h5ds-publish-infos h5ds-global-clearfix"},b.default.createElement("h2",null,"基本参数"),b.default.createElement("div",{className:"h5ds-publish-qrcode-box h5ds-publish-box-left"},b.default.createElement(S.default,(0,u.default)({},this.props.layerfun.uploadSet,{uploadEnd:this.uploadEnd}),b.default.createElement("a",{className:"h5ds-upload-btn"},b.default.createElement("img",{src:s.img,width:"100",height:"100"})))),b.default.createElement("div",{className:"h5ds-publish-box-right"},b.default.createElement("input",{className:"h5ds-publish-app-name-input",type:"text",onChange:function(t){return e.changeVal(t.target.value,"name")},defaultValue:s.name}),b.default.createElement("textarea",{onChange:function(t){return e.changeVal(t.target.value,"desc")},className:"h5ds-publish-app-info-textarea",defaultValue:s.desc}))),b.default.createElement("div",{className:"h5ds-publish-qrcode h5ds-global-clearfix"},b.default.createElement("h2",null,"二维码"),b.default.createElement("div",{className:"h5ds-publish-qrcode-box h5ds-publish-box-left",id:"h5dsPublisQrcode"},b.default.createElement("span",{className:"h5ds-publish-qrcode-tips"},"发布后生成")),b.default.createElement("div",{className:"h5ds-publish-box-right h5ds-publish-qrcode-url-box"},i?b.default.createElement("a",{rel:"noopener noreferrer",href:i,target:"_blank"},i):b.default.createElement("span",{className:"h5ds-publish-qrcode-tips"},"发布后生成链接"))),b.default.createElement("div",{className:"h5ds-publish-btns"},b.default.createElement("a",{onClick:this.closeModal,className:"h5ds-publish-btn-edit"},"继续编辑"),b.default.createElement("a",{onClick:this.publish,className:"h5ds-publish-btn-publish"},"发布"),_?[b.default.createElement("a",{key:"1",onClick:this.viewCode,className:"h5ds-publish-btn-code"},b.default.createElement("i",{className:"h5ds-ico h5ds-ico-domnode"})," 查看代码")]:null)))):null)))}}]),t}(C.Component))||i)||i;t.default=M;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(M,"Publish","D:/H5DS/h5ds-edit/src/core/components/publish/Publish.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(180),i=n(r),s=a(11),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(181),a(12);var g=a(2),v=n(g),E=function(e){function t(){var e,a,n,r;(0,c.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,h.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(s))),n.handleChange=function(){var e;return(e=n).__handleChange__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,h.default)(n,r)}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__handleChange__REACT_HOT_LOADER__",value:function(e){var t=e.file;"uploading"!==t.status&&"done"===t.status&&this.props.uploadEnd&&this.props.uploadEnd(t.response)}},{key:"beforeUpload",value:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type;t||o.default.error("请上传格式为jpg,png,gif的图片!");var a=e.size/1024/1024<1;return a||o.default.error("请上传小于1M的图片!"),t&&a}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.children,n=e.action,r=e.headers,s=void 0===r?{}:r;if(!n)return null;var o={action:n,headers:s,showUploadList:!1,beforeUpload:this.beforeUpload,onChange:this.handleChange,data:t};return v.default.createElement(i.default,o," ",a)}}]),t}(g.Component);t.default=E;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(E,"Uploads","D:/H5DS/h5ds-edit/src/core/common/upload/Upload.jsx")}();e.exports=t.default},function(e,t){e.exports=require("antd/lib/upload")},function(e,t){e.exports=require("antd/lib/upload/style")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(39),o=n(s),l=a(25),u=n(l),d=a(19),c=n(d),_=a(18),f=n(_),p=a(3),h=n(p),m=a(0),y=n(m),g=a(1),v=n(g),E=a(4),A=n(E),T=a(5),O=n(T);a(41),a(26),a(73);var R=a(6),C=a(2),b=n(C),D=a(43),L=a(8),k=a(55),H=n(k),x=a(38),S=a(54),w=(r=(0,R.inject)("app","layerfun"))(i=(0,R.observer)(i=function(e){function t(){var e,a,n,r;(0,y.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,A.default)(this,(e=t.__proto__||(0,h.default)(t)).call.apply(e,[this].concat(s))),n.state={visible:!1,nowpage:1,loading:!1,path:"",innerWidth:window.innerWidth},n.publish=function(){var e;return(e=n).__publish__REACT_HOT_LOADER__.apply(e,arguments)},n.save=function(){var e;return(e=n).__save__REACT_HOT_LOADER__.apply(e,arguments)},n.viewCode=function(){var e;return(e=n).__viewCode__REACT_HOT_LOADER__.apply(e,arguments)},n.modalShow=function(){var e;return(e=n).__modalShow__REACT_HOT_LOADER__.apply(e,arguments)},n.closeModal=function(){var e;return(e=n).__closeModal__REACT_HOT_LOADER__.apply(e,arguments)},n.initSwiper=function(){var e;return(e=n).__initSwiper__REACT_HOT_LOADER__.apply(e,arguments)},n.changePage=function(){var e;return(e=n).__changePage__REACT_HOT_LOADER__.apply(e,arguments)},n.uploadEnd=function(){var e;return(e=n).__uploadEnd__REACT_HOT_LOADER__.apply(e,arguments)},n.changeVal=function(){var e;return(e=n).__changeVal__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,A.default)(n,r)}return(0,O.default)(t,e),(0,v.default)(t,[{key:"__publish__REACT_HOT_LOADER__",value:function(){var e=this;if(this.setState({loading:!0}),this.props.layerfun.publishApp){var t=this.props.app.edata.appid,a=(0,L.toJS)(this.props.app.data);this.props.layerfun.publishApp(t,a,(0,S.toFullHtml)(a,this.props.layerfun)).then(function(){e.setState({loading:!1})})}$(document).trigger("h5ds.setHistory")}},{key:"__save__REACT_HOT_LOADER__",value:function(){var e=this;if(this.setState({loading:!0}),this.props.layerfun.saveApp){var t=this.props.app.edata.appid;this.props.layerfun.saveApp(t,(0,L.toJS)(this.props.app.data)).then(function(){e.setState({loading:!1})})}$(document).trigger("h5ds.setHistory")}},{key:"__viewCode__REACT_HOT_LOADER__",value:function(){if(this.props.layerfun.publishApp){var e=this.props.app.edata.appid,t=(0,L.toJS)(this.props.app.data);this.props.layerfun.getHTML(e,t,(0,S.toFullHtml)(t,this.props.layerfun))}}},{key:"__modalShow__REACT_HOT_LOADER__",value:function(){var e=this;this.setState({visible:!0},function(){setTimeout(function(){e.initSwiper()},100)})}},{key:"__closeModal__REACT_HOT_LOADER__",value:function(){this.setState({visible:!1})}},{key:"__initSwiper__REACT_HOT_LOADER__",value:function(){var e=this,t=this.props.app.data,a=$("#h5dsSwiper"),n=function(){a.h5dsSwiper((0,f.default)(x.sliderAnimate[t.slider.animate]||{})),a.off("h5ds.animateStart h5ds.animateEnd").on("h5ds.animateStart",function(t,a){e.setState({nowpage:a+1}),e.animated=!0}).on("h5ds.animateEnd",function(){e.animated=!1}),$(document).trigger("h5ds.swiperAfter",{$in:$("#h5dsFixedsUp").find(".h5ds-swiper-page"),$out:null}),$(document).trigger("h5ds.swiperAfter",{$in:$("#h5dsFixedsDown").find(".h5ds-swiper-page"),$out:null})};$("#h5dsLoading").show();var r=0;!function t(){e.setLoadingNum=setTimeout(function(){$("#h5dsProgress").html(r+++"%"),r>100?($("#h5dsLoading").hide(),(0,D.autoPlayMusic)(),$(document).trigger("h5ds.loadingEnd","#h5dsSwiper"),(0,D.setAdsorbent)(),n(),clearInterval(e.setLoadingNum)):t()},5)}()}},{key:"__changePage__REACT_HOT_LOADER__",value:function(e){var t=$("#h5dsSwiper").find(".h5ds-swiper-current"),a=t.index();this.animated||("prev"===e?$("#h5dsSwiper").trigger("h5ds_down",{$out:t,outIndex:a}).trigger("h5ds_left",{$out:t,outIndex:a}):$("#h5dsSwiper").trigger("h5ds_up",{$out:t,outIndex:a}).trigger("h5ds_right",{$out:t,outIndex:a}))}},{key:"__uploadEnd__REACT_HOT_LOADER__",value:function(e){this.props.app.data.img=e.path}},{key:"__changeVal__REACT_HOT_LOADER__",value:function(e,t){var a=this.props.app.data;(void 0===a?{}:a)[t]=e}},{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.shortcuts_save",function(){e.save()}),$(window).on("resize",function(t){e.setState({innerWidth:window.innerWidth})});var t=this.props.app.edata.appid,a=this.props.layerfun.config.appHost,n=void 0===a?"/":a,r=n+"/apps/"+t;this.setState({path:r});!function t(){e.saveTime=setTimeout(function(){e.save(),t()},6e5)}()}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.shortcuts_save"),$(window).off("resize"),this.setLoadingNum&&clearInterval(this.setLoadingNum),this.saveTime&&clearTimeout(this.saveTime)}},{key:"render",value:function(){var e=this.state,t=e.visible,a=e.path,n=e.loading,r=e.innerWidth,i=this.props.app.data,s=this.props.layerfun,l=s.pageToHTML,d=s.getHTML,_={isMinPage:!1,isPhoneView:!1,isView:!0,isPC:!0},f=i.style,p=(f.width,(0,c.default)(f,["width"]));return b.default.createElement("span",null,b.default.createElement("a",{className:"h5ds-btn-min",onClick:this.save},n?b.default.createElement("span",null,b.default.createElement(u.default,{type:"loading"})," 保存中"):b.default.createElement("span",null,b.default.createElement("i",{className:"h5ds-ico h5ds-ico-baocun"})," 保存")),"  ",b.default.createElement("a",{onClick:this.modalShow,className:"h5ds-btn-min h5ds-js-publish"},b.default.createElement("i",{className:"h5ds-ico h5ds-ico-fabu"})," 预览/发布"),b.default.createElement(o.default,{style:{top:0},width:r,title:null,footer:null,visible:t,onCancel:this.closeModal,className:"h5ds-publish-pc-modal"},b.default.createElement("div",{className:"h5ds-modal h5ds-publish-modal h5ds-publish-pc"},n?b.default.createElement(H.default,{tips:"保存中，请耐心等待！"}):null,t?b.default.createElement("div",{className:"h5ds-modal-box"},b.default.createElement("div",{className:"h5ds-modal-full clearfix"},b.default.createElement("div",{className:"h5ds-publish-view-pc"},b.default.createElement("div",{className:"h5ds-publish-view-pc-window",style:p},i.mp3.url?b.default.createElement("audio",{style:{display:"none",height:0},preload:"auto",id:"h5dsBgMusic",loop:"loop"},b.default.createElement("source",{src:i.mp3.url,type:"audio/mpeg"})):null,i.mp3.url?b.default.createElement("div",{className:"h5ds-video-icon"},b.default.createElement("i",null),b.default.createElement("i",null),b.default.createElement("i",null),b.default.createElement("i",null)):null,(0,S.getPopupsHTML)(i,_,l),(0,S.getFixedsHTML)(i,_,l),(0,S.getPagesHTML)(i,_,l),b.default.createElement("div",{className:"h5ds-loading",id:"h5dsLoading"},b.default.createElement("div",{className:"h5ds-loadinner"},b.default.createElement("div",{className:i.loading}),b.default.createElement("div",{className:"h5ds-progress",id:"h5dsProgress"}))))),b.default.createElement("div",{className:"h5ds-publish-other-info"},b.default.createElement("div",{className:"h5ds-publish-btns"},b.default.createElement("a",{onClick:this.closeModal,className:"h5ds-publish-btn-edit"},"继续编辑"),b.default.createElement("a",{onClick:this.publish,className:"h5ds-publish-btn-publish"},"发布项目"),b.default.createElement("a",{href:a,rel:"noopener noreferrer",target:"_blank"},"查看项目"),d?[b.default.createElement("a",{key:"1",onClick:this.viewCode,className:"h5ds-publish-btn-code"},b.default.createElement("i",{className:"h5ds-ico h5ds-ico-domnode"})," 查看代码")]:null)))):null)))}}]),t}(C.Component))||i)||i;t.default=w;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(w,"PublishPC","D:/H5DS/h5ds-edit/src/core/components/publish/PublishPC.jsx")}();e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(184),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/layerList/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(46),o=n(s),l=a(15),u=n(l),d=a(3),c=n(d),_=a(0),f=n(_),p=a(1),h=n(p),m=a(4),y=n(m),g=a(5),v=n(g);a(185);var E=a(2),A=n(E),T=a(37),O=a(6),R=a(7),C=a(8),b=(r=(0,O.inject)(["app"]))(i=(0,O.observer)(i=function(e){function t(e){(0,f.default)(this,t);var a=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return a.copyLayer=function(){return a.__copyLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.setLayer=function(){return a.__setLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.delLayer=function(){return a.__delLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.viewLayer=function(){return a.__viewLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.locklayer=function(){return a.__locklayer__REACT_HOT_LOADER__.apply(a,arguments)},a.showList=function(){return a.__showList__REACT_HOT_LOADER__.apply(a,arguments)},a.onBlurName=function(){return a.__onBlurName__REACT_HOT_LOADER__.apply(a,arguments)},a.toChangeName=function(){return a.__toChangeName__REACT_HOT_LOADER__.apply(a,arguments)},a.state={show:!0,editLayerIndex:null},a}return(0,v.default)(t,e),(0,h.default)(t,[{key:"__copyLayer__REACT_HOT_LOADER__",value:function(e,t){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.props.app.copyLayer(t),$(document).trigger("h5ds.setHistory")}},{key:"__setLayer__REACT_HOT_LOADER__",value:function(e,t){var a=this;if(t&&t.ctrlKey){var n=this.props.app,r=n.edata,i=n.getPageDom,s=n.getPageLayerDom,l=n.getLayers;(0,C.transaction)(function(){if(!r.selectGroup){r.selectGroup=[];i().find(".h5ds-control")[0]&&r.selectGroup.push(r.selectLayer)}-1===r.selectGroup.indexOf(e)?r.selectGroup.push(e):r.selectGroup.splice(r.selectGroup.findIndex(function(t){return t===e}),1),r.selectGroup=[].concat((0,u.default)(new o.default(r.selectGroup))),r.selectGroup.length>1&&(r.selectLayer=null,r.setType="group"),(0,T.setGroupControl)(i,r.selectGroup),(0,T.dragGroupEvent)(l,s,r)})}else(0,C.transaction)(function(){a.props.app.edata.selectGroup=!1,a.props.app.setLayer(e),$(document).trigger("h5ds.iniControl")})}},{key:"__delLayer__REACT_HOT_LOADER__",value:function(e,t,a){var n=this;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),(0,C.transaction)(function(){n.props.app.delLayer(t),$(document).trigger("h5ds.setHistory")})}},{key:"__viewLayer__REACT_HOT_LOADER__",value:function(e,t){var a=this;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),(0,C.transaction)(function(){t.set.hide=!t.set.hide,a.props.app.edata.layerListKeys=R.util.randomID()})}},{key:"__locklayer__REACT_HOT_LOADER__",value:function(e,t){var a=this;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),(0,C.transaction)(function(){t.set.lock=!t.set.lock,a.props.app.edata.layerListKeys=R.util.randomID()})}},{key:"__showList__REACT_HOT_LOADER__",value:function(){var e=this.state.show;e=!e,this.setState({show:e})}},{key:"onChangeName",value:function(e,t,a){t.name=e.target.value}},{key:"__onBlurName__REACT_HOT_LOADER__",value:function(e){this.setState({editLayerIndex:null})}},{key:"__toChangeName__REACT_HOT_LOADER__",value:function(e,t){e.stopPropagation(),this.setState({editLayerIndex:t})}},{key:"componentDidMount",value:function(){var e=this;$("#h5dsLayerList").on("uniqend",function(t,a){t.stopPropagation(),e.props.app.exChangeLayer(a.from,a.to),e.setLayer(a.to),$(document).trigger("h5ds.setHistory")})}},{key:"componentWillUnmount",value:function(){$("#h5dsLayerList").off("uniqend")}},{key:"render",value:function(){var e=this,t=this.props.app.edata,a=t.selectLayer,n=(t.selectPage,t.selectType,t.selectGroup),r=this.state,i=r.show,s=r.editLayerIndex,o=this.props.app.getLayers()||[];return A.default.createElement("div",{className:"h5ds-layerlist h5ds-js-layerlist h5ds-drag","data-dragset":'{"limit":true, "undrag":["#h5dsLayerList"]}'},A.default.createElement("h1",{className:"h5ds-global-clearfix"},A.default.createElement("i",{className:"h5ds-ico h5ds-ico-caidan"}),A.default.createElement("span",null,"图层列表"),A.default.createElement("a",{onClick:this.showList},A.default.createElement("i",{className:"h5ds-ico h5ds-ico-a1down"}))),A.default.createElement("ul",{id:"h5dsLayerList",className:"h5ds-uniqlist",style:{display:i?"block":"none"}},o.length>0?o.map(function(t,r){var i=["h5ds-layerlist-showlayer"],o=["h5ds-layerlist-locklayer"];t.set.hide&&i.push("h5ds-layerlist-hidelayer-active"),t.set.lock&&o.push("h5ds-layerlist-locklayer-active");var l=["h5ds-js-layerlist-item"];return n?-1!==n.indexOf(r)&&l.push("h5ds-layerlist-active"):a===r&&l.push("h5ds-layerlist-active"),A.default.createElement("li",{onClick:function(t){return e.setLayer(r,t)},"data-keyid":t.keyid,key:t.keyid,className:l.join(" ")},A.default.createElement("a",{onClick:function(a){return e.viewLayer(a,t)},className:i.join(" ")},A.default.createElement("i",{className:"h5ds-ico h5ds-ico-yanjing"})),A.default.createElement("span",{className:"name",onDoubleClick:function(t){return e.toChangeName(t,r)}},s===r?A.default.createElement("input",{onBlur:e.onBlurName,value:t.name||t.type,onChange:function(a){return e.onChangeName(a,t,r)}}):t.name||t.type),A.default.createElement("a",{onClick:function(a){return e.delLayer(a,r,t)},className:"h5ds-layerlist-dellayer",title:"删除图层"},A.default.createElement("i",{className:"h5ds-ico h5ds-ico-icodel"})),A.default.createElement("a",{onClick:function(t){return e.copyLayer(t,r)},className:"h5ds-layerlist-copylayer",title:"复制图层"},A.default.createElement("i",{className:"h5ds-ico h5ds-ico-fuzhi"})),A.default.createElement("a",{onClick:function(a){return e.locklayer(a,t)},className:o.join(" "),title:"锁定图层"},A.default.createElement("i",{className:"h5ds-ico h5ds-ico-suo"})))}):A.default.createElement("li",{className:"h5ds-layerlist-null"},A.default.createElement("span",null,"暂无图层"))))}}]),t}(E.Component))||i)||i;t.default=b;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(b,"LayerList","D:/H5DS/h5ds-edit/src/core/components/layerList/LayerList.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(187),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/pageList/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(188);var m=a(2),y=n(m),g=a(6),v=a(189),E=n(v),A=(r=(0,g.inject)(["app"]))(i=(0,g.observer)(i=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.changeTabs=function(){return a.__changeTabs__REACT_HOT_LOADER__.apply(a,arguments)},a.setActive=function(){return a.__setActive__REACT_HOT_LOADER__.apply(a,arguments)},a.state={selected:"pages"},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__changeTabs__REACT_HOT_LOADER__",value:function(e){this.setState({selected:e}),this.props.app.setPage(0,e),$(document).trigger("h5ds.destoryControl")}},{key:"__setActive__REACT_HOT_LOADER__",value:function(e){var t=["h5ds-tab-head"];return this.state.selected===e&&t.push("h5ds-active"),t.join(" ")}},{key:"render",value:function(){var e=this;return y.default.createElement("div",{className:"h5ds-pagelist h5ds-js-pagelist"},y.default.createElement("div",{className:"h5ds-tab"},y.default.createElement("div",{className:"h5ds-tab-header h5ds-pagelist-btn"},y.default.createElement("ul",{className:"h5ds-global-clearfix"},y.default.createElement("li",{onClick:function(){return e.changeTabs("pages")},className:this.setActive("pages")},"页面"),y.default.createElement("li",{onClick:function(){return e.changeTabs("popups")},className:this.setActive("popups")},"弹窗"),y.default.createElement("li",{onClick:function(){return e.changeTabs("fixeds")},className:this.setActive("fixeds")},"浮动"))),y.default.createElement("div",{className:"h5ds-tab-body h5ds-pagelist-pages"},y.default.createElement("div",{className:"h5ds-tab-box",style:{display:"block"}},y.default.createElement(E.default,null)))))}}]),t}(m.Component))||i)||i;t.default=A;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(A,"Left","D:/H5DS/h5ds-edit/src/core/components/pageList/PageList.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(39),o=n(s),l=a(71),u=n(l),d=a(40),c=n(d),_=a(11),f=n(_),p=a(3),h=n(p),m=a(0),y=n(m),g=a(1),v=n(g),E=a(4),A=n(E),T=a(5),O=n(T);a(41),a(72),a(42),a(12);var R=a(2),C=n(R),b=a(6),D=a(8),L=a(7),k=(r=(0,b.inject)("app","layerfun"))(i=(0,b.observer)(i=function(e){function t(e){(0,y.default)(this,t);var a=(0,A.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return a.setPages=function(){return a.__setPages__REACT_HOT_LOADER__.apply(a,arguments)},a.copyPage=function(){return a.__copyPage__REACT_HOT_LOADER__.apply(a,arguments)},a.delPage=function(){return a.__delPage__REACT_HOT_LOADER__.apply(a,arguments)},a.savePage=function(){return a.__savePage__REACT_HOT_LOADER__.apply(a,arguments)},a.setPage=function(){return a.__setPage__REACT_HOT_LOADER__.apply(a,arguments)},a.editInfo=function(){return a.__editInfo__REACT_HOT_LOADER__.apply(a,arguments)},a.setInfoOk=function(){return a.__setInfoOk__REACT_HOT_LOADER__.apply(a,arguments)},a.changeVal=function(){return a.__changeVal__REACT_HOT_LOADER__.apply(a,arguments)},a.onCancel=function(){return a.__onCancel__REACT_HOT_LOADER__.apply(a,arguments)},a.pageToHtml=function(){return a.__pageToHtml__REACT_HOT_LOADER__.apply(a,arguments)},a.state={visible:!1,info:{}},a.pages=null,a}return(0,O.default)(t,e),(0,v.default)(t,[{key:"__setPages__REACT_HOT_LOADER__",value:function(){var e=this.props.app,t=e.data,a=e.edata;this.pages=(0,D.toJS)(t[a.selectType]||[])}},{key:"__copyPage__REACT_HOT_LOADER__",value:function(e,t){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.props.app.copyPage(t),this.setPage(t+1),$(document).trigger("h5ds.setHistory")}},{key:"__delPage__REACT_HOT_LOADER__",value:function(e,t){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.props.app.delPage(t),$(document).trigger("h5ds.setHistory")}},{key:"__savePage__REACT_HOT_LOADER__",value:function(){$(".h5ds-js-savepage").trigger("click")}},{key:"__setPage__REACT_HOT_LOADER__",value:function(e){var t=this,a=this.props.app.edata,n=a.selectType;$(document).trigger("h5ds.destoryControl",{pageNum:e,selectType:n}),(0,D.transaction)(function(){t.props.app.edata.keys=L.util.randomID(),$(document).trigger("h5ds.setHistory")}),$("#h5dsCanvas").scrollTop(0)}},{key:"__editInfo__REACT_HOT_LOADER__",value:function(e,t){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.setState({visible:!0,info:{id:t.id,name:t.name,desc:t.desc}})}},{key:"__setInfoOk__REACT_HOT_LOADER__",value:function(){var e=this,t=this.props.app.getPage,a=this.state.info,n=a.id,r=a.name,i=a.desc,s=t();if(n&&!/^[_a-zA-Z][_a-zA-Z0-9]+/.test(n))return void f.default.error("id必须是字母或者下划线开头，且必须由字母，数字，或者下划线组成！");(0,D.transaction)(function(){s.id=n,s.name=r,s.desc=i,$(document).trigger("h5ds.setHistory"),e.setState({visible:!1})})}},{key:"__changeVal__REACT_HOT_LOADER__",value:function(e,t){var a=this.state.info;a[t]=e,this.setState({info:a})}},{key:"__onCancel__REACT_HOT_LOADER__",value:function(){this.setState({visible:!1})}},{key:"__pageToHtml__REACT_HOT_LOADER__",value:function(e){return(0,this.props.layerfun.pageToHTML)(e,{isMinPage:!0,isPhoneView:!1,isView:!1})}},{key:"componentDidMount",value:function(){var e=this;$("#h5dsPageListId").on("uniqend",function(t,a){e.props.app.exChangePage(a.from,a.to),$(document).trigger("h5ds.setHistory")}),this.setPages()}},{key:"componentWillUnmount",value:function(){$("#h5dsPageListId").off("uniqend")}},{key:"componentWillReact",value:function(){this.setPages()}},{key:"render",value:function(){var e=this,t=c.default.TextArea,a=this.props.app.edata,n=a.selectType,r=(a.pageListKeys,"");"fixeds"!==n&&(r="h5ds-uniqlist");var i=this.props.app.getPageNum(),s=this.state,l=s.visible,d=s.info;return C.default.createElement("ul",{className:r,id:"h5dsPageListId"},this.pages?this.pages.map(function(t,a){return C.default.createElement("li",{onClick:function(){return e.setPage(a)},key:t.keyid,className:"h5ds-pagelist-page-item"+(i===a?" h5ds-pagelist-active":"")},C.default.createElement("div",{className:"h5ds-pagelist-page-content"},C.default.createElement("div",{className:"h5ds-page-min",style:{transform:"scale("+100/t.style.width+")",width:t.style.width||1e3,height:t.style.height||800,backgroundImage:t.style.backgroundImage,backgroundColor:t.style.backgroundColor,backgroundRepeat:t.style.backgroundRepeat,backgroundSize:t.style.backgroundSize}},e.pageToHtml(t))),C.default.createElement("div",{className:"h5ds-pagelist-page-info"},C.default.createElement("a",{onClick:function(a){return e.editInfo(a,t)},className:"h5ds-pagelist-important h5ds-pagelist-edit-page",title:"编辑页面信息"},C.default.createElement("i",{className:"h5ds-ico h5ds-ico-bianji1"})),"fixeds"!==n?C.default.createElement("a",{onClick:function(t){return e.copyPage(t,a)},className:"h5ds-pagelist-copy-page",title:"复制页面"},C.default.createElement("i",{className:"h5ds-ico h5ds-ico-fuzhi"})):null,"fixeds"!==n?C.default.createElement("a",{onClick:function(e){return e.nativeEvent.stopImmediatePropagation()},className:"h5ds-pagelist-del-page",title:"删除页面"},C.default.createElement(u.default,{placement:"rightBottom",title:"是否删除该页面？",onConfirm:function(t){return e.delPage(t,a)}},C.default.createElement("i",{className:"h5ds-ico h5ds-ico-icodel"}))):null,C.default.createElement("a",{onClick:function(t){return e.savePage(t,a)},className:"h5ds-pagelist-save-page",title:"收藏页面"},C.default.createElement("i",{className:"h5ds-ico h5ds-ico-shoucang"}))))}):C.default.createElement("div",{className:"h5ds-pagelist-loading"},"页面载入中..."),C.default.createElement(o.default,{title:"修改页面参数",visible:l,width:420,onOk:this.setInfoOk,className:"h5ds-pagelist-page-info h5ds-modal",onCancel:this.onCancel},C.default.createElement("div",{className:"h5ds-pagelist-item"},C.default.createElement("label",null,"ID："),C.default.createElement(c.default,{value:d.id,onChange:function(t){return e.changeVal(t.target.value,"id")}})),C.default.createElement("div",{className:"h5ds-pagelist-item"},C.default.createElement("label",null,"页面名字："),C.default.createElement(c.default,{value:d.name,onChange:function(t){return e.changeVal(t.target.value,"name")}})),C.default.createElement("div",{className:"h5ds-pagelist-item"},C.default.createElement("label",null,"页面描述："),C.default.createElement(t,{value:d.desc,rows:4,onChange:function(t){return e.changeVal(t.target.value,"desc")}}))))}}]),t}(R.Component))||i)||i;t.default=k;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(k,"PageList","D:/H5DS/h5ds-edit/src/core/components/pageList/List.jsx")}();e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(191),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/canvas/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(9),o=n(s),l=a(19),u=n(l),d=a(18),c=n(d),_=a(3),f=n(_),p=a(0),h=n(p),m=a(1),y=n(m),g=a(4),v=n(g),E=a(5),A=n(E);a(192);var T=a(2),O=n(T),R=a(13),C=n(R),b=a(37),D=a(6),L=a(193),k=n(L),H=a(195),x=n(H),S=a(197),w=n(S),N=a(199),I=n(N),M=a(8),P=a(7),j=(r=(0,D.inject)("app","layerfun"))(i=(0,D.observer)(i=function(e){function t(e){(0,h.default)(this,t);var a=(0,v.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.initLayerAction=function(){return a.__initLayerAction__REACT_HOT_LOADER__.apply(a,arguments)},a.iniControl=function(){return a.__iniControl__REACT_HOT_LOADER__.apply(a,arguments)},a.setStyle=function(){return a.__setStyle__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=e.app.getLayer(),a}return(0,A.default)(t,e),(0,y.default)(t,[{key:"__initLayerAction__REACT_HOT_LOADER__",value:function(){$("[data-adsorbent]").each(function(){var e=$(this),t=JSON.parse(e.attr("data-adsorbent")),a={};void 0!==t.abottom&&(a.bottom=0),void 0!==t.atop&&(a.top=0),void 0!==t.aleft&&(a.left=0),void 0!==t.aright&&(a.right=0),e.css(a)}),$(document).trigger("h5ds.canvasRenderEnd")}},{key:"__iniControl__REACT_HOT_LOADER__",value:function(){var e=this,t=this.props.app,a=t.getLayer,n=t.getLayerDom,r=t.getPageDom;this.$nowlayer=n();var i=r().find(".h5ds-control");if(this.layer=this.props.app.getLayer(),i[0]&&(i.remove(),i=null),this.$nowlayer[0]){var s=this.props.layerfun.layersSet[a().type]||{},o=s.editorSet||{};this.$nowlayer.control({setHeight:!1!==o.height,setWidth:!1!==o.width,movex:!1!==o.x,movey:!1!==o.y,rotate:!1!==o.rotate,autosize:!0,fixedsize:!0}),this.$nowlayer.off("controlMove.h5ds.canvas").on("controlMove.h5ds.canvas",function(t,a){if(!a)return!1;if(("img"===e.layer.type||"combin"===e.layer.type)&&(e.cropImageData||(e.cropImageData={$:"img"===e.layer.type?e.$nowlayer.find(".layer-img-inner"):e.$nowlayer.children(".element").children(".layer-combinbox").children(".h5ds-swiper-layers")},e.cropImageData.$[0]&&(e.cropImageData.crop="img"===e.layer.type?JSON.parse(e.layer.data.crop)||{}:e.layer.originstyle)),e.cropImageData.$[0])){var n=e.cropImageData.crop,r=n.width,i=void 0===r?1:r,s=n.height,o=void 0===s?1:s;e.cropImageData.$.css({transform:"scale("+a.width/i+", "+a.height/o+")"})}}),this.$nowlayer.off("change.h5ds.canvas").on("change.h5ds.canvas",function(t,a){if(e.cropImageData&&(e.cropImageData=null),!a)return!1;(0,M.transaction)(function(){if(!e.layer)return null;for(var t in a)switch(t){case"left":e.layer.style.left=a[t];break;case"top":e.layer.style.top=a[t];break;case"width":e.layer.style.width=a[t];break;case"height":e.layer.style.height=a[t];break;case"transform":e.layer.style.transform=a.transform}e.props.app.edata.keys=P.util.randomID()}),$(document).trigger("h5ds.setHistory")})}}},{key:"__setStyle__REACT_HOT_LOADER__",value:function(e){var t=this.props.app.edata,a=t.selectType,n=t.selectFixed,r={},i=this.props.app.getPage()||{};switch(a){case"popups":"popups"===e?r.display="block":r.pointerEvents="none";break;case"fixeds":"popups"===e&&(r.display="none"),e+n==="fixedUp0"||e+n==="fixedDown1"?(r.width="100%",r.height="100%"):r.pointerEvents="none";break;case"pages":"popups"===e?r.display="none":"pages"===e||(r.pointerEvents="none")}return(0,c.default)(r,i.style||{})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.app,a=t.edata,n=t.getPageLayerDom,r=(t.getPageNum,t.getLayers);$(document).on("mousedown.h5ds.destoryControl",function(e){!$(e.target).closest(".layer")[0]&&$(e.target).closest("#h5dsCanvas")[0]&&$(document).trigger("h5ds.destoryControl")}),$(document).on("h5ds.destoryControl",function(t,n){var r=a.selectType,i=a.pageNum,s=$("#h5dsCanvasApp").find(".h5ds-control");s[0]&&(s.remove(),s=null),(0,M.transaction)(function(){a.setType="page",a.selectGroup=!1,a.selectLayer=null,n&&(i=n.pageNum,r=n.selectType),P.util.isEmpty(i)||e.props.app.setPage(i,r)})}),$(document).on("h5ds.iniControl",function(){e.iniControl()}),(0,b.initDragSelectGroupEvent)(this.props.app,function(e){(0,M.transaction)(function(){a.selectGroup=e,a.setType="group"})}),(0,b.dragGroupEvent)(r,n,a),this.initLayerAction()}},{key:"componentDidUpdate",value:function(){this.initLayerAction()}},{key:"componentWillUnmount",value:function(){$(document).off("mousedown.h5ds.destoryControl"),$(document).off("h5ds.iniControl"),$(document).off("h5ds.destoryControl"),$("#h5dsCanvas").off("mousedown.h5ds.group"),$("#h5dsCanvas").off("mousedown.h5ds.layerGroup"),this.$nowlayer&&this.$nowlayer.off("change.h5ds.canvas controlMove.h5ds.canvas")}},{key:"render",value:function(){var e=this.props.app,t=e.data,a=e.edata,n=e.getPage,r=e.renderPageList,i=t.style,s=(i.width,i.height,(0,u.default)(i,["width","height"])),l=a.phoneStyle.transform,d=(0,c.default)((0,o.default)({},s),{transform:l}),_=n("pages",a.selectPage),f={width:C.default.appWidth,height:C.default.appHeight};_&&(f=(0,c.default)(f,(0,o.default)({},_.style))),a.keys;var p=this.props.layerfun.pageToHTML;r();var h={isMinPage:!1,isPhoneView:!0,isView:!1};return O.default.createElement("div",{className:"h5ds-center",onDragStart:function(e){e.preventDefault()}},O.default.createElement("div",{className:"h5ds-canvas"+(a.banAnimate?" h5ds-ban-animate":""),id:"h5dsCanvas"},O.default.createElement("div",{className:"h5ds-canvas-box h5ds-js-canvas",style:(0,o.default)({},d)},O.default.createElement("div",{className:"h5ds-canvas-border"}),"phone"===C.default.appType?O.default.createElement("div",{className:"h5ds-canvas-lines",style:{width:C.default.appWidth,height:f.height}},O.default.createElement("div",{className:"h5ds-canvas-lines-iphone678"}),O.default.createElement("div",{style:{top:(f.height-640)/2<0?(f.height-640)/2:0},className:"h5ds-canvas-lines-iphoneX"})):null,O.default.createElement("div",{className:"h5ds-canvas-app h5ds-js-setheight",id:"h5dsCanvasApp",style:(0,o.default)({},f)},O.default.createElement(k.default,{width:C.default.appWidth,height:f.height}),O.default.createElement(w.default,{height:f.height}),"phone"===C.default.appType?null:O.default.createElement(I.default,{width:f.width}),a.canvasShow?O.default.createElement("div",{className:"h5ds-page-viewup"},"popups"===a.selectType?O.default.createElement("div",{className:"h5ds-page-viewup h5ds-js-setheight",id:"h5dsPageViewPopup",style:(0,o.default)({},this.setStyle("popups"))},p(n("popups"),h)):null,O.default.createElement("div",{className:"h5ds-page-viewup h5ds-js-setheight",id:"h5dsPageViewFixedUp",style:(0,o.default)({},this.setStyle("fixedUp"))},p(n("fixeds",0),h)),O.default.createElement("div",{className:"h5ds-page-viewup h5ds-js-setheight",id:"h5dsPageViewFixedDown",style:(0,o.default)({},this.setStyle("fixedDown"))},p(n("fixeds",1),h)),O.default.createElement("div",{className:"h5ds-page-view h5ds-js-setheight",id:"h5dsPageView",style:(0,o.default)({},this.setStyle("pages"))},_?p(_,h):null)):null)),O.default.createElement(x.default,null)))}}]),t}(T.Component))||i)||i;t.default=j;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(j,"Canvas","D:/H5DS/h5ds-edit/src/core/components/canvas/Canvas.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(194);var m=a(2),y=n(m),g=a(6),v=(r=(0,g.inject)("app"))(i=(0,g.observer)(i=function(e){function t(){var e,a,n,r;(0,u.default)(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return a=n=(0,f.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(s))),n.state={show:!1},r=a,(0,f.default)(n,r)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.show.grid",function(){e.setState({show:!e.state.show})})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.show.grid")}},{key:"render",value:function(){var e=this.state.show,t=this.props,a=t.width,n=t.height,r=this.props.app.edata,i=r.gridSize,s=r.gridAdsorb,o=["h5ds-grid-box","h5ds-js-grid"];return e&&o.push("h5ds-grid-box-show"),y.default.createElement("div",{className:o.join(" "),"data-adsorb":s,"data-size":i},y.default.createElement("ul",{className:"h5ds-grid-row"},Array(Math.ceil(parseInt(n,10)/i)).fill(1).map(function(e,t){return y.default.createElement("li",{key:t,style:{top:i*t}})})),y.default.createElement("ul",{className:"h5ds-grid-col"},Array(Math.ceil(parseInt(a,10)/i)).fill(1).map(function(e,t){return y.default.createElement("li",{key:t,style:{left:i*t}})})))}}]),t}(m.Component))||i)||i;t.default=v;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(v,"Grid","D:/H5DS/h5ds-edit/src/core/components/canvas/Grid.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(9),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(196);var g=a(2),v=n(g),E=a(6),A=a(7),T=(r=(0,E.inject)(["app"]))(i=(0,E.observer)(i=function(e){function t(){var e,a,n,r;(0,c.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,h.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(s))),n.state={width:0,height:0,lines:[]},n.filterLine=function(){var e;return(e=n).__filterLine__REACT_HOT_LOADER__.apply(e,arguments)},n.lineMousedown=function(){var e;return(e=n).__lineMousedown__REACT_HOT_LOADER__.apply(e,arguments)},n.rowMousedown=function(){var e;return(e=n).__rowMousedown__REACT_HOT_LOADER__.apply(e,arguments)},n.colMousedown=function(){var e;return(e=n).__colMousedown__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,h.default)(n,r)}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__filterLine__REACT_HOT_LOADER__",value:function(){var e=[];this.state.lines.forEach(function(t){"row"===t.type?t.style.left>=0&&t.style.left<=$("#h5dsCanvas").width()&&e.push(t):t.style.top>=0&&t.style.top<=$("#h5dsCanvas").height()&&e.push(t)}),this.setState({lines:e})}},{key:"__lineMousedown__REACT_HOT_LOADER__",value:function(e,t){var a=this;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var n=e.pageX,r=e.pageY,i=t.style.left,s=t.style.top,o=this.state.lines;$(document).on("mousemove.h5ds.ruler.line",function(e){"row"===t.type?t.style.left=e.pageX-n+i:t.style.top=e.pageY-r+s,a.setState({lines:o})}).on("mouseup.h5ds.rulerline",function(){a.filterLine(),$(document).off("mousemove.h5ds.ruler.line"),$(document).off("mouseup.h5ds.ruler.line")})}},{key:"__rowMousedown__REACT_HOT_LOADER__",value:function(e){var t=this;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var a={id:A.util.randomID(),type:"row",style:{left:0,top:0,width:1,height:2e3}},n=this.state.lines;n.push(a);var r=e.pageX;$(document).on("mousemove.h5ds.ruler",function(e){a.style.left=e.pageX-r,t.setState({lines:n})}).on("mouseup.h5ds.ruler",function(e){t.filterLine(),$(document).off("mousemove.h5ds.ruler"),$(document).off("mouseup.h5ds.ruler")})}},{key:"__colMousedown__REACT_HOT_LOADER__",value:function(e){var t=this;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var a={id:A.util.randomID(),type:"col",style:{left:0,top:0,height:1,width:$("#h5dsCanvas").width()}},n=this.state.lines;n.push(a);var r=e.pageY;$(document).on("mousemove.h5ds.ruler",function(e){a.style.top=e.pageY-r,t.setState({lines:n})}).on("mouseup.h5ds.ruler",function(e){t.filterLine(),$(document).off("mousemove.h5ds.ruler"),$(document).off("mouseup.h5ds.ruler")})}},{key:"componentDidMount",value:function(){this.setState({width:2e3,height:2e3})}},{key:"render",value:function(){var e=this,t=this.state,a=t.height,n=t.width,r=t.lines;if(!a||!n)return null;var i=this.props.app.edata.phoneScale,s=10*i;return v.default.createElement("div",{className:"h5ds-ruler-box"},r.map(function(t){return v.default.createElement("li",{onMouseDown:function(a){return e.lineMousedown(a,t)},className:"h5ds-ruler-line h5ds-ruler-line-"+t.type,key:t.id,style:(0,o.default)({},t.style)})}),v.default.createElement("ul",{onMouseDown:this.rowMousedown,className:"h5ds-ruler-row",style:{height:a}},Array(Math.ceil(a/s)).fill(1).map(function(e,t){var a=t*s,n=5;return t%5==0&&(n=10),v.default.createElement("li",{key:t,style:{top:a,width:n}},10===n?v.default.createElement("span",null,parseInt(a,10)):null)})),v.default.createElement("ul",{onMouseDown:this.colMousedown,className:"h5ds-ruler-col",style:{width:n}},Array(Math.ceil(n/s)).fill(1).map(function(e,t){var a=t*s,n=5;return t%5==0&&(n=10),v.default.createElement("li",{key:t,style:{left:a,height:n}},10===n?v.default.createElement("span",null,parseInt(a,10)):null)})))}}]),t}(g.Component))||i)||i;t.default=T;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(T,"Ruler","D:/H5DS/h5ds-edit/src/core/components/canvas/Ruler.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(198);var m=a(2),y=n(m),g=a(6),v=a(13),E=n(v),A=a(8),T=a(7),O=(r=(0,g.inject)("app"))(i=(0,g.observer)(i=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.setPageHei=function(){return a.__setPageHei__REACT_HOT_LOADER__.apply(a,arguments)},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__setPageHei__REACT_HOT_LOADER__",value:function(e){e.stopPropagation();var t=this.props.app,a=t.edata,n=t.data,r=t.getPage,i=r();i.style.height||(i.style.height=E.default.appHeight);var s=e.pageY,o=i.style.height,l=i.style.height,u=a.phoneStyle.transform.transformValue("scale")||1;u=parseFloat(u);var d=$(".h5ds-js-setheight"),c=$(".h5ds-js-setpage-height");$(document).on("mousemove.h5ds.setPageHei",function(e){l=o+(e.pageY-s)/u,l<E.default.appHeight&&(l=E.default.appHeight),l=parseInt(l,10),d.height(l),c.html(l+"px")}).on("mouseup.h5ds.setPageHei",function(){(0,A.transaction)(function(){i.style.height=parseInt(l,10),"pc"===n.type?n.style.height=parseInt(l,10):n.style.height=E.default.appHeight,a.keys=T.util.randomID(),$(document).trigger("h5ds.setHistory"),$(document).off("mousemove.h5ds.setPageHei mouseup.h5ds.setPageHei")})})}},{key:"render",value:function(){var e=this.props.height,t=this.props.app.edata;return y.default.createElement("div",{className:"h5ds-setpage-height"},y.default.createElement("span",{key:e,className:"h5ds-setpage-px"},y.default.createElement("span",{className:"h5ds-js-setpage-height"},e),"px [缩放大小：",t.phoneStyle.transform.transformValue("scale")||1,"]"),y.default.createElement("a",{onMouseDown:this.setPageHei,className:"h5ds-setpage-height-btn"},y.default.createElement("i",{className:"h5ds-ico h5ds-ico-shangxiawen"})))}}]),t}(m.Component))||i)||i;t.default=O;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(O,"SetPageHeight","D:/H5DS/h5ds-edit/src/core/components/canvas/SetPageHeight.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p),m=a(2),y=n(m),g=a(6),v=a(8),E=a(13),A=n(E),T=a(7),O=(r=(0,g.inject)("app"))(i=(0,g.observer)(i=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.setPageWidth=function(){return a.__setPageWidth__REACT_HOT_LOADER__.apply(a,arguments)},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__setPageWidth__REACT_HOT_LOADER__",value:function(e){e.stopPropagation();var t=this.props.app,a=t.edata,n=t.data;n.style.width||(n.style.width=A.default.appWidth);var r=e.pageX,i=n.style.width,s=n.style.width,o=a.phoneStyle.transform.transformValue("scale")||1;o=parseFloat(o);var l=$(".h5ds-js-setheight"),u=$(".h5ds-js-setpage-width");$(document).on("mousemove.h5ds.setPageWidth",function(e){s=i+(e.pageX-r)/o,s<A.default.appWidth&&(s=A.default.appWidth),s=parseInt(s,10),l.width(s),u.html(s+"px")}).on("mouseup.h5ds.setPageWidth",function(){(0,v.transaction)(function(){n.style.width=parseInt(s,10),n.pages.forEach(function(e){e.style.width=parseInt(s,10)}),a.keys=T.util.randomID(),$(document).trigger("h5ds.setHistory"),$(document).off("mousemove.h5ds.setPageWidth mouseup.h5ds.setPageWidth")})})}},{key:"componentDidMount",value:function(){$(this.btn).on("mousedown",this.setPageWidth)}},{key:"componentWillUnmount",value:function(){$(this.btn).off("mousedown")}},{key:"render",value:function(){var e=this,t=this.props.width;return y.default.createElement("div",{className:"h5ds-setpage-width"},y.default.createElement("span",{key:t,className:"h5ds-setpage-px h5ds-js-setpage-width"},t,"px"),y.default.createElement("a",{ref:function(t){return e.btn=t},className:"h5ds-setpage-width-btn"},y.default.createElement("i",{className:"h5ds-ico h5ds-ico-shangxiawen"})))}}]),t}(m.Component))||i)||i;t.default=O;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(O,"SetPageWidth","D:/H5DS/h5ds-edit/src/core/components/canvas/SetPageWidth.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(201);var m=a(2),y=n(m),g=a(6),v=a(202),E=n(v),A=a(206),T=n(A),O=a(244),R=n(O),C=a(247),b=n(C),D=(r=(0,g.inject)(["app"]))(i=(0,g.observer)(i=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.app.edata,t=e.setType,a=e.selectType,n=e.selectFixed,r=e.selectPage,i=e.selectPopup,s=null;switch(t){case"layer":s=y.default.createElement(T.default,null);break;case"group":s=y.default.createElement(R.default,null);break;case"page":s=y.default.createElement(b.default,{key:a+n+r+i});break;case"app":s=y.default.createElement(E.default,null)}return y.default.createElement("div",{className:"h5ds-setting h5ds-js-setting"},s)}}]),t}(m.Component))||i)||i;t.default=D;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(D,"Setting","D:/H5DS/h5ds-edit/src/core/components/setting/Setting.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(40),o=n(s),l=a(27),u=n(l),d=a(19),c=n(d),_=a(20),f=n(_),p=a(9),h=n(p),m=a(3),y=n(m),g=a(0),v=n(g),E=a(1),A=n(E),T=a(4),O=n(T),R=a(5),C=n(R);a(42),a(28),a(203);var b=a(2),D=n(b),L=a(6),k=a(48),H=n(k),x=a(8),S=a(204),w=a(38),N=a(10),I=a(205),M=n(I),P=a(7),j=(r=(0,L.inject)("app","layerfun"))(i=(0,L.observer)(i=function(e){function t(e){(0,v.default)(this,t);var a=(0,O.default)(this,(t.__proto__||(0,y.default)(t)).call(this,e));a.setTextApp=P.util.debounce(function(e,t){a.appData[t]=e,$(document).trigger("h5ds.setHistory")},300),a.changeVal=function(){return a.__changeVal__REACT_HOT_LOADER__.apply(a,arguments)},a.clickLoader=function(){return a.__clickLoader__REACT_HOT_LOADER__.apply(a,arguments)},a.selectSilder=function(){return a.__selectSilder__REACT_HOT_LOADER__.apply(a,arguments)},a.changeMainImg=function(){return a.__changeMainImg__REACT_HOT_LOADER__.apply(a,arguments)},a.backGroundChange=function(){return a.__backGroundChange__REACT_HOT_LOADER__.apply(a,arguments)};var n=e.app.data;a.appData=n;var r=n.img,i=n.desc,s=n.name,o=n.loading,l=void 0===o?"":o,u=n.set,d=void 0===u?{}:u,c=n.type,_=void 0===c?"phone":c,f=n.mp3,p=void 0===f?{}:f,m=n.slider,g=void 0===m?{}:m,E=n.style;g=(0,h.default)({},g),d=(0,h.default)({},d),p=(0,h.default)({},p);var A=E.width,T=E.height,R=E.backgroundImageCrop,C=void 0===R?"{}":R,b=E.backgroundImage,D=void 0===b?"":b,L=E.backgroundRepeat,k=void 0===L?"no-repeat":L,H=E.backgroundSize,x=void 0===H?"initial":H,S=E.backgroundColor,w=void 0===S?"":S;return a.state={img:r,desc:i,name:s,loading:l,set:d,type:_,mp3:p,slider:g,width:A,height:T,backgroundImageCrop:C,backgroundImage:D,backgroundRepeat:k,backgroundSize:x,backgroundColor:w},a}return(0,C.default)(t,e),(0,A.default)(t,[{key:"__changeVal__REACT_HOT_LOADER__",value:function(e,t){var a=this.state;a[t]=e,this.setState((0,h.default)({},a)),this.setTextApp(e,t)}},{key:"__clickLoader__REACT_HOT_LOADER__",value:function(e){this.changeVal(e,"loading")}},{key:"__selectSilder__REACT_HOT_LOADER__",value:function(e,t){var a=this.state.slider;a.animate=t,this.setState({slider:a}),this.appData.slider.animate=t,$(document).trigger("h5ds.setHistory")}},{key:"__changeMainImg__REACT_HOT_LOADER__",value:function(e){this.changeVal(e.img,"img")}},{key:"__backGroundChange__REACT_HOT_LOADER__",value:function(e){var t=this;this.setState((0,h.default)({},e)),(0,x.transaction)(function(){for(var a in e){var n=e[a];void 0===t.appData.style[a]?(0,x.extendObservable)(t.appData.style,(0,f.default)({},a,n)):t.appData.style[a]=n}t.props.app.edata.keys=P.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"componentWillReact",value:function(){var e=this.appData,t=e.name,a=e.desc,n=e.img;this.setState({name:t,desc:a,img:n})}},{key:"render",value:function(){var e=this,t=this.state,a=t.img,n=t.desc,r=t.name,i=t.loading,s=(t.set,t.type,t.mp3,t.slider),l=(t.width,t.height,(0,c.default)(t,["img","desc","name","loading","set","type","mp3","slider","width","height"])),d=u.default.TabPane,_=o.default.TextArea,f=this.props.layerfun.Music;return this.appData.name,this.appData.desc,this.appData.img,D.default.createElement("div",{className:"h5ds-appset"},D.default.createElement(u.default,{size:"small",defaultActiveKey:"1",className:"h5ds-basic-tabs"},D.default.createElement(d,{key:"1",tab:"分享"},D.default.createElement(M.default,{uploadSet:this.props.layerfun.uploadBase64,onChange:this.changeMainImg,img:a}),D.default.createElement(N.SetItem,{className:"h5ds-appset-item",name:"H5标题:"},D.default.createElement(o.default,{value:r,onChange:function(t){return e.changeVal(t.target.value,"name")}})),D.default.createElement(N.SetItem,{className:"h5ds-appset-item",name:"H5描述:"},D.default.createElement(_,{rows:6,value:n,onChange:function(t){return e.changeVal(t.target.value,"desc")}}))),D.default.createElement(d,{key:"2",tab:"背景"},D.default.createElement(H.default,{uploadSet:this.props.layerfun.uploadBase64,onChange:this.backGroundChange,data:l})),D.default.createElement(d,{key:"3",tab:"音乐"},D.default.createElement(f,{layerfun:this.props.layerfun,app:this.props.app})),D.default.createElement(d,{key:"4",tab:"加载"},D.default.createElement("div",{className:"h5ds-appset-loading"},D.default.createElement("div",{className:"loaders"},S.loadings.map(function(t,a){return D.default.createElement("div",{onClick:function(a){return e.clickLoader(t,a)},key:a,className:"loader"+(t===i?" active":"")},D.default.createElement("div",{className:t}))})))),D.default.createElement(d,{key:"5",tab:"翻页"},D.default.createElement("div",{className:"h5ds-appset-slider"},D.default.createElement("div",{className:"h5ds-selectone"},w.sliderAnimate.map(function(t,a){return D.default.createElement("a",{key:a,onClick:function(n){return e.selectSilder(t,a)},className:"option"+(a===s.animate?" h5ds-selected":"")},D.default.createElement("span",null,t.name))}))))))}}]),t}(b.Component))||i)||i;t.default=j;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(j,"AppSet","D:/H5DS/h5ds-edit/src/core/components/setting/appSet/AppSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.loadings=["timer","typing_loader","location_indicator","dashboard","battery","magnifier","help","cloud","eye","coffee_cup","square","circle"];!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"loadings","D:/H5DS/h5ds-edit/src/core/conf/loading.js")}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(9),i=n(r),s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p),m=a(2),y=n(m),g=a(32),v=n(g),E=a(7),A=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.onPropsChange=function(){return a.__onPropsChange__REACT_HOT_LOADER__.apply(a,arguments)},a.showSourceImgs=function(){return a.__showSourceImgs__REACT_HOT_LOADER__.apply(a,arguments)},a.onCropOk=function(){return a.__onCropOk__REACT_HOT_LOADER__.apply(a,arguments)},a.eventId=E.util.randomID(),a.state={img:e.img||""},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__onPropsChange__REACT_HOT_LOADER__",value:function(){var e=this.state.img;this.props.onChange&&this.props.onChange({img:e})}},{key:"__showSourceImgs__REACT_HOT_LOADER__",value:function(){$(document).trigger("h5ds.showImgSource",this.eventId)}},{key:"__onCropOk__REACT_HOT_LOADER__",value:function(e){var t=this,a=this.props.uploadSet;if(!e.src)return void this.setState({img:""},this.onPropsChange);a&&$.ajax({type:"post",url:a.action,headers:(0,i.default)({},a.headers),data:{content:e.base64.split(",")[1]}}).done(function(e){e.path&&t.setState({img:e.path},t.onPropsChange)})}},{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.selectImage."+this.eventId,function(t,a){e.setState({img:a.url},e.onPropsChange)})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.selectImage."+this.eventId)}},{key:"render",value:function(){var e=this.state.img;return y.default.createElement("div",{className:"h5ds-util-background"},y.default.createElement("h1",{className:"h5ds-util-background-title"},"H5主图:"),y.default.createElement("div",{className:"h5ds-util-background-img"},y.default.createElement(v.default,{cropSet:null,onClickNullImage:this.showSourceImgs,onChangeImage:this.showSourceImgs,onCropBase64:this.onCropOk,src:e})))}}]),t}(m.Component);t.default=A;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(A,"AppMainImg","D:/H5DS/h5ds-edit/src/core/components/setting/appSet/AppMainImg.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(27),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(28),a(207);var g=a(2),v=n(g),E=a(6),A=a(208),T=n(A),O=a(228),R=n(O),C=a(242),b=n(C),D=(r=(0,E.inject)("app","layerfun"))(i=(0,E.observer)(i=function(e){function t(){return(0,c.default)(this,t),(0,h.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props.app.edata.selectlayerKeys,t=this.props.app.getLayer();if(!t)return null;var a=this.props.layerfun.layersSet[t.type]||{},n=a.editorSet||{},r=o.default.TabPane;return v.default.createElement("div",{className:"h5ds-layerset"},v.default.createElement("div",{className:"h5ds-layerset-tabsbox"},v.default.createElement(o.default,{defaultActiveKey:"1",className:"h5ds-tab-style2"},v.default.createElement(r,{key:"1",tab:"图层样式"},v.default.createElement(R.default,{key:e+"1"})),!1===n.animate?null:v.default.createElement(r,{key:"2",tab:"图层动画"},v.default.createElement(b.default,{key:e+"2"})),!1===n.interaction?null:v.default.createElement(r,{key:"3",tab:"图层交互"},v.default.createElement(T.default,{key:e+"3"})))))}}]),t}(g.Component))||i)||i;t.default=D;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(D,"LayerSet","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/LayerSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(209),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/interaction/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(210);var m=a(211),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(m),g=a(2),v=n(g),E=a(6),A=(r=(0,E.inject)("app"))(i=(0,E.observer)(i=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.selectUe=function(){return a.__selectUe__REACT_HOT_LOADER__.apply(a,arguments)},a.state={select:null},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__selectUe__REACT_HOT_LOADER__",value:function(e){this.setState({select:e})}},{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.closeUeBox",function(t){$(document).trigger("h5ds.setHistory"),e.setState({select:null})})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.closeUeBox")}},{key:"render",value:function(){var e=this,t=this.state.select,a=null;if(t)switch(t){case"link":a=v.default.createElement(y.LinkSet,null);break;case"toPage":a=v.default.createElement(y.ToPageSet,null);break;case"tel":a=v.default.createElement(y.TelSet,null);break;case"msg":a=v.default.createElement(y.MsgSet,null);break;case"hideShow":a=v.default.createElement(y.HideShowSet,null);break;case"touch":a=v.default.createElement(y.TouchSet,null);break;case"playSound":a=v.default.createElement(y.PlaySoundSet,null);break;case"shake":a=v.default.createElement(y.ShakeSet,null)}var n=this.props.app.getLayer();if(!n)return null;var r=n.ue||{},i=function(e){var t=["fun"];return void 0!==r[e]&&t.push("active"),t.join(" ")};return v.default.createElement("div",{className:"h5ds-ueset"},v.default.createElement("div",{className:"h5ds-ueset-list"},v.default.createElement("ul",{className:"h5ds-global-clearfix"},v.default.createElement("li",{className:i("link"),onClick:function(t){e.selectUe("link")}},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-lianjie"}),v.default.createElement("span",null,"超链接")),v.default.createElement("li",{className:i("toPage"),onClick:function(t){e.selectUe("toPage")}},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-tiaozhuan"}),v.default.createElement("span",null,"页面跳转")),v.default.createElement("li",{className:i("tel"),onClick:function(t){e.selectUe("tel")}},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-shoujidadianhua"}),v.default.createElement("span",null,"打电话")),v.default.createElement("li",{className:i("msg"),onClick:function(t){e.selectUe("msg")}},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-duanxin"}),v.default.createElement("span",null,"发短信")),v.default.createElement("li",{className:i("hideShow"),onClick:function(t){e.selectUe("hideShow")}},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-duanxin"}),v.default.createElement("span",null,"隐显切换")))),v.default.createElement("div",{className:"h5ds-ueset-set "+(t?"h5ds-ueset-show":"h5ds-ueset-hide")},a))}}]),t}(g.Component))||i)||i;t.default=A;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(A,"Interaction","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/interaction/Interaction.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(212),i=n(r),s=a(214),o=n(s),l=a(216),u=n(l),d=a(218),c=n(d),_=a(220),f=n(_),p=a(222),h=n(p),m=a(224),y=n(m),g=a(226),v=n(g),E={LinkSet:o.default,TelSet:h.default,ToPageSet:y.default,TouchSet:v.default,HideShowSet:i.default,ShakeSet:f.default,MsgSet:u.default,PlaySoundSet:c.default};t.default=E;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(E,"default","D:/H5DS/h5ds-edit/src/core/interaction/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(11),o=n(s),l=a(20),u=n(l),d=a(3),c=n(d),_=a(0),f=n(_),p=a(1),h=n(p),m=a(4),y=n(m),g=a(5),v=n(g),E=a(49),A=n(E);a(12),a(50),a(213);var T=a(2),O=n(T),R=a(6),C=a(7),b=A.default.Group,D=(r=(0,R.inject)(["app"]))(i=(0,R.observer)(i=function(e){function t(e){(0,f.default)(this,t);var a=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));a.changeText=function(){return a.__changeText__REACT_HOT_LOADER__.apply(a,arguments)},a.ok=function(){return a.__ok__REACT_HOT_LOADER__.apply(a,arguments)},a.clear=function(){return a.__clear__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=e.app.getLayer();var n=a.layer.ue.hideShow;return a.state={ids:n?n.ids:"",type:n?n.type:""},a}return(0,v.default)(t,e),(0,h.default)(t,[{key:"__changeText__REACT_HOT_LOADER__",value:function(e,t){this.setState((0,u.default)({},t,e))}},{key:"__ok__REACT_HOT_LOADER__",value:function(){var e=this.state,t=e.ids,a=e.type;C.util.isEmpty(t)||C.util.isEmpty(a)?o.default.error("id和显示类型必须同时填写！"):(this.layer.ue.hideShow={ids:t,type:a},$(document).trigger("h5ds.closeUeBox"))}},{key:"__clear__REACT_HOT_LOADER__",value:function(){this.layer.ue.hideShow&&delete this.layer.ue.hideShow,$(document).trigger("h5ds.closeUeBox")}},{key:"render",value:function(){var e=this,t=this.state,a=t.type,n=t.ids;return O.default.createElement("div",{className:"setuebox"},O.default.createElement("a",{onClick:this.ok,className:"close-setue"},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-jia"})," 确定"),O.default.createElement("a",{onClick:this.clear,className:"clear-setue"},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-icodel"})," 清除"),O.default.createElement("div",{className:"setue-set-box"},O.default.createElement("div",{className:"uebox uebox-hideshow"},O.default.createElement("h3",{className:"setue-title"},"交互名称：显示隐藏切换"),O.default.createElement("div",{className:"uebox-hideshow-box"},O.default.createElement(b,{value:a,onChange:function(t){return e.changeText(t.target.value,"type")}},O.default.createElement(A.default,{value:"hide"},"只隐藏"),O.default.createElement(A.default,{value:"show"},"只显示"),O.default.createElement(A.default,{value:"hideshow"},"显隐切换")),O.default.createElement("textarea",{placeholder:"请输入目标元素的id或者class, 多个用,分隔，格式：id: #xx，class: .xx",onChange:function(t){return e.changeText(t.target.value,"ids")},value:n}))),O.default.createElement("div",{className:"h5ds-basic-ueset-tips"},O.default.createElement("h5",null,"交互说明："),O.default.createElement("div",{className:"uebox-content"},"选择显隐藏的交互方式，设置目标元素的id，多个id用,分隔"))))}}]),t}(T.Component))||i)||i;t.default=D;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"RadioGroup","D:/H5DS/h5ds-edit/src/core/interaction/hideShow/HideShowSet.jsx"),__REACT_HOT_LOADER__.register(D,"HideShowSet","D:/H5DS/h5ds-edit/src/core/interaction/hideShow/HideShowSet.jsx"))}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(11),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(12),a(215);var g=a(2),v=n(g),E=a(6),A=a(7),T=(r=(0,E.inject)(["app"]))(i=(0,E.observer)(i=function(e){function t(e){(0,c.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return a.changeText=function(){return a.__changeText__REACT_HOT_LOADER__.apply(a,arguments)},a.ok=function(){return a.__ok__REACT_HOT_LOADER__.apply(a,arguments)},a.clear=function(){return a.__clear__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=e.app.getLayer(),a.state={val:a.layer.ue.link||""},a}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__changeText__REACT_HOT_LOADER__",value:function(e){this.setState({val:e.target.value})}},{key:"__ok__REACT_HOT_LOADER__",value:function(){var e=this.state.val;A.util.isUrl(e)?(this.layer.ue.link=e,$(document).trigger("h5ds.closeUeBox")):o.default.error("url格式不正确，格式示例：http://www.h5ds.com")}},{key:"__clear__REACT_HOT_LOADER__",value:function(){this.layer.ue.link&&delete this.layer.ue.link,$(document).trigger("h5ds.closeUeBox")}},{key:"render",value:function(){var e=this.state.val;return v.default.createElement("div",{className:"setuebox"},v.default.createElement("a",{onClick:this.ok,className:"close-setue"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-jia"})," 确定"),v.default.createElement("a",{onClick:this.clear,className:"clear-setue"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-icodel"})," 清除"),v.default.createElement("div",{className:"setue-set-box"},v.default.createElement("div",{className:"uebox"},v.default.createElement("h3",{className:"setue-title"},"交互名称：超链接"),v.default.createElement("div",{className:"uebox-links"},v.default.createElement("div",{className:"uebox-links-txt"},v.default.createElement("textarea",{placeholder:"请输入带http的链接地址",onChange:this.changeText,value:e}))),v.default.createElement("div",{className:"h5ds-basic-ueset-tips"},v.default.createElement("h5",null,"交互说明："),v.default.createElement("div",{className:"uebox-content"},"在输入框中输入要跳转到的链接地址就可以了")))))}}]),t}(g.Component))||i)||i;t.default=T;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(T,"LinkSet","D:/H5DS/h5ds-edit/src/core/interaction/link/LinkSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(11),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(12),a(217);var g=a(2),v=n(g),E=a(6),A=a(7),T=(r=(0,E.inject)(["app"]))(i=(0,E.observer)(i=function(e){function t(e){(0,c.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return a.changeText=function(){return a.__changeText__REACT_HOT_LOADER__.apply(a,arguments)},a.ok=function(){return a.__ok__REACT_HOT_LOADER__.apply(a,arguments)},a.clear=function(){return a.__clear__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=e.app.getLayer(),a.state={val:a.layer.ue.msg||""},a}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__changeText__REACT_HOT_LOADER__",value:function(e){this.setState({val:e.target.value})}},{key:"__ok__REACT_HOT_LOADER__",value:function(){var e=this.state.val;A.util.isPhoneNum(e)?(this.layer.ue.msg=e,$(document).trigger("h5ds.closeUeBox")):o.default.error("电话格式不正确，格式示例：13866688800")}},{key:"__clear__REACT_HOT_LOADER__",value:function(){this.layer.ue.msg&&delete this.layer.ue.msg,$(document).trigger("h5ds.closeUeBox")}},{key:"render",value:function(){var e=this.state.val;return v.default.createElement("div",{className:"setuebox"},v.default.createElement("a",{onClick:this.ok,className:"close-setue"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-jia"})," 确定"),v.default.createElement("a",{onClick:this.clear,className:"clear-setue"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-icodel"})," 清除"),v.default.createElement("div",{className:"setue-set-box"},v.default.createElement("div",{className:"uebox uebox-tel"},v.default.createElement("h3",{className:"setue-title"},"交互名称：发短信"),v.default.createElement("div",{className:"uebox-tel-input"},v.default.createElement("input",{placeholder:"请输入电话号码",onChange:this.changeText,value:e}))),v.default.createElement("div",{className:"uebox-tips"},v.default.createElement("h5",null,"交互说明："),v.default.createElement("div",{className:"uebox-content"},"在输入框中输入电话号码即可"))))}}]),t}(g.Component))||i)||i;t.default=T;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(T,"MegSet","D:/H5DS/h5ds-edit/src/core/interaction/msg/MsgSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(34),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(36),a(219);var g=a(2),v=n(g),E=a(6),A=(r=(0,E.inject)("app"))(i=(0,E.observer)(i=function(e){function t(e){(0,c.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return a.ok=function(){return a.__ok__REACT_HOT_LOADER__.apply(a,arguments)},a.clear=function(){return a.__clear__REACT_HOT_LOADER__.apply(a,arguments)},a.onChangeId=function(){return a.__onChangeId__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=e.app.getLayer(),a.sounds=[],a}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__ok__REACT_HOT_LOADER__",value:function(){$(document).trigger("h5ds.closeUeBox")}},{key:"__clear__REACT_HOT_LOADER__",value:function(){this.layer.ue.playSound&&delete this.layer.ue.playSound,$(document).trigger("h5ds.closeUeBox")}},{key:"__onChangeId__REACT_HOT_LOADER__",value:function(e){this.layer.ue.playSound=e.target.value}},{key:"render",value:function(){var e=this.layer.ue.playSound||"",t=o.default.Option;return v.default.createElement("div",{className:"setuebox"},v.default.createElement("a",{onClick:this.ok,className:"close-setue"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-jia"})," 确定"),v.default.createElement("a",{onClick:this.clear,className:"clear-setue"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-icodel"})," 清除"),v.default.createElement("div",{className:"setue-set-box"},v.default.createElement("div",{className:"uebox"},v.default.createElement("h3",{className:"setue-title"},"交互名称：播放音频"),v.default.createElement("div",{className:"uebox-links"},v.default.createElement("div",{className:"uebox-links-txt"},v.default.createElement(o.default,{style:{width:200},size:"small",value:e},v.default.createElement(t,{value:"jack"},"Jack"),v.default.createElement(t,{value:"jack"},"Jack"),v.default.createElement(t,{value:"jack"},"Jack"),v.default.createElement(t,{value:"jack"},"Jack"),v.default.createElement(t,{value:"jack"},"Jack")))),v.default.createElement("div",{className:"uebox-tips"},v.default.createElement("h5",null,"交互说明："),v.default.createElement("div",{className:"uebox-content"},"测试数据...")))))}}]),t}(g.Component))||i)||i;t.default=A;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(A,"PlaySound","D:/H5DS/h5ds-edit/src/core/interaction/playSound/PlaySound.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(221);var m=a(2),y=n(m),g=a(6),v=(r=(0,g.inject)(["app"]))(i=(0,g.observer)(i=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.changeText=function(){return a.__changeText__REACT_HOT_LOADER__.apply(a,arguments)},a.ok=function(){return a.__ok__REACT_HOT_LOADER__.apply(a,arguments)},a.clear=function(){return a.__clear__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=e.app.getLayer(),a.state={val:a.layer.ue.shake||""},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__changeText__REACT_HOT_LOADER__",value:function(e){this.setState({val:e.target.value})}},{key:"__ok__REACT_HOT_LOADER__",value:function(){$(document).trigger("h5ds.closeUeBox")}},{key:"__clear__REACT_HOT_LOADER__",value:function(){this.layer.ue.shake&&delete this.layer.ue.shake,$(document).trigger("h5ds.closeUeBox")}},{key:"render",value:function(){var e=this.state.val;return y.default.createElement("div",{className:"setuebox"},y.default.createElement("a",{onClick:this.ok,className:"close-setue"},y.default.createElement("i",{className:"h5ds-ico h5ds-ico-jia"})," 确定"),y.default.createElement("a",{onClick:this.clear,className:"clear-setue"},y.default.createElement("i",{className:"h5ds-ico h5ds-ico-icodel"})," 清除"),y.default.createElement("div",{className:"setue-set-box"},y.default.createElement("div",{className:"uebox"},y.default.createElement("h3",{className:"setue-title"},"交互名称：摇一摇"),y.default.createElement("div",{className:"uebox-links"},y.default.createElement("div",{className:"uebox-links-txt"},y.default.createElement("textarea",{placeholder:"测试",onChange:this.changeText,value:e}))),y.default.createElement("div",{className:"uebox-tips"},y.default.createElement("h5",null,"交互说明："),y.default.createElement("div",{className:"uebox-content"},"测试数据...")))))}}]),t}(m.Component))||i)||i;t.default=v;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(v,"ShakeSet","D:/H5DS/h5ds-edit/src/core/interaction/shake/ShakeSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(11),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(12),a(223);var g=a(2),v=n(g),E=a(6),A=a(7),T=(r=(0,E.inject)(["app"]))(i=(0,E.observer)(i=function(e){function t(e){(0,c.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return a.changeText=function(){return a.__changeText__REACT_HOT_LOADER__.apply(a,arguments)},a.ok=function(){return a.__ok__REACT_HOT_LOADER__.apply(a,arguments)},a.clear=function(){return a.__clear__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=e.app.getLayer(),a.state={val:a.layer.ue.tel||""},a}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__changeText__REACT_HOT_LOADER__",value:function(e){this.setState({val:e.target.value})}},{key:"__ok__REACT_HOT_LOADER__",value:function(){var e=this.state.val;A.util.isPhoneNum(e)?(this.layer.ue.tel=e,$(document).trigger("h5ds.closeUeBox")):o.default.error("电话格式不正确，格式示例：13866688800")}},{key:"__clear__REACT_HOT_LOADER__",value:function(){this.layer.ue.tel&&delete this.layer.ue.tel,$(document).trigger("h5ds.closeUeBox")}},{key:"render",value:function(){var e=this.state.val;return v.default.createElement("div",{className:"setuebox"},v.default.createElement("a",{onClick:this.ok,className:"close-setue"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-jia"})," 确定"),v.default.createElement("a",{onClick:this.clear,className:"clear-setue"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-icodel"})," 清除"),v.default.createElement("div",{className:"setue-set-box"},v.default.createElement("div",{className:"uebox uebox-tel"},v.default.createElement("h3",{className:"setue-title"},"交互名称：打电话"),v.default.createElement("div",{className:"uebox-tel-input"},v.default.createElement("input",{placeholder:"请输入电话号码",onChange:this.changeText,value:e}))),v.default.createElement("div",{className:"uebox-tips"},v.default.createElement("h5",null,"交互说明："),v.default.createElement("div",{className:"uebox-content"},"在输入框中输入电话号码即可"))))}}]),t}(g.Component))||i)||i;t.default=T;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(T,"MegSet","D:/H5DS/h5ds-edit/src/core/interaction/tel/TelSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(11),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(12),a(225);var g=a(2),v=n(g),E=a(6),A=a(7),T=(r=(0,E.inject)(["app"]))(i=(0,E.observer)(i=function(e){function t(e){(0,c.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));a.changeVal=function(){return a.__changeVal__REACT_HOT_LOADER__.apply(a,arguments)},a.ok=function(){return a.__ok__REACT_HOT_LOADER__.apply(a,arguments)},a.clear=function(){return a.__clear__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=e.app.getLayer();var n=a.layer.ue.toPage;return A.util.isEmpty(n)||(n=parseInt(n,10)),a.state={val:n},a}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__changeVal__REACT_HOT_LOADER__",value:function(e){this.layer.ue.toPage=e,this.setState({val:e})}},{key:"__ok__REACT_HOT_LOADER__",value:function(){var e=this.state.val;A.util.isEmpty(e)?o.default.error("url格式不正确，格式示例：http://www.h5ds.com"):(this.layer.ue.toPage=e,$(document).trigger("h5ds.closeUeBox"))}},{key:"__clear__REACT_HOT_LOADER__",value:function(){this.layer.ue.toPage&&delete this.layer.ue.toPage,$(document).trigger("h5ds.closeUeBox")}},{key:"render",value:function(){var e=this,t=this.props.app.data.pages,a=this.state.val;return v.default.createElement("div",{className:"setuebox"},v.default.createElement("a",{onClick:this.ok,className:"close-setue"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-jia"})," 确定"),v.default.createElement("a",{onClick:this.clear,className:"clear-setue"},v.default.createElement("i",{className:"h5ds-ico h5ds-ico-icodel"})," 清除"),v.default.createElement("div",{className:"setue-set-box"},v.default.createElement("div",{className:"uebox"},v.default.createElement("h3",{className:"setue-title"},"交互名称：跳转页面"),v.default.createElement("div",{className:"uebox-topages"},v.default.createElement("div",{className:"uebox-topages"},v.default.createElement("h4",null,"请选择您要跳转的页面："),v.default.createElement("ul",{id:"ueBoxToPage"},t.map(function(t,n){return v.default.createElement("li",{key:n,onClick:function(t){return e.changeVal(n)},title:t.name,className:parseInt(a,10)===n?"active":""},v.default.createElement("span",{className:"num"},n+1),v.default.createElement("span",{className:"name"},t.name))})))),v.default.createElement("div",{className:"uebox-tips"},v.default.createElement("h5",null,"交互说明："),v.default.createElement("div",{className:"uebox-content"},"选择一个要跳转的页面，点击会触发交互效果，跳转到指定的页面")))))}}]),t}(g.Component))||i)||i;t.default=T;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(T,"ToPage","D:/H5DS/h5ds-edit/src/core/interaction/toPage/ToPageSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(227);var m=a(2),y=n(m),g=a(6),v=(r=(0,g.inject)(["app"]))(i=(0,g.observer)(i=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.changeText=function(){return a.__changeText__REACT_HOT_LOADER__.apply(a,arguments)},a.ok=function(){return a.__ok__REACT_HOT_LOADER__.apply(a,arguments)},a.clear=function(){return a.__clear__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=e.app.getLayer(),a.state={val:a.layer.ue.shake||""},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__changeText__REACT_HOT_LOADER__",value:function(e){this.setState({val:e.target.value})}},{key:"__ok__REACT_HOT_LOADER__",value:function(){$(document).trigger("h5ds.closeUeBox")}},{key:"__clear__REACT_HOT_LOADER__",value:function(){this.layer.ue.shake&&delete this.layer.ue.shake,$(document).trigger("h5ds.closeUeBox")}},{key:"render",value:function(){var e=this.state.val;return y.default.createElement("div",{className:"setuebox"},y.default.createElement("a",{onClick:this.ok,className:"close-setue"},y.default.createElement("i",{className:"h5ds-ico h5ds-ico-jia"})," 确定"),y.default.createElement("a",{onClick:this.clear,className:"clear-setue"},y.default.createElement("i",{className:"h5ds-ico h5ds-ico-icodel"})," 清除"),y.default.createElement("div",{className:"setue-set-box"},y.default.createElement("div",{className:"uebox"},y.default.createElement("h3",{className:"setue-title"},"交互名称：指纹"),y.default.createElement("div",{className:"uebox-links"},y.default.createElement("div",{className:"uebox-links-txt"},y.default.createElement("textarea",{placeholder:"测试",onChange:this.changeText,value:e}))),y.default.createElement("div",{className:"uebox-tips"},y.default.createElement("h5",null,"交互说明："),y.default.createElement("div",{className:"uebox-content"},"测试数据...")))))}}]),t}(m.Component))||i)||i;t.default=v;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(v,"TouchSet","D:/H5DS/h5ds-edit/src/core/interaction/touch/TouchSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(11),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(12);var g=a(2),v=n(g),E=a(6),A=a(229),T=n(A),O=a(232),R=n(O),C=(r=(0,E.inject)("app","layerfun"))(i=(0,E.observer)(i=function(e){function t(){var e,a,n,r;(0,c.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,h.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(s))),n.doRender=function(){var e;return(e=n).__doRender__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,h.default)(n,r)}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__doRender__REACT_HOT_LOADER__",value:function(){var e=null,t=this.props.app.getLayer(),a=this.props.layerfun.layersSet[t.type];return a?e=a.editor||null:o.default.error("无"+t.type+"图层！"),e}},{key:"render",value:function(){var e=this.props.app.getLayer();if(!e)return null;var t=this.doRender();return v.default.createElement("div",{key:e.keyid},v.default.createElement(T.default,null),t?v.default.createElement(t,{app:this.props.app,layerfun:this.props.layerfun.layersSet,layer:e}):null,v.default.createElement(R.default,null))}}]),t}(g.Component))||i)||i;t.default=C;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(C,"StyleSet","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/StyleSet.jsx")}();e.exports=t.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(230),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/basicSet/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(16),o=n(s),l=a(40),u=n(l),d=a(20),c=n(d),_=a(19),f=n(_),p=a(3),h=n(p),m=a(0),y=n(m),g=a(1),v=n(g),E=a(4),A=n(E),T=a(5),O=n(T);a(17),a(42),a(231);var R=a(2),C=n(R),b=a(6),D=a(8),L=a(10),k=a(7),H=(r=(0,b.inject)("app","layerfun"))(i=(0,b.observer)(i=function(e){function t(e){(0,y.default)(this,t);var a=(0,A.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));a.setLayer=function(){return a.__setLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.onChange=function(){return a.__onChange__REACT_HOT_LOADER__.apply(a,arguments)},a.mouseWheelVal=function(){return a.__mouseWheelVal__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=e.app.getLayer();var n=a.layer.style,r=n.width,i=n.height,s=n.top,o=n.left;return a.state={width:r,height:i,top:s,left:o,id:a.layer.id,className:a.layer.className},a}return(0,O.default)(t,e),(0,v.default)(t,[{key:"__setLayer__REACT_HOT_LOADER__",value:function(){var e=this,t=this.state,a=t.id,n=t.className,r=(0,f.default)(t,["id","className"]),i=this.props.app.edata;(0,D.transaction)(function(){var t=e.layer.style;e.layer.id=a,e.layer.className=n,["width","height","top","left"].forEach(function(e){void 0===t[e]?(0,D.extendObservable)(t,(0,c.default)({},e,r[e])):t[e]=r[e]}),i.keys=k.util.randomID(),$(document).trigger("h5ds.setHistory")}),this.isInnerChange=!1}},{key:"__onChange__REACT_HOT_LOADER__",value:function(e,t){this.isInnerChange=!0,this.setState((0,c.default)({},t,e),this.setLayer)}},{key:"__mouseWheelVal__REACT_HOT_LOADER__",value:function(e,t){this.isInnerChange=!0,this.setState((0,c.default)({},e,this.state[e]+t),this.setLayer)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.layerfun.layersSet;$(document).on("h5ds.shortcuts_y",function(a,n){var r=e.layer,i=r.style,s=r.type,o=t[s]||{};o.editorSet&&!1===o.editorSet.y||e.onChange((i.top||0)+n,"top")}),$(document).on("h5ds.shortcuts_x",function(a,n){var r=e.layer,i=r.style,s=r.type,o=t[s]||{};o.editorSet&&!1===o.editorSet.x||e.onChange((i.left||0)+n,"left")}),$(document).on("mousewheel.h5ds.basicSet",".h5ds-scroll-BasicSet",function(t){t.preventDefault();var a=$(t.target).attr("data-key");e.mouseWheelVal(a,t.originalEvent.deltaY<0?-1:1)})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.shortcuts_y"),$(document).off("h5ds.shortcuts_x"),$(document).off("mousewheel.h5ds.basicSet")}},{key:"componentWillReact",value:function(){if(!this.isInnerChange){var e=this.layer.style,t=e.width,a=e.height,n=e.top,r=e.left,i=this.layer,s=i.id,o=i.className;this.setState({width:t,height:a,top:n,left:r,id:s,className:o})}}},{key:"render",value:function(){var e=this;if(!this.layer)return C.default.createElement("span",null,null);this.layer.id,this.layer.className,this.layer.style.top,this.layer.style.left,this.layer.style.width,this.layer.style.height;var t=this.props.layerfun.layersSet[this.layer.type]||{},a=t.editorSet||{},n=this.state,r=n.width,i=n.height,s=n.left,l=n.top,d=n.id,c=n.className;return C.default.createElement("div",{className:"h5ds-baiscset"},C.default.createElement("div",{className:"h5ds-layout-pb10"},C.default.createElement(L.SetGrid,{span:1},C.default.createElement(L.SetItem,{name:"ID:"},C.default.createElement(u.default,{size:"small",type:"text",onChange:function(t){return e.onChange(t.target.value,"id")},placeholder:"id名字",value:d})))),C.default.createElement("div",{className:"h5ds-layout-pb10"},C.default.createElement(L.SetGrid,{span:1},C.default.createElement(L.SetItem,{name:"class:"},C.default.createElement(u.default,{size:"small",type:"text",onChange:function(t){return e.onChange(t.target.value,"className")},placeholder:"class名字",value:c})))),C.default.createElement("div",{className:"h5ds-layout-pb10"},!1===a.x?null:C.default.createElement(L.SetGrid,{span:2},C.default.createElement(L.SetItem,{name:"x坐标:"},C.default.createElement(o.default,{className:"h5ds-scroll-BasicSet","data-key":"left",size:"small",min:-1/0,max:1/0,placeholder:"x坐标",value:s,onChange:function(t){return e.onChange(t,"left")}}))),!1===a.y?null:C.default.createElement(L.SetGrid,{span:2},C.default.createElement(L.SetItem,{name:"y坐标:"},C.default.createElement(o.default,{className:"h5ds-scroll-BasicSet","data-key":"top",size:"small",min:-1/0,max:1/0,placeholder:"y坐标",value:l,onChange:function(t){return e.onChange(t,"top")}})))),C.default.createElement("div",{className:"h5ds-layout-pb10"},!1===a.width?null:C.default.createElement(L.SetGrid,{span:2},C.default.createElement(L.SetItem,{name:"宽度:"},C.default.createElement(o.default,{className:"h5ds-scroll-BasicSet","data-key":"width",size:"small",min:0,max:1/0,placeholder:"宽",value:r,onChange:function(t){return e.onChange(t,"width")}}))),!1===a.height?null:C.default.createElement(L.SetGrid,{span:2},C.default.createElement(L.SetItem,{name:"高度:"},C.default.createElement(o.default,{className:"h5ds-scroll-BasicSet","data-key":"height",size:"small",min:0,max:1/0,placeholder:"高",value:i,onChange:function(t){return e.onChange(t,"height")}})))))}}]),t}(R.Component))||i)||i;t.default=H;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(H,"BasicSet","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/basicSet/BasicSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(233),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/moreSet/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(234);var m=a(2),y=n(m),g=a(6),v=a(235),E=n(v),A=a(236),T=n(A),O=a(237),R=n(O),C=a(238),b=n(C),D=a(239),L=n(D),k=a(240),H=n(k),x=a(241),S=n(x),w=(r=(0,g.inject)("app","layerfun"))(i=(0,g.observer)(i=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.layer=e.app.getLayer(),a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){if(!this.layer)return null;var e=this.props.layerfun.layersSet[this.layer.type]||{},t=e.editorSet||{};return y.default.createElement("div",{className:"h5ds-layout-moreset"},!1===t.rotate?null:y.default.createElement(R.default,null),!1===t.borderRadius?null:y.default.createElement(L.default,null),!1===t.opacity?null:y.default.createElement(b.default,null),!1===t.backgroundColor?null:y.default.createElement(H.default,null),!1===t.hide?null:y.default.createElement(S.default,null),!1===t.shadow?null:y.default.createElement(T.default,null),!1===t.border?null:y.default.createElement(E.default,null))}}]),t}(m.Component))||i)||i;t.default=w;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(w,"MoreSet","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/moreSet/MoreSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s,o,l,u=a(16),d=n(u),c=a(21),_=n(c),f=a(34),p=n(f),h=a(3),m=n(h),y=a(0),g=n(y),v=a(1),E=n(v),A=a(4),T=n(A),O=a(5),R=n(O);a(17),a(22),a(36);var C=a(2),b=n(C),D=a(7),L=a(8),k=a(6),H=a(24),x=n(H),S=a(10),w=(r=(0,k.inject)(["app"]))(i=(0,k.observer)((o=s=function(e){function t(e){(0,g.default)(this,t);var a=(0,T.default)(this,(t.__proto__||(0,m.default)(t)).call(this,e));l.call(a),a.layer=e.app.getLayer();var n=a.layer.estyle,r=D.csstool.getBorder(n.border),i=r.size,s=r.type,o=r.color;return a.state={bsize:i,btype:s,bcolor:o},a}return(0,R.default)(t,e),(0,E.default)(t,[{key:"__switchBorder__REACT_HOT_LOADER__",value:function(e){e?this.setState({bsize:2,btype:"solid",bcolor:"rgba(0,0,0,1)"},this.setLayer):this.setState({bsize:0,btype:"solid",bcolor:"rgba(0,0,0,1)"},this.setLayer)}},{key:"__changeBorderType__REACT_HOT_LOADER__",value:function(e){this.setState({btype:e},this.setLayer)}},{key:"__changeBorderSize__REACT_HOT_LOADER__",value:function(e){this.setState({bsize:e},this.setLayer)}},{key:"__setBorderColor__REACT_HOT_LOADER__",value:function(e){var t=e.rgb,a=t.r,n=t.g,r=t.b,i=t.a,s=void 0===i?1:i;this.setState({bcolor:"rgba("+a+","+n+","+r+","+s+")"},this.setLayer)}},{key:"componentDidMount",value:function(){var e=this;$(".h5ds-scroll-SetBorder").on("mousewheel.h5ds.SetBorder",function(t){t.preventDefault();var a=t.originalEvent.deltaY<0?-1:1;a=e.state.bsize+a,a<0&&(a=0),e.setState({bsize:a},e.setLayer)})}},{key:"componentWillUnmount",value:function(){$(".h5ds-scroll-SetBorder").off("mousewheel.h5ds.SetBorder")}},{key:"render",value:function(){var e=p.default.Option,t=this.state,a=t.bsize,n=t.btype,r=t.bcolor;return b.default.createElement("div",null,b.default.createElement(S.SetGrid,{span:1},b.default.createElement(S.SetItem,{name:"开启边框:"},b.default.createElement(_.default,{onChange:this.switchBorder,checked:!!a}))),a?b.default.createElement("div",null,b.default.createElement(S.SetGrid,{span:1},b.default.createElement(S.SetItem,{name:"边框类型:"},b.default.createElement(p.default,{size:"small",onChange:this.changeBorderType,value:n||"",style:{width:100},placeholder:"下拉选择"},b.default.createElement(e,{value:"solid"},"实线"),b.default.createElement(e,{value:"double"},"双线"),b.default.createElement(e,{value:"dashed"},"虚线"),b.default.createElement(e,{value:"dotted"},"点线")))),b.default.createElement(S.SetGrid,{span:2},b.default.createElement(S.SetItem,{name:"边框大小:"},b.default.createElement(d.default,{className:"h5ds-scroll-SetBorder",size:"small",min:1,max:1e4,value:a,onChange:this.changeBorderSize}))),b.default.createElement(S.SetGrid,{span:2},b.default.createElement(S.SetItem,{name:"边框颜色:"},b.default.createElement(x.default,{onChange:this.setBorderColor,color:r})))):null)}}]),t}(C.Component),l=function(){var e=this;this.setLayer=D.util.debounce(function(){var t=e.state,a=t.bsize,n=void 0===a?2:a,r=t.btype,i=void 0===r?"solid":r,s=t.bcolor,o=void 0===s?"rgba(0,0,0,1)":s,l=e.layer.estyle,u=e.props.app.edata;(0,L.transaction)(function(){D.util.isEmpty(l.border)?(0,L.extendObservable)(l,{border:n+"px "+i+" "+o}):l.border=D.csstool.setBorder(l.border,{size:n,type:i,color:o}),u.keys=D.util.randomID(),$(document).trigger("h5ds.setHistory")})},300),this.switchBorder=function(){return e.__switchBorder__REACT_HOT_LOADER__.apply(e,arguments)},this.changeBorderType=function(){return e.__changeBorderType__REACT_HOT_LOADER__.apply(e,arguments)},this.changeBorderSize=function(){return e.__changeBorderSize__REACT_HOT_LOADER__.apply(e,arguments)},this.setBorderColor=function(){return e.__setBorderColor__REACT_HOT_LOADER__.apply(e,arguments)}},i=o))||i)||i;t.default=w;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(w,"SetBorder","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/moreSet/SetBorder.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s,o,l,u=a(21),d=n(u),c=a(3),_=n(c),f=a(0),p=n(f),h=a(1),m=n(h),y=a(4),g=n(y),v=a(5),E=n(v);a(22);var A=a(2),T=n(A),O=a(7),R=a(8),C=a(6),b=a(24),D=n(b),L=a(23),k=n(L),H=a(10),x=(r=(0,C.inject)(["app"]))(i=(0,C.observer)((o=s=function(e){function t(e){(0,p.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,_.default)(t)).call(this,e));l.call(a),a.layer=e.app.getLayer();var n=a.layer.estyle,r=O.csstool.getBoxshadow(n.boxShadow),i=r.size,s=r.color;return a.state={bsize:i,bcolor:s},a}return(0,E.default)(t,e),(0,m.default)(t,[{key:"__sliderChange__REACT_HOT_LOADER__",value:function(e){this.setState({bsize:e},this.setLayer)}},{key:"__switchDo__REACT_HOT_LOADER__",value:function(e){e?this.setState({bsize:2,bcolor:"rgba(0,0,0,1)"},this.setLayer):this.setState({bsize:null},this.setLayer)}},{key:"__setColor__REACT_HOT_LOADER__",value:function(e){var t=e.rgb,a=t.r,n=t.g,r=t.b,i=t.a,s=void 0===i?1:i;this.setState({bcolor:"rgba("+a+","+n+","+r+","+s+")"},this.setLayer)}},{key:"componentDidMount",value:function(){var e=this;$(".h5ds-scroll-SetBoxShadow").on("mousewheel.h5ds.SetBoxShadow",function(t){t.preventDefault();var a=t.originalEvent.deltaY<0?-1:1;a=e.state.bsize+a,a<0?a=0:a>100&&(a=100),e.setState({bsize:a},e.setLayer)})}},{key:"componentWillUnmount",value:function(){$(".h5ds-scroll-SetBoxShadow").off("mousewheel.h5ds.SetBoxShadow")}},{key:"render",value:function(){var e=this.state,t=e.bsize,a=e.bcolor;return T.default.createElement("div",null,T.default.createElement(H.SetGrid,null,T.default.createElement(H.SetItem,{name:"开启阴影:"},T.default.createElement(d.default,{onChange:this.switchDo,checked:null!==t}))),null!==t?T.default.createElement(H.SetGrid,null,T.default.createElement(k.default,{mouseWheelClassName:"h5ds-scroll-SetBoxShadow",name:"阴影设置",onChange:this.sliderChange,value:t,min:0,max:100}),T.default.createElement(H.SetItem,{name:"阴影颜色:"},T.default.createElement(D.default,{onChange:this.setColor,color:a}))):null)}}]),t}(A.Component),l=function(){var e=this;this.setLayer=O.util.debounce(function(){var t=e.state,a=t.bsize,n=t.bcolor,r=void 0===n?"rgba(0,0,0,1)":n,i=e.layer.estyle,s=e.props.app.edata;(0,R.transaction)(function(){O.util.isEmpty(i.boxShadow)?(0,R.extendObservable)(i,{boxShadow:"0 0 "+a+"px "+r}):i.boxShadow=O.csstool.setBoxshadow(i.border,{size:a,color:r}),null===a&&(i.boxShadow="none"),s.keys=O.util.randomID(),$(document).trigger("h5ds.setHistory")})},100),this.sliderChange=function(){return e.__sliderChange__REACT_HOT_LOADER__.apply(e,arguments)},this.switchDo=function(){return e.__switchDo__REACT_HOT_LOADER__.apply(e,arguments)},this.setColor=function(){return e.__setColor__REACT_HOT_LOADER__.apply(e,arguments)}},i=o))||i)||i;t.default=x;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(x,"SetBoxShadow","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/moreSet/SetBoxShadow.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s,o,l,u=a(3),d=n(u),c=a(0),_=n(c),f=a(1),p=n(f),h=a(4),m=n(h),y=a(5),g=n(y),v=a(2),E=n(v),A=a(8),T=a(6),O=a(23),R=n(O),C=a(7),b=a(10),D=(r=(0,T.inject)("app"))(i=(0,T.observer)((o=s=function(e){function t(e){(0,_.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));l.call(a),a.layer=e.app.getLayer();var n=C.csstool.getTransform(a.layer.style.transform);return a.state={rotate:n.rotate},a}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentWillReact",value:function(){if(!this.isInnerChange){var e=C.csstool.getTransform(this.layer.style.transform);this.setState({rotate:e.rotate})}}},{key:"__sliderChange__REACT_HOT_LOADER__",value:function(e){this.isInnerChange=!0,this.setState({rotate:e},this.setLayer)}},{key:"componentDidMount",value:function(){var e=this;$(".h5ds-scroll-SetRotate").on("mousewheel.h5ds.SetRotate",function(t){t.preventDefault(),e.isInnerChange=!0;var a=t.originalEvent.deltaY<0?-1:1;a=e.state.rotate+a,a<0?a=0:a>360&&(a=360),e.setState({rotate:a},e.setLayer)})}},{key:"componentWillUnmount",value:function(){$(".h5ds-scroll-SetRotate").off("mousewheel.h5ds.SetRotate")}},{key:"render",value:function(){var e=this.state.rotate;return this.layer.style.transform,E.default.createElement(b.SetGrid,{span:1},E.default.createElement(R.default,{mouseWheelClassName:"h5ds-scroll-SetRotate",name:"旋转角度:",onChange:this.sliderChange,value:e,min:0,max:360}))}}]),t}(v.Component),l=function(){var e=this;this.setLayer=C.util.debounce(function(){var t=e.state.rotate,a=e.layer.style,n=C.csstool.setTransform(a.transform,{rotate:t});(0,A.transaction)(function(){void 0===a.transform?(0,A.extendObservable)(a,{transform:n}):a.transform=n,e.props.app.edata.keys=C.util.randomID(),$(document).trigger("h5ds.setHistory")}),e.isInnerChange=!1},100),this.sliderChange=function(){return e.__sliderChange__REACT_HOT_LOADER__.apply(e,arguments)}},i=o))||i)||i;t.default=D;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(D,"SetRotate","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/moreSet/SetRotate.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s,o,l,u=a(3),d=n(u),c=a(0),_=n(c),f=a(1),p=n(f),h=a(4),m=n(h),y=a(5),g=n(y),v=a(2),E=n(v),A=a(8),T=a(6),O=a(23),R=n(O),C=a(7),b=a(10),D=(r=(0,T.inject)("app"))(i=(0,T.observer)((o=s=function(e){function t(e){(0,_.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));l.call(a),a.layer=e.app.getLayer();var n=a.layer.style.opacity||1;return a.state={opacity:n},a}return(0,g.default)(t,e),(0,p.default)(t,[{key:"__sliderChange__REACT_HOT_LOADER__",value:function(e){this.setState({opacity:e},this.setLayer)}},{key:"componentDidMount",value:function(){var e=this;$(".h5ds-scroll-SetOpacity").on("mousewheel.h5ds.SetOpacity",function(t){t.preventDefault();var a=t.originalEvent.deltaY<0?-.1:.1;a=e.state.opacity+a,a<0?a=0:a>1&&(a=1),e.setState({opacity:a},e.setLayer)})}},{key:"componentWillUnmount",value:function(){$(".h5ds-scroll-SetOpacity").off("mousewheel.h5ds.SetOpacity")}},{key:"render",value:function(){var e=this.state.opacity;return this.layer.style.opacity,E.default.createElement(b.SetGrid,{span:1},E.default.createElement(R.default,{mouseWheelClassName:"h5ds-scroll-SetOpacity",name:"透明度:",onChange:this.sliderChange,value:e,step:.1,min:0,max:1}))}}]),t}(v.Component),l=function(){var e=this;this.setLayer=C.util.debounce(function(){var t=e.state.opacity,a=e.layer.style;(0,A.transaction)(function(){void 0===a.opacity?(0,A.extendObservable)(a,{opacity:t}):a.opacity=t,e.props.app.edata.keys=C.util.randomID(),$(document).trigger("h5ds.setHistory")})},100),this.sliderChange=function(){return e.__sliderChange__REACT_HOT_LOADER__.apply(e,arguments)}},i=o))||i)||i;t.default=D;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(D,"SetOpacity","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/moreSet/SetOpacity.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s,o,l,u=a(3),d=n(u),c=a(0),_=n(c),f=a(1),p=n(f),h=a(4),m=n(h),y=a(5),g=n(y),v=a(2),E=n(v),A=a(8),T=a(6),O=a(23),R=n(O),C=a(7),b=a(10),D=(r=(0,T.inject)("app"))(i=(0,T.observer)((o=s=function(e){function t(e){(0,_.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));l.call(a),a.layer=e.app.getLayer();var n=a.layer.estyle.borderRadius||0;return a.state={borderRadius:n},a}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentWillReact",value:function(){if(!this.isInnerChange){var e=this.layer.estyle.borderRadius;this.setState({borderRadius:e})}}},{key:"__sliderChange__REACT_HOT_LOADER__",value:function(e){this.isInnerChange=!0,this.setState({borderRadius:e},this.setLayer)}},{key:"componentDidMount",value:function(){var e=this;$(".h5ds-scroll-SetBorderRadius").on("mousewheel.h5ds.SetBorderRadius",function(t){t.preventDefault(),e.isInnerChange=!0;var a=t.originalEvent.deltaY<0?-1:1;a=e.state.borderRadius+a,a<0&&(a=0),e.setState({borderRadius:a},e.setLayer)})}},{key:"componentWillUnmount",value:function(){$(".h5ds-scroll-SetBorderRadius").off("mousewheel.h5ds.SetBorderRadius")}},{key:"render",value:function(){var e=this.state.borderRadius;return this.layer.estyle.borderRadius,E.default.createElement(b.SetGrid,{span:1},E.default.createElement(R.default,{mouseWheelClassName:"h5ds-scroll-SetBorderRadius",name:"设置圆角:",onChange:this.sliderChange,value:e,min:0,max:1e3}))}}]),t}(v.Component),l=function(){var e=this;this.setLayer=C.util.debounce(function(){var t=e.state.borderRadius,a=e.layer.estyle;(0,A.transaction)(function(){void 0===a.borderRadius?(0,A.extendObservable)(a,{borderRadius:t}):a.borderRadius=t,e.props.app.edata.keys=C.util.randomID(),$(document).trigger("h5ds.setHistory")}),e.isInnerChange=!1},100),this.sliderChange=function(){return e.__sliderChange__REACT_HOT_LOADER__.apply(e,arguments)}},i=o))||i)||i;t.default=D;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(D,"SetBorderRadius","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/moreSet/SetBorderRadius.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s,o,l,u=a(3),d=n(u),c=a(0),_=n(c),f=a(1),p=n(f),h=a(4),m=n(h),y=a(5),g=n(y),v=a(2),E=n(v),A=a(8),T=a(6),O=a(10),R=a(64),C=a(7),b=(r=(0,T.inject)("app"))(i=(0,T.observer)((o=s=function(e){function t(e){(0,_.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));l.call(a),a.layer=e.app.getLayer();var n=a.layer.estyle.backgroundColor||"rgba(0,0,0,1)";return a.state={backgroundColor:n},a}return(0,g.default)(t,e),(0,p.default)(t,[{key:"__changeColor__REACT_HOT_LOADER__",value:function(e){var t=e.rgb,a=t.r,n=t.g,r=t.b,i=t.a;this.setState({backgroundColor:"rgba("+a+","+n+","+r+","+i+")"},this.setLayer)}},{key:"render",value:function(){var e=this.state.backgroundColor;return this.layer.estyle.backgroundColor,E.default.createElement(O.SetGrid,{span:1},E.default.createElement(R.SetBgColor,{color:e,onChange:this.changeColor}))}}]),t}(v.Component),l=function(){var e=this;this.setLayer=C.util.debounce(function(){var t=e.state.backgroundColor,a=e.layer.estyle;(0,A.transaction)(function(){void 0===a.backgroundColor?(0,A.extendObservable)(a,{backgroundColor:t}):a.backgroundColor=t,e.props.app.edata.keys=C.util.randomID(),$(document).trigger("h5ds.setHistory")})},200),this.changeColor=function(){return e.__changeColor__REACT_HOT_LOADER__.apply(e,arguments)}},i=o))||i)||i;t.default=b;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(b,"SetLayerBackgroundColor","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/moreSet/SetLayerBackgroundColor.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(21),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(22);var g=a(2),v=n(g),E=a(8),A=a(6),T=a(10),O=a(7),R=(r=(0,A.inject)("app"))(i=(0,A.observer)(i=function(e){function t(e){(0,c.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));a.setLayer=function(){return a.__setLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.changeColor=function(){return a.__changeColor__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=e.app.getLayer();var n=a.layer.style.display||"block";return a.state={hide:"none"===n},a}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__setLayer__REACT_HOT_LOADER__",value:function(){var e=this,t=this.state.hide,a=this.layer.style,n="block";t&&(n="none"),(0,E.transaction)(function(){void 0===a.display?(0,E.extendObservable)(a,{display:n}):a.display=n,e.props.app.edata.keys=O.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__changeColor__REACT_HOT_LOADER__",value:function(e){this.setState({hide:e},this.setLayer)}},{key:"render",value:function(){var e=this.state.hide;return this.layer.style.display,v.default.createElement(T.SetGrid,{span:1},v.default.createElement(T.SetItem,{name:"隐藏元素:"},v.default.createElement(o.default,{onChange:this.changeColor,checked:e})))}}]),t}(g.Component))||i)||i;t.default=R;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(R,"SetLayerHide","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/moreSet/SetLayerHide.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(61),o=n(s),l=a(34),u=n(l),d=a(16),c=n(d),_=a(25),f=n(_),p=a(3),h=n(p),m=a(0),y=n(m),g=a(1),v=n(g),E=a(4),A=n(E),T=a(5),O=n(T);a(62),a(36),a(17),a(26),a(243);var R=a(2),C=n(R),b=a(6),D=a(7),L=a(8),k=a(10),H=(r=(0,b.inject)(["app"]))(i=(0,b.observer)(i=function(e){function t(e){(0,y.default)(this,t);var a=(0,A.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));a.resetDelay=function(){return a.__resetDelay__REACT_HOT_LOADER__.apply(a,arguments)},a.setActive=function(){return a.__setActive__REACT_HOT_LOADER__.apply(a,arguments)},a.animateType=function(){return a.__animateType__REACT_HOT_LOADER__.apply(a,arguments)},a.setLayer=function(){return a.__setLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.delAnimate=function(){return a.__delAnimate__REACT_HOT_LOADER__.apply(a,arguments)},a.addAnimate=function(){return a.__addAnimate__REACT_HOT_LOADER__.apply(a,arguments)},a.onChange=function(){return a.__onChange__REACT_HOT_LOADER__.apply(a,arguments)},a.layer=a.props.app.getLayer();var n=(0,L.toJS)(a.layer.animate);return a.state={animate:n,active:null},a.keys=D.util.randomID(),a}return(0,O.default)(t,e),(0,v.default)(t,[{key:"__resetDelay__REACT_HOT_LOADER__",value:function(e){var t=null;return e.forEach(function(e,a){if(0!==a){var n=t,r=n.duration,i=void 0===r?0:r,s=n.delay,o=void 0===s?0:s,l=n.count,u=void 0===l?0:l,d=D.csstool.getAnimation(e.style).delay;o=i*u+o,d>=o&&(o=d),e.style=D.csstool.setAnimation(e.style,{delay:o})}t=D.csstool.getAnimation(e.style)}),e}},{key:"__setActive__REACT_HOT_LOADER__",value:function(e){$(document).trigger("h5ds.animateList.hideshow",!0),this.setState({active:e})}},{key:"__animateType__REACT_HOT_LOADER__",value:function(e){switch(e){case"in":e="进入";break;case"out":e="离开";break;default:e="强调"}return e}},{key:"__setLayer__REACT_HOT_LOADER__",value:function(){var e=this,t=this.state.animate;(0,L.transaction)(function(){t[0]&&"in"===t[0].type?e.layer.estyle.opacity=0:e.layer.estyle.opacity=1,e.layer.animate=(0,L.toJS)(t),$(document).trigger("h5ds.setHistory")})}},{key:"__delAnimate__REACT_HOT_LOADER__",value:function(e,t){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var a=this.state.animate;a.splice(t,1),this.resetDelay(a),this.setState({animate:a,active:null},this.setLayer),$(document).trigger("h5ds.animateList.hideshow",!1)}},{key:"__addAnimate__REACT_HOT_LOADER__",value:function(){var e=this,t={animate:"fadeIn",name:"渐变进入",type:"in",time:1,delay:0,count:1,fun:"ease"},a=this.state.animate;a.push({name:t.name,type:t.type,style:t.animate+" "+t.time+"s "+t.fun+" "+t.delay+"s "+t.count+" normal forwards running"}),this.resetDelay(a),this.setState({animate:a},function(){e.setActive(a.length-1)},this.setLayer)}},{key:"__onChange__REACT_HOT_LOADER__",value:function(e,t,a){var n=this.state,r=n.animate,i=n.active,s=r[i];if(s){var o=D.csstool.getAnimation(s.style),l=o.name,u=o.duration,d=o.delay,c=o.timing,_=o.count;switch(t){case"duration":a?u+=e:u=e,u<0&&(u=0);break;case"delay":a?d+=e:d=e,d<0&&(d=0);break;case"count":a?_+=e:_=e,_<1&&(_=1);break;case"timing":a?c+=e:c=e,c<0&&(c=0)}u=D.util.toFixed(u,1),s.style=l+" "+u+"s "+c+" "+D.util.toFixed(d,1)+"s "+_+" normal forwards running",this.resetDelay(r),this.setState({animate:r},this.setLayer)}}},{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.animateList.add",function(t,a){var n=e.state,r=n.animate,i=n.active,s=r[i];if(s){var o=D.csstool.getAnimation(s.style),l=o.duration,u=o.delay,d=o.timing,c=o.count;s.name=a.name,s.type=a.type,s.style=a.animate+" "+(l||a.time)+"s "+(a.fun||d)+" "+(u||a.delay)+"s "+(c||a.count)+" normal forwards running",e.resetDelay(r),e.setState({animate:r},e.setLayer)}}),$("#h5dsUniqAnimateSetList").on("uniqend",function(t,a){if(a){e.keys=D.util.randomID();var n=e.state.animate;D.util.exchageArrayElem(n,a.to,a.from),e.resetDelay(n),e.setState({active:null,animate:n},e.setLayer)}}),$(document).on("mousewheel.h5ds.AnimateSet",".h5ds-scroll-AnimateSet",function(t){t.preventDefault();var a=$(t.target).attr("data-key"),n=null;n="count"===a?t.originalEvent.deltaY<0?-1:1:t.originalEvent.deltaY<0?-.1:.1,e.onChange(n,a,!0)})}},{key:"componentWillUnmount",value:function(){$(document).trigger("h5ds.animateList.hideshow",!1),$(document).off("h5ds.animateList.add"),$("#h5dsUniqAnimateSetList").off("uniqend"),$(document).off("mousewheel.h5ds.AnimateSet")}},{key:"render",value:function(){var e=this;if(!this.layer)return null;var t=this.state,a=t.active,n=t.animate;return this.layer.animate,C.default.createElement("div",{className:"h5ds-basic-animateset"},C.default.createElement("div",{className:"h5ds-basic-animateset-list"},C.default.createElement("ul",{className:"h5ds-uniqlist",id:"h5dsUniqAnimateSetList"},n.map(function(t,n){var r=["h5ds-basic-animateset-item"];a===n&&r.push("h5ds-basic-animateset-active");var i=t.name,s=t.type,o=t.style,l=D.csstool.getAnimation(o),d=l.duration,_=l.timing,p=l.delay,h=l.count;return C.default.createElement("li",{onClick:function(){return e.setActive(n)},className:r.join(" "),key:n+e.keys},C.default.createElement("a",{onClick:function(t){return e.delAnimate(t,n)},className:"h5ds-basic-animateset-btndel"},C.default.createElement(f.default,{type:"close",theme:"outlined"})),C.default.createElement(k.SetGrid,{span:2},C.default.createElement(k.SetItem,{name:"动画名称:"},i||"-")),C.default.createElement(k.SetGrid,{span:2},C.default.createElement(k.SetItem,{name:"动画类型:"},e.animateType(s)||"-")),C.default.createElement(k.SetGrid,{span:2},C.default.createElement(k.SetItem,{name:"持续时间:"},C.default.createElement(c.default,{className:"h5ds-scroll-AnimateSet","data-key":"duration",size:"small",step:.1,min:0,max:1/0,value:D.util.isEmpty(d)?0:d,onChange:function(t){return e.onChange(t,"duration")}}))),C.default.createElement(k.SetGrid,{span:2},C.default.createElement(k.SetItem,{name:"延迟时间:"},C.default.createElement(c.default,{className:"h5ds-scroll-AnimateSet","data-key":"delay",size:"small",step:.1,min:0,max:1/0,value:D.util.isEmpty(p)?0:p,onChange:function(t){return e.onChange(t,"delay")}}))),C.default.createElement(k.SetGrid,{span:2},C.default.createElement(k.SetItem,{name:"重复次数:"},C.default.createElement(c.default,{className:"h5ds-scroll-AnimateSet","data-key":"count",size:"small",step:1,min:1,max:1/0,value:D.util.isEmpty(h)?1:h,onChange:function(t){return e.onChange(t,"count")}}))),C.default.createElement(k.SetGrid,{span:2},C.default.createElement(k.SetItem,{name:"缓动函数:"},C.default.createElement(u.default,{size:"small",onChange:function(t){return e.onChange(t,"timing")},value:_,style:{width:78},placeholder:"缓动函数"},C.default.createElement(u.default.Option,{value:"ease"},"默认"),C.default.createElement(u.default.Option,{value:"linear"},"匀速"),C.default.createElement(u.default.Option,{value:"ease-in"},"加速"),C.default.createElement(u.default.Option,{value:"ease-out"},"减速"),C.default.createElement(u.default.Option,{value:"ease-in-out"},"起始慢")))))})),C.default.createElement(o.default,{className:"h5ds-basic-animateset-addbtn",onClick:this.addAnimate,type:"primary",icon:"plus"},"添加动画")))}}]),t}(R.Component))||i)||i;t.default=H;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(H,"Animate","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/animateSet/AnimateSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(245),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/setting/layerSetGroup/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(16),o=n(s),l=a(27),u=n(l),d=a(15),c=n(d),_=a(3),f=n(_),p=a(0),h=n(p),m=a(1),y=n(m),g=a(4),v=n(g),E=a(5),A=n(E);a(17),a(28),a(246);var T=a(2),O=n(T),R=a(6),C=a(29),b=a(7),D=a(8),L=a(10),k=(r=(0,R.inject)(["app"]))(i=(0,R.observer)(i=function(e){function t(){var e,a,n,r;(0,h.default)(this,t);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=n=(0,v.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(s))),n.getSortGroups=function(){var e;return(e=n).__getSortGroups__REACT_HOT_LOADER__.apply(e,arguments)},n.alignLeft=function(){var e;return(e=n).__alignLeft__REACT_HOT_LOADER__.apply(e,arguments)},n.alignRight=function(){var e;return(e=n).__alignRight__REACT_HOT_LOADER__.apply(e,arguments)},n.alignTop=function(){var e;return(e=n).__alignTop__REACT_HOT_LOADER__.apply(e,arguments)},n.alignDown=function(){var e;return(e=n).__alignDown__REACT_HOT_LOADER__.apply(e,arguments)},n.horizontalCenter=function(){var e;return(e=n).__horizontalCenter__REACT_HOT_LOADER__.apply(e,arguments)},n.verticalCenter=function(){var e;return(e=n).__verticalCenter__REACT_HOT_LOADER__.apply(e,arguments)},n.verticalSplit=function(){var e;return(e=n).__verticalSplit__REACT_HOT_LOADER__.apply(e,arguments)},n.horizontalSplit=function(){var e;return(e=n).__horizontalSplit__REACT_HOT_LOADER__.apply(e,arguments)},n.randomDistrib=function(){var e;return(e=n).__randomDistrib__REACT_HOT_LOADER__.apply(e,arguments)},n.randomSize=function(){var e;return(e=n).__randomSize__REACT_HOT_LOADER__.apply(e,arguments)},n.onChangeDelayTime=b.util.debounce(function(e){var t=n.getSortGroups();(0,D.transaction)(function(){var a=null;t.forEach(function(t){var n=t.layer.animate;if(n[0])if(null===a)a=b.csstool.getAnimation(n[0].style).delay;else{a+=e;var r=n[0];r.style=b.csstool.setAnimation(r.style,{delay:a})}}),n.props.app.edata.keys=b.util.randomID()})},200),r=a,(0,v.default)(n,r)}return(0,A.default)(t,e),(0,y.default)(t,[{key:"__getSortGroups__REACT_HOT_LOADER__",value:function(e){var t=this.props.app.getGroups,a=t(),n=[].concat((0,c.default)(a));return n.forEach(function(e){e.box=C.rectMath.rectParamObj(e.layer)}),e&&n.sort(e),n}},{key:"__alignLeft__REACT_HOT_LOADER__",value:function(){var e=this,t=this.getSortGroups(function(e,t){return e.box.left-t.box.left}),a=0;(0,D.transaction)(function(){t.forEach(function(e,t){0===t?a=e.box.left:e.layer.style.left=a+e.box.boxWidth/2-e.box.width/2}),e.props.app.edata.keys=b.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__alignRight__REACT_HOT_LOADER__",value:function(){var e=this,t=this.getSortGroups(function(e,t){return t.box.left+t.box.boxWidth-(e.box.left+e.box.boxWidth)}),a=0;(0,D.transaction)(function(){t.forEach(function(e,t){0===t?a=e.box.left+e.box.boxWidth:e.layer.style.left=a-e.box.boxWidth/2-e.box.width/2}),e.props.app.edata.keys=b.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__alignTop__REACT_HOT_LOADER__",value:function(){var e=this,t=this.getSortGroups(function(e,t){return e.box.top-t.box.top}),a=0;(0,D.transaction)(function(){t.forEach(function(e,t){0===t?a=e.box.top:e.layer.style.top=a+e.box.boxHeight/2-e.box.height/2}),e.props.app.edata.keys=b.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__alignDown__REACT_HOT_LOADER__",value:function(){var e=this,t=this.getSortGroups(function(e,t){return t.box.top+t.box.boxHeight-(e.box.top+e.box.boxHeight)}),a=0;(0,D.transaction)(function(){t.forEach(function(e,t){0===t?a=e.box.top+e.box.boxHeight:e.layer.style.top=a-e.box.boxHeight/2-e.box.height/2}),e.props.app.edata.keys=b.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__horizontalCenter__REACT_HOT_LOADER__",value:function(){var e=this,t=this.getSortGroups(function(e,t){return e.box.left-t.box.left});(0,D.transaction)(function(){var a=0;t.forEach(function(e,t){var n=e.layer.style,r=n.top,i=n.height;0===t?a=r+i/2:e.layer.style.top=a-i/2}),e.props.app.edata.keys=b.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__verticalCenter__REACT_HOT_LOADER__",value:function(){var e=this,t=this.getSortGroups(function(e,t){return e.layer.style.top-t.layer.style.top});(0,D.transaction)(function(){var a=0;t.forEach(function(e,t){var n=e.layer.style,r=n.left,i=n.width;0===t?a=r+i/2:e.layer.style.left=a-i/2}),e.props.app.edata.keys=b.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__verticalSplit__REACT_HOT_LOADER__",value:function(){var e=this,t=this.getSortGroups(function(e,t){return e.layer.style.top-t.layer.style.top}),a=t[t.length-1],n=a.layer.style.top+a.layer.style.height-t[0].layer.style.top,r=0;t.forEach(function(e){r+=e.layer.style.height});var i=(n-r)/(t.length-1);(0,D.transaction)(function(){t.forEach(function(e,a){if(0!==a){var n=t[a-1];e.layer.style.top=n.layer.style.top+n.layer.style.height+i}}),e.props.app.edata.keys=b.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__horizontalSplit__REACT_HOT_LOADER__",value:function(){var e=this,t=this.getSortGroups(function(e,t){return e.layer.style.left-t.layer.style.left}),a=t[t.length-1],n=a.layer.style.left+a.layer.style.width-t[0].layer.style.left,r=0;t.forEach(function(e){r+=e.layer.style.width});var i=(n-r)/(t.length-1);(0,D.transaction)(function(){t.forEach(function(e,a){if(0!==a){var n=t[a-1];e.layer.style.left=n.layer.style.left+n.layer.style.width+i}}),e.props.app.edata.keys=b.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__randomDistrib__REACT_HOT_LOADER__",value:function(){var e=this,t=this.getSortGroups(),a=this.props.app.getPage,n=a();(0,D.transaction)(function(){t.forEach(function(e){e.layer.style.left=b.util.randomNumber(-20,340-e.layer.style.width),e.layer.style.top=b.util.randomNumber(-20,20+n.style.height-e.layer.style.height)}),e.props.app.edata.keys=b.util.randomID()})}},{key:"__randomSize__REACT_HOT_LOADER__",value:function(){var e=this,t=this.getSortGroups();(0,D.transaction)(function(){t.forEach(function(e){var t=e.layer.style.height,a=e.layer.style.width;e.layer.style.height=b.util.randomNumber(10,40),e.layer.style.width=e.layer.style.height*(a/t)}),e.props.app.edata.keys=b.util.randomID()})}},{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.shortcuts_y",function(t,a){var n=e.getSortGroups();(0,D.transaction)(function(){n.forEach(function(e){e.layer.style.top+=a}),$(document).trigger("h5ds.setHistory")})}),$(document).on("h5ds.shortcuts_x",function(t,a){var n=e.getSortGroups();(0,D.transaction)(function(){n.forEach(function(e){e.layer.style.left+=a}),$(document).trigger("h5ds.setHistory")})})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.shortcuts_y"),$(document).off("h5ds.shortcuts_x")}},{key:"render",value:function(){var e=u.default.TabPane;return O.default.createElement("div",{className:"h5ds-layerset-tabsbox h5ds-setlayer-group"},O.default.createElement(u.default,{defaultActiveKey:"1",className:"h5ds-tab-style2"},O.default.createElement(e,{key:"1",tab:"组合设置"},O.default.createElement("div",{className:"h5ds-setlayer-group-box"},O.default.createElement("ul",null,O.default.createElement("li",{className:"h5ds-item",onClick:this.alignLeft},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-duiqi"})," ",O.default.createElement("span",null,"左对齐")),O.default.createElement("li",{className:"h5ds-item",onClick:this.alignRight},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-duiqi_youduiqi"})," ",O.default.createElement("span",null,"右对齐")),O.default.createElement("li",{className:"h5ds-item",onClick:this.alignTop},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-duiqi_xiangxia"})," ",O.default.createElement("span",null,"上对齐")),O.default.createElement("li",{className:"h5ds-item",onClick:this.alignDown},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-duiqi_xiangshang"})," ",O.default.createElement("span",null,"下对齐")),O.default.createElement("li",{className:"h5ds-item",onClick:this.horizontalCenter},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-duiqi_hengxiangjuzhong"})," ",O.default.createElement("span",null,"水平居中")),O.default.createElement("li",{className:"h5ds-item",onClick:this.verticalCenter},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-duiqi_juzhong"})," ",O.default.createElement("span",null,"垂直居中")),O.default.createElement("li",{className:"h5ds-item",onClick:this.verticalSplit},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-meun"})," ",O.default.createElement("span",null,"垂直均分")),O.default.createElement("li",{className:"h5ds-item",onClick:this.horizontalSplit},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-caidan1"})," ",O.default.createElement("span",null,"水平均分")),O.default.createElement("li",{className:"h5ds-item",onClick:this.randomDistrib},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-ttpodicon"})," ",O.default.createElement("span",null,"随机分布")),O.default.createElement("li",{className:"h5ds-item",onClick:this.randomSize},O.default.createElement("i",{className:"h5ds-ico h5ds-ico-fenbushinengyuan"})," ",O.default.createElement("span",null,"随机大小"))),O.default.createElement(L.SetGrid,null,O.default.createElement(L.SetItem,{name:"动画间隔"},O.default.createElement(o.default,{size:"small",step:.1,min:0,style:{width:80},max:1/0,defaultValue:0,onChange:this.onChangeDelayTime})))))))}}]),t}(T.Component))||i)||i;t.default=k;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(k,"LayerSetAlign","D:/H5DS/h5ds-edit/src/core/components/setting/layerSetGroup/layerSetGroup.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(21),o=n(s),l=a(16),u=n(l),d=a(27),c=n(d),_=a(19),f=n(_),p=a(20),h=n(p),m=a(9),y=n(m),g=a(3),v=n(g),E=a(0),A=n(E),T=a(1),O=n(T),R=a(4),C=n(R),b=a(5),D=n(b);a(22),a(17),a(28),a(248);var L=a(2),k=n(L),H=a(8),x=a(6),S=a(48),w=n(S),N=a(10),I=a(23),M=n(I),P=a(7),j=a(13),z=n(j),F=(r=(0,x.inject)("app","layerfun"))(i=(0,x.observer)(i=function(e){function t(e){(0,A.default)(this,t);var a=(0,C.default)(this,(t.__proto__||(0,v.default)(t)).call(this,e));a.switchDo=function(){return a.__switchDo__REACT_HOT_LOADER__.apply(a,arguments)},a.backGroundChange=function(){return a.__backGroundChange__REACT_HOT_LOADER__.apply(a,arguments)},a.onChangeSize=function(){return a.__onChangeSize__REACT_HOT_LOADER__.apply(a,arguments)},a.page=e.app.getPage()||{};var n=a.page.style||{},r=n.backgroundImage,i=void 0===r?"":r,s=n.backgroundRepeat,o=void 0===s?"no-repeat":s,l=n.backgroundSize,u=void 0===l?"initial":l,d=n.backgroundColor,c=void 0===d?"":d,_=n.backgroundImageCrop,f=void 0===_?"{}":_,p=(0,H.toJS)(a.page.slider)||{animate:1,autoplay:!1,lock:!1,time:5};return a.state={backgroundImageCrop:f,backgroundImage:i,backgroundRepeat:o,backgroundSize:u,backgroundColor:c,slider:p},a}return(0,D.default)(t,e),(0,O.default)(t,[{key:"__switchDo__REACT_HOT_LOADER__",value:function(e,t){var a=this.state.slider;a[t]=e,this.setState({slider:a}),this.page.slider=(0,y.default)({},a),$(document).trigger("h5ds.setHistory")}},{key:"__backGroundChange__REACT_HOT_LOADER__",value:function(e){var t=this.props.app,a=t.getPage,n=t.edata,r=a();(0,H.transaction)(function(){for(var t in e){var a=e[t];void 0===r.style[t]?(0,H.extendObservable)(r.style,(0,h.default)({},t,a)):r.style[t]=a}n.keys=P.util.randomID(),$(document).trigger("h5ds.setHistory")})}},{key:"__onChangeSize__REACT_HOT_LOADER__",value:function(e,t){var a=this;(0,H.transaction)(function(){var n=a.props.app.data;"appWidth"===t?(n.style.width=e,n.pages.forEach(function(t){t.style.width=e})):"pageHeigt"===t&&(a.page.style.height=e,"pc"===n.type&&(n.style.height=e)),$(document).trigger("h5ds.setHistory")})}},{key:"render",value:function(){var e=this;if(this.page=this.props.app.getPage(),this.page){var t=this.state,a=t.slider,n=(0,f.default)(t,["slider"]),r=c.default.TabPane,i=a.lock,s=a.autoplay,l=a.time;return k.default.createElement("div",{className:"h5ds-pageset"},k.default.createElement(c.default,{defaultActiveKey:"1",className:"h5ds-basic-tabs"},k.default.createElement(r,{key:"1",tab:"页面样式"},"pc"===z.default.appType?k.default.createElement(N.SetGrid,{span:1},k.default.createElement(N.SetItem,{name:"页面宽度:"},k.default.createElement(u.default,{className:"h5ds-scroll-BasicSet",size:"small",min:z.default.appWidth,max:1/0,placeholder:"宽度",value:this.page.style.width,onChange:function(t){return e.onChangeSize(t,"appWidth")}}))):null,k.default.createElement(N.SetGrid,{span:1},k.default.createElement(N.SetItem,{name:"页面高度:"},k.default.createElement(u.default,{className:"h5ds-scroll-BasicSet",size:"small",min:600,max:1/0,placeholder:"高度",value:this.page.style.height,onChange:function(t){return e.onChangeSize(t,"pageHeigt")}}))),k.default.createElement(N.SetGrid,{span:"1"},k.default.createElement(w.default,{uploadSet:this.props.layerfun.uploadBase64,onChange:this.backGroundChange,data:n})),k.default.createElement(N.SetGrid,{span:"1"},k.default.createElement(N.SetItem,{name:"锁定翻页:"},k.default.createElement(o.default,{onChange:function(t){return e.switchDo(t,"lock")},checked:!!i}),k.default.createElement("i",{title:"开启后，页面不能触发翻页效果！",className:"h5ds-ico h5ds-ico-bangzhu"})),k.default.createElement(N.SetItem,{name:"自动翻页:"},k.default.createElement(o.default,{onChange:function(t){return e.switchDo(t,"autoplay")},checked:!!s}),k.default.createElement("i",{title:"开启后，页面会自动播放！",className:"h5ds-ico h5ds-ico-bangzhu"})),s?k.default.createElement(M.default,{name:"翻页时间:",onChange:function(t){e.switchDo(t,"time")},tipFormatter:null,step:1,min:0,max:100,value:l}):null))))}return k.default.createElement("div",{className:"h5ds-pageset-null"},"未选中任何页面")}}]),t}(L.Component))||i)||i;t.default=F;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(F,"PageSet","D:/H5DS/h5ds-edit/src/core/components/setting/pageSet/PageSet.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(250),i=n(r),s=a(253),o=a(2),l=n(o),u=a(254),d=a(255),c=a(256),_={type:"sound",name:"音频",icon:l.default.createElement("i",{className:"h5ds-ico h5ds-ico-yinle"}),editor:i.default,layerdom:d.layerdom,origindata:s.Origindata,didMount:u.didMount,willUnmount:c.willUnmount,editorSet:{y:!1,x:!1,width:!1,height:!1,rotate:!1,borderRadius:!1,hide:!1,opacity:!1,shadow:!1,border:!1,backgroundColor:!1,animate:!1,interaction:!1}};t.default=_;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(_,"default","D:/H5DS/h5ds-edit/src/core/layers/sound/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(16),i=n(r),s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(17),a(56),a(251);var m=a(2),y=n(m),g=a(10),v=a(8),E=a(252),A=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.changeDelay=function(){return a.__changeDelay__REACT_HOT_LOADER__.apply(a,arguments)},a.autoPlayDo=function(){return a.__autoPlayDo__REACT_HOT_LOADER__.apply(a,arguments)},a.playMp3=function(){return a.__playMp3__REACT_HOT_LOADER__.apply(a,arguments)},a.selectSound=function(){return a.__selectSound__REACT_HOT_LOADER__.apply(a,arguments)},a.state={keys:0},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__changeDelay__REACT_HOT_LOADER__",value:function(e){this.props.layer.data.delay=e,this.setState({keys:+new Date})}},{key:"__autoPlayDo__REACT_HOT_LOADER__",value:function(e){this.props.layer.data.autopaly=e,this.setState({keys:+new Date})}},{key:"__playMp3__REACT_HOT_LOADER__",value:function(e,t){var a=this;e.stopPropagation(),this.setState({playIndex:t},function(){a.refAudio.play()})}},{key:"__selectSound__REACT_HOT_LOADER__",value:function(e){var t=this,a=E.sounds[e],n=a.name,r=a.url,i=new window.createjs.LoadQueue(!0,"",!0);i.on("complete",function(){var e=i.getResult("source");(0,v.transaction)(function(){t.props.layer.data.name=n,t.props.layer.data.sound=r,t.props.layer.data.duration=e.duration,t.setState({keys:+new Date}),$(document).trigger("h5ds.setHistory")})},this),i.loadManifest([{src:r+"?t="+ +new Date,id:"source",type:"sound"}])}},{key:"render",value:function(){var e=this,t=this.props.layer.data,a=(t.autopaly,t.delay),n=t.name,r=this.state.playIndex;return this.state.keys,y.default.createElement("div",{className:"h5ds-exlayer-sound"},y.default.createElement(g.SetItem,{name:"延迟时间"},y.default.createElement(i.default,{step:.1,min:0,value:a,onChange:this.changeDelay,size:"small"})),y.default.createElement(g.SetItem,{name:"选择音乐"},y.default.createElement("span",{className:"h5ds-layer-sound-name"},n)),y.default.createElement("div",null,y.default.createElement("audio",{ref:function(t){return e.refAudio=t},style:{display:"none"}},y.default.createElement("source",{src:(E.sounds[r]||{}).url,type:"audio/mpeg"})),y.default.createElement("ul",{className:"h5ds-layer-sound-list"},E.sounds.map(function(t,a){var n=r===a;return y.default.createElement("li",{onClick:function(){return e.selectSound(a)},key:a},t.name?y.default.createElement("span",{className:"name",title:t.name},y.default.createElement("span",{className:"mp3-play-icon"+(n?" mp3-play-iconing":"")},y.default.createElement("i",null),y.default.createElement("i",null),y.default.createElement("i",null),y.default.createElement("i",null)),y.default.createElement("span",null,t.name)):null,y.default.createElement("span",{className:"try",onClick:function(t){return e.playMp3(t,n?-1:a)}},n?"暂停":"播放"))}))))}}]),t}(m.Component);t.default=A;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(A,"Editor","D:/H5DS/h5ds-edit/src/core/layers/sound/Editor.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.sounds=[{name:"哔声脏话屏蔽节目结.mp3",url:"http://cdn.h5ds.com/static/sound/哔声脏话屏蔽节目结.mp3"},{name:"魔法闪光星星完成胜利图片.mp3",url:"http://cdn.h5ds.com/static/sound/魔法闪光星星完成胜利图片.mp3"},{name:"思考有答案了综艺音.mp3",url:"http://cdn.h5ds.com/static/sound/思考有答案了综艺音.mp3"},{name:"哇奥.mp3",url:"http://cdn.h5ds.com/static/sound/哇奥.mp3"},{name:"星星闪耀的转场声音.mp3",url:"http://cdn.h5ds.com/static/sound/星星闪耀的转场声音.mp3"},{name:"掌声.mp3",url:"http://cdn.h5ds.com/static/sound/掌声.mp3"},{name:"爆炸字幕音效嘭声音效.mp3",url:"http://cdn.h5ds.com/static/sound/爆炸字幕音效嘭声音效.mp3"},{name:"波音757飞机的呼啸声.mp3",url:"http://cdn.h5ds.com/static/sound/波音757飞机的呼啸声.mp3"},{name:"传送光瞬移闪现穿越.mp3",url:"http://cdn.h5ds.com/static/sound/传送光瞬移闪现穿越.mp3"},{name:"风吹树叶晃动的哗哗声.mp3",url:"http://cdn.h5ds.com/static/sound/风吹树叶晃动的哗哗声.mp3"},{name:"钢琴独奏抒情影视广.mp3",url:"http://cdn.h5ds.com/static/sound/钢琴独奏抒情影视广.mp3"},{name:"钢琴--故事的开始.mp3",url:"http://cdn.h5ds.com/static/sound/钢琴--故事的开始.mp3"},{name:"高科技数字元素演示.mp3",url:"http://cdn.h5ds.com/static/sound/高科技数字元素演示.mp3"},{name:"海浪拍打水面轻柔的.mp3",url:"http://cdn.h5ds.com/static/sound/海浪拍打水面轻柔的.mp3"},{name:"滑稽搞怪的综艺背景.mp3",url:"http://cdn.h5ds.com/static/sound/滑稽搞怪的综艺背景.mp3"},{name:"欢快轻松滑稽综艺背.mp3",url:"http://cdn.h5ds.com/static/sound/欢快轻松滑稽综艺背.mp3"},{name:"简洁的开门门轴关门声.mp3",url:"http://cdn.h5ds.com/static/sound/简洁的开门门轴关门声.mp3"},{name:"街头上拥挤的交通环.mp3",url:"http://cdn.h5ds.com/static/sound/街头上拥挤的交通环.mp3"},{name:"金属撞击打铁咚咚咚.mp3",url:"http://cdn.h5ds.com/static/sound/金属撞击打铁咚咚咚.mp3"},{name:"卡通Q弹冒出来游戏.mp3",url:"http://cdn.h5ds.com/static/sound/卡通Q弹冒出来游戏.mp3"},{name:"卡通跳跃的活泼音效.mp3",url:"http://cdn.h5ds.com/static/sound/卡通跳跃的活泼音效.mp3"},{name:"看书时翻书翻页系统.mp3",url:"http://cdn.h5ds.com/static/sound/看书时翻书翻页系统.mp3"},{name:"快门拍照相机综艺音.mp3",url:"http://cdn.h5ds.com/static/sound/快门拍照相机综艺音.mp3"},{name:"利刃出鞘锋利特效综.mp3",url:"http://cdn.h5ds.com/static/sound/利刃出鞘锋利特效综.mp3"},{name:"粒子光感LOGO演绎.mp3",url:"http://cdn.h5ds.com/static/sound/粒子光感LOGO演绎.mp3"},{name:"粒子字幕片头魔法闪.mp3",url:"http://cdn.h5ds.com/static/sound/粒子字幕片头魔法闪.mp3"},{name:"连续不断的烟花声.mp3",url:"http://cdn.h5ds.com/static/sound/连续不断的烟花声.mp3"},{name:"林间小溪清新的流水声.mp3",url:"http://cdn.h5ds.com/static/sound/林间小溪清新的流水声.mp3"},{name:"绿森林成群的鸟叫音效.mp3",url:"http://cdn.h5ds.com/static/sound/绿森林成群的鸟叫音效.mp3"},{name:"气氛渲染类震撼音效.mp3",url:"http://cdn.h5ds.com/static/sound/气氛渲染类震撼音效.mp3"},{name:"轻快放松综艺背景音效.mp3",url:"http://cdn.h5ds.com/static/sound/轻快放松综艺背景音效.mp3"},{name:"轻松键盘录入打字音效.mp3",url:"http://cdn.h5ds.com/static/sound/轻松键盘录入打字音效.mp3"},{name:"森林清脆鸟叫自然环境.mp3",url:"http://cdn.h5ds.com/static/sound/森林清脆鸟叫自然环境.mp3"},{name:"胜利颁奖结束综艺音.mp3",url:"http://cdn.h5ds.com/static/sound/胜利颁奖结束综艺音.mp3"},{name:"实用卡通音效的音效.mp3",url:"http://cdn.h5ds.com/static/sound/实用卡通音效的音效.mp3"},{name:"说哦哦游戏结束失败.mp3",url:"http://cdn.h5ds.com/static/sound/说哦哦游戏结束失败.mp3"},{name:"逃走的卡通滑稽音效.mp3",url:"http://cdn.h5ds.com/static/sound/逃走的卡通滑稽音效.mp3"},{name:"突然冒出蹦的一声.mp3",url:"http://cdn.h5ds.com/static/sound/突然冒出蹦的一声.mp3"},{name:"小清新节目片头综艺.mp3",url:"http://cdn.h5ds.com/static/sound/小清新节目片头综艺.mp3"},{name:"影视电流电子音效.mp3",url:"http://cdn.h5ds.com/static/sound/影视电流电子音效.mp3"},{name:"游戏中说英文准备出.mp3",url:"http://cdn.h5ds.com/static/sound/游戏中说英文准备出.mp3"},{name:"语言音效综艺音效脱.mp3",url:"http://cdn.h5ds.com/static/sound/语言音效综艺音效脱.mp3"},{name:"语言音效综艺音效脱2.mp3",url:"http://cdn.h5ds.com/static/sound/语言音效综艺音效脱2.mp3"},{name:"震撼光线闪现影视音效.mp3",url:"http://cdn.h5ds.com/static/sound/震撼光线闪现影视音效.mp3"},{name:"转场特效音音效延迟.mp3",url:"http://cdn.h5ds.com/static/sound/转场特效音音效延迟.mp3"},{name:"转场震撼片头字幕影.mp3",url:"http://cdn.h5ds.com/static/sound/转场震撼片头字幕影.mp3"},{name:"综艺或动画片里奸笑.mp3",url:"http://cdn.h5ds.com/static/sound/综艺或动画片里奸笑.mp3"}];!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"sounds","D:/H5DS/h5ds-edit/src/core/layers/sound/data.js")}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Origindata=void 0;var r=a(0),i=n(r),s=a(1),o=n(s),l=t.Origindata=function(){function e(){(0,i.default)(this,e),this.id=null,this.version="1.0.0",this.name="音频",this.eid=this.randomID(),this.type="sound",this.animate=[],this.data={name:"圣诞节音乐",delay:0,duration:1.7,sound:"http://cdn.h5ds.com/static/sound/星星闪耀的转场声音.mp3"},this.estyle={},this.style={width:0,height:0,top:0,left:0},this.color="",this.ue={}}return(0,o.default)(e,[{key:"randomID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return"EID_"+Number(Math.random().toString().substr(3,e||8)+Date.now()).toString(36)}}]),e}();!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(l,"Origindata","D:/H5DS/h5ds-edit/src/core/layers/sound/Origindata.js")}()},function(e,t,a){"use strict";function n(e,t,a){(a.isPhoneView||a.isView)&&(this.temp=setTimeout(function(){try{$(e).find("audio")[0].play()}catch(e){}},1e3*parseFloat(t.data.delay)))}Object.defineProperty(t,"__esModule",{value:!0}),t.didMount=n;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"didMount","D:/H5DS/h5ds-edit/src/core/layers/sound/didMount.js")}()},function(e,t,a){"use strict";function n(e,t){return i.default.createElement("div",{className:"layer-sound-inner","data-delay":e.data.delay,"data-autopaly":e.data.autopaly},i.default.createElement("audio",{preload:"preload"},i.default.createElement("source",{src:e.data.sound,type:"audio/mpeg"})))}Object.defineProperty(t,"__esModule",{value:!0}),t.layerdom=n;var r=a(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"layerdom","D:/H5DS/h5ds-edit/src/core/layers/sound/layerdom.jsx")}()},function(e,t,a){"use strict";function n(e,t,a){this.temp&&(clearTimeout(this.temp),this.temp=null)}Object.defineProperty(t,"__esModule",{value:!0}),t.willUnmount=n;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"willUnmount","D:/H5DS/h5ds-edit/src/core/layers/sound/willUnmount.js")}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(258),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/timeLine/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p),m=a(6),y=a(2),g=n(y),v=a(259),E=n(v),A=(r=(0,m.inject)("app"))(i=(0,m.observer)(i=function(e){function t(){var e,a,n,r;(0,u.default)(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return a=n=(0,f.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(s))),n.state={height:180},n.setTimeLineHeight=function(){var e;return(e=n).__setTimeLineHeight__REACT_HOT_LOADER__.apply(e,arguments)},r=a,(0,f.default)(n,r)}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__setTimeLineHeight__REACT_HOT_LOADER__",value:function(e){var t=this,a=e.pageY,n=this.state.height,r=$("#h5dsCanvas").height();$(document).on("mousemove.timeline.height",function(e){var i=e.pageY-a,s=n-i;s>r?s=r:s<14&&(s=14),t.setState({height:s})}).on("mouseup.timeline.height",function(){$(document).off("mousemove.timeline.height mouseup.timeline.height")})}},{key:"render",value:function(){var e=this.state.height;return g.default.createElement("div",{style:{height:e},className:"h5ds-timeline-box"},g.default.createElement(E.default,{setTimeLineHeight:this.setTimeLineHeight}))}}]),t}(y.Component))||i)||i;t.default=A;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(A,"TimeLineBox","D:/H5DS/h5ds-edit/src/core/components/timeLine/TimeLineBox.jsx")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(9),o=n(s),l=a(19),u=n(l),d=a(16),c=n(d),_=a(3),f=n(_),p=a(0),h=n(p),m=a(1),y=n(m),g=a(4),v=n(g),E=a(5),A=n(E);a(17),a(260);var T=a(6),O=a(2),R=n(O),C=(a(8),a(7)),b=(r=(0,T.inject)("app","layerfun"))(i=(0,T.observer)(i=function(e){function t(e){(0,h.default)(this,t);var a=(0,v.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.timeLineSliderScroll=function(){return a.__timeLineSliderScroll__REACT_HOT_LOADER__.apply(a,arguments)},a.setLayer=function(){return a.__setLayer__REACT_HOT_LOADER__.apply(a,arguments)},a.playAnimate=function(){return a.__playAnimate__REACT_HOT_LOADER__.apply(a,arguments)},a.banAnimate=function(){return a.__banAnimate__REACT_HOT_LOADER__.apply(a,arguments)},a.resetDelay=function(){return a.__resetDelay__REACT_HOT_LOADER__.apply(a,arguments)},a.mousedownAnimate=function(){return a.__mousedownAnimate__REACT_HOT_LOADER__.apply(a,arguments)},a.mousedownAnimateRight=function(){return a.__mousedownAnimateRight__REACT_HOT_LOADER__.apply(a,arguments)},a.mousedownAnimateLeft=function(){return a.__mousedownAnimateLeft__REACT_HOT_LOADER__.apply(a,arguments)},a.mousedownSound=function(){return a.__mousedownSound__REACT_HOT_LOADER__.apply(a,arguments)},a.setMaxTimeLine=function(){return a.__setMaxTimeLine__REACT_HOT_LOADER__.apply(a,arguments)},a.setTypeName=function(){return a.__setTypeName__REACT_HOT_LOADER__.apply(a,arguments)},a.state={play:!0,left:0,barKey:C.util.randomID(),maxTimeLine:60,timebar:0,eachLiWidth:100},a}return(0,A.default)(t,e),(0,y.default)(t,[{key:"__timeLineSliderScroll__REACT_HOT_LOADER__",value:function(e){var t=$(e.target).scrollLeft();this.setState({left:t})}},{key:"__setLayer__REACT_HOT_LOADER__",value:function(e,t){$("#h5dsLayerList").find("li").eq(t).trigger("click")}},{key:"__playAnimate__REACT_HOT_LOADER__",value:function(){var e=this;this.setState({timebar:0,barKey:C.util.randomID()}),setTimeout(function(){e.setState({timebar:100*e.maxTime}),e.props.app.playAnimate()},10)}},{key:"__banAnimate__REACT_HOT_LOADER__",value:function(){this.props.app.edata.banAnimate=!0,$("#h5dsCanvas").find("audio").each(function(){this.pause()})}},{key:"__resetDelay__REACT_HOT_LOADER__",value:function(e){var t=null;return e.forEach(function(e,a){if(0!==a){var n=t,r=n.duration,i=void 0===r?0:r,s=n.delay,o=void 0===s?0:s,l=n.count,u=void 0===l?0:l,d=C.csstool.getAnimation(e.style).delay;o=i*u+o,d>=o&&(o=d),e.style=C.csstool.setAnimation(e.style,{delay:o})}t=C.csstool.getAnimation(e.style)}),e}},{key:"__mousedownAnimate__REACT_HOT_LOADER__",value:function(e,t,a,n){var r=this;e.stopPropagation();var i=e.pageX,s=a.name,o=a.duration,l=a.timing,u=a.delay,d=a.count;$(document).on("mousemove.h5ds.timeline.movenode",function(e){var a=e.pageX-i;a=u+a/100,a<0&&(a=0),t.style=s+" "+o+"s "+l+" "+a+"s "+d+" normal forwards running",r.resetDelay(n)}).on("mouseup.h5ds.timeline.movenode",function(){$(document).trigger("h5ds.setHistory"),$(document).off("mousemove.h5ds.timeline.movenode"),$(document).off("mouseup.h5ds.timeline.movenode")})}},{key:"__mousedownAnimateRight__REACT_HOT_LOADER__",value:function(e,t,a,n){var r=this;e.stopPropagation();var i=e.pageX,s=a.name,o=a.duration,l=a.timing,u=a.delay,d=a.count;$(document).on("mousemove.h5ds.timeline.movenode",function(e){var a=e.pageX-i;a=o+a/100,a<.1&&(a=.1),t.style=s+" "+a.toFixed(1)+"s "+l+" "+u+"s "+d+" normal forwards running",r.resetDelay(n)}).on("mouseup.h5ds.timeline.movenode",function(){$(document).trigger("h5ds.setHistory"),$(document).off("mousemove.h5ds.timeline.movenode"),$(document).off("mouseup.h5ds.timeline.movenode")})}},{key:"__mousedownAnimateLeft__REACT_HOT_LOADER__",value:function(e,t,a,n){var r=this;e.stopPropagation();var i=e.pageX,s=a.name,o=a.duration,l=a.timing,u=a.delay,d=a.count;$(document).on("mousemove.h5ds.timeline.movenode",function(e){var a=e.pageX-i,c=o-a/100,_=u+a/100;c<.1||(t.style=s+" "+c.toFixed(1)+"s "+l+" "+_.toFixed(1)+"s "+d+" normal forwards running",r.resetDelay(n))}).on("mouseup.h5ds.timeline.movenode",function(){$(document).trigger("h5ds.setHistory"),$(document).off("mousemove.h5ds.timeline.movenode"),$(document).off("mouseup.h5ds.timeline.movenode")})}},{key:"__mousedownSound__REACT_HOT_LOADER__",value:function(e,t){e.stopPropagation();var a=e.pageX,n=t.data.delay,r=null;$(document).on("mousemove.h5ds.timeline.movenode",function(e){r=e.pageX-a,r=n+r/100,r<0&&(r=0),t.data.delay=r}).on("mouseup.h5ds.timeline.movenode",function(){null!==r&&(t.data.delay=parseFloat(r.toFixed(1))),$(document).trigger("h5ds.setHistory"),$(document).off("mousemove.h5ds.timeline.movenode"),$(document).off("mouseup.h5ds.timeline.movenode")})}},{key:"__setMaxTimeLine__REACT_HOT_LOADER__",value:function(e){this.setState({maxTimeLine:e})}},{key:"__setTypeName__REACT_HOT_LOADER__",value:function(e){switch(e){case"in":e="进入";break;case"out":e="离开";break;case"em":e="强调"}return e}},{key:"componentDidMount",value:function(){$(document).on("h5ds.playAnimate",this.playAnimate)}},{key:"componentWillUnmount",value:function(){$(".h5ds-timeline-slider").off("scroll"),$(document).off("mousemove.timeline.height"),$(document).off("h5ds.playAnimate")}},{key:"render",value:function(){var e=this,t=this.props.app.edata,a=(t.selectType,t.selectLayer),n=(t.selectPage,t.layerListKeys,t.banAnimate),r=this.props.app.getLayers()||[],i=new Array(this.state.maxTimeLine).fill(1).map(function(e,t){return t}),s=this.state,l=s.left,d=s.eachLiWidth,_=s.timebar,f=s.barKey;return this.maxTime=0,R.default.createElement("div",{className:"h5ds-timeline"},R.default.createElement("div",{className:"h5ds-timeline-btn",onMouseDown:this.props.setTimeLineHeight},R.default.createElement("i",{className:"h5ds-ico h5ds-ico-tuodongcaozuo"})),R.default.createElement("div",{className:"h5ds-timeline-header"},R.default.createElement("div",{className:"h5ds-timeline-left h5ds-global-clearfix"},R.default.createElement("span",{className:"h5ds-timeline-item1"},R.default.createElement("span",{className:"h5ds-timeline-play"},R.default.createElement(c.default,{min:30,onChange:this.setMaxTimeLine,value:this.state.maxTimeLine,size:"small",width:50})," ",R.default.createElement("a",{onClick:this.banAnimate},R.default.createElement("i",{className:"h5ds-ico h5ds-ico-zanting1"})),R.default.createElement("a",{onClick:this.playAnimate},R.default.createElement("i",{className:"h5ds-ico h5ds-ico-forward"})))),R.default.createElement("span",{className:"h5ds-timeline-item2"},R.default.createElement("a",null,R.default.createElement("i",{className:"h5ds-ico h5ds-ico-kejian"})),R.default.createElement("a",null,R.default.createElement("i",{className:"h5ds-ico h5ds-ico-suo"})))),R.default.createElement("div",{className:"h5ds-timeline-right"},R.default.createElement("div",{key:f,className:"h5ds-timeline-bar"+(n?" h5ds-ban-animate":""),style:{transform:"translateX("+-l+"px)",animation:"h5dsTimeLineBarKeyFrames "+_/100+"s linear",WebkitAnimation:"h5dsTimeLineBarKeyFrames "+_/100+"s linear"}},R.default.createElement("style",null,"\n                @keyframes h5dsTimeLineBarKeyFrames\n                {\n                  from {left:0px;}\n                  to {left:"+_+"px;}\n                }\n                @-webket-keyframes h5dsTimeLineBarKeyFrames\n                {\n                  from {left:0px;}\n                  to {left:"+_+"px;}\n                }\n                ")),R.default.createElement("ul",{className:"h5ds-timeline-scale h5ds-js-timeline-scale",style:{width:i.length*d,transform:"translateX("+-l+"px)"}},i.map(function(e){return R.default.createElement("li",{key:e},new Array(9).fill(1).map(function(e,t){return R.default.createElement("i",{key:t,className:"h5ds-timeline-dot"})}),R.default.createElement("span",null,e,"s"))})))),R.default.createElement("div",{className:"h5ds-timeline-body"},R.default.createElement("div",{className:"h5ds-timeline-left clearfix"},R.default.createElement("ul",{className:"h5ds-timeline-layers-left"},r.map(function(t,n){return R.default.createElement("li",{onClick:function(t){return e.setLayer(t,n)},className:a===n?"h5ds-timeline-active":"",key:n},R.default.createElement("span",{className:"h5ds-timeline-item1"},t.name||t.type),R.default.createElement("span",{className:"h5ds-timeline-item2"},R.default.createElement("a",{className:"h5ds-timeline-view "+(t.set.hide?"":"h5ds-timeline-active")}),R.default.createElement("a",{className:"h5ds-timeline-lock "+(t.set.lock?"h5ds-timeline-active":"")})))}))),R.default.createElement("div",{className:"h5ds-timeline-right h5ds-global-clearfix"},R.default.createElement("ul",{className:"h5ds-timeline-layers-right h5ds-js-timeline-layers",style:{width:i.length*d+10,transform:"translateX("+-l+"px)"}},r.map(function(t,n){var r=null;switch(t.type){case"sound":var i=t.data,s=i.delay,l=i.duration;e.maxTime<s+l&&(e.maxTime=s+l),r=R.default.createElement("li",{onClick:function(t){return e.setLayer(t,n)},className:a===n?"h5ds-timeline-active":"","data-keyid":t.keyid,key:n},R.default.createElement("span",{style:{left:d*s,width:l*d},className:"h5ds-timeline-timenode h5ds-timeline-soundnode",onMouseDown:function(a){return e.mousedownSound(a,t)}}));break;default:r=R.default.createElement("li",{onClick:function(t){return e.setLayer(t,n)},className:a===n?"h5ds-timeline-active":"","data-keyid":t.keyid,key:n},t.animate.map(function(a,n){var r=C.csstool.getAnimation(a.style),i=r.count,s=r.duration,l=r.delay,c=(0,u.default)(r,["count","duration","delay"]),_=i*s;return e.maxTime<l+_&&(e.maxTime=l+_),R.default.createElement("span",{style:{left:d*l,width:_*d},className:"h5ds-timeline-timenode",key:n,onMouseDown:function(n){return e.mousedownAnimate(n,a,(0,o.default)({count:i,duration:s,delay:l},c),t.animate)}},R.default.createElement("div",{onMouseDown:function(n){return e.mousedownAnimateRight(n,a,(0,o.default)({count:i,duration:s,delay:l},c),t.animate)},className:"h5ds-timeline-timenode-right"}),R.default.createElement("div",{onMouseDown:function(n){return e.mousedownAnimateLeft(n,a,(0,o.default)({count:i,duration:s,delay:l},c),t.animate)},className:"h5ds-timeline-timenode-left"}),e.setTypeName(a.type),"（",a.name,"）")}))}return r})))),R.default.createElement("div",{className:"h5ds-timeline-footer"},R.default.createElement("div",{className:"h5ds-timeline-left h5ds-global-clearfix"}),R.default.createElement("div",{className:"h5ds-timeline-right h5ds-global-clearfix"},R.default.createElement("div",{className:"h5ds-timeline-slider",onScroll:this.timeLineSliderScroll},R.default.createElement("div",{style:{width:i.length*d},className:"h5ds-timeline-slider-leng"})))))}}]),t}(O.Component))||i)||i;t.default=b;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(b,"TimeLine","D:/H5DS/h5ds-edit/src/core/components/timeLine/TimeLine.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(262),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r.default;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"default","D:/H5DS/h5ds-edit/src/core/components/template/index.js")}();e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(3),o=n(s),l=a(0),u=n(l),d=a(1),c=n(d),_=a(4),f=n(_),p=a(5),h=n(p);a(263);var m=a(2),y=n(m),g=a(6),v=(r=(0,g.inject)("app","layerfun"))(i=(0,g.observer)(i=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.changePanel=function(){return a.__changePanel__REACT_HOT_LOADER__.apply(a,arguments)},a.state={showPanel:!1},a.layer=e.app.getLayer(),a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"__changePanel__REACT_HOT_LOADER__",value:function(){this.setState({showPanel:!this.state.showPanel})}},{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.showPageTpls",function(){e.setState({showPanel:!0})})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.showPageTpls")}},{key:"render",value:function(){var e=this.props.layerfun.Template,t=this.state.showPanel,a=["h5ds-temps"];return t&&a.push("h5ds-temps-showpanel"),e?y.default.createElement("div",{className:a.join(" ")},y.default.createElement("a",{onClick:this.changePanel,className:"h5ds-temps-flodbtn h5ds-js-temps"},y.default.createElement("i",{className:t?"h5ds-ico h5ds-ico-a3left":"h5ds-ico h5ds-ico-a3right"})),y.default.createElement(e,{layerfun:this.props.layerfun,app:this.props.app,showPanel:t})):null}}]),t}(m.Component))||i)||i;t.default=v;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(v,"Template","D:/H5DS/h5ds-edit/src/core/components/template/Template.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(25),i=n(r),s=a(27),o=n(s),l=a(3),u=n(l),d=a(0),c=n(d),_=a(1),f=n(_),p=a(4),h=n(p),m=a(5),y=n(m);a(26),a(28),a(265);var g=a(2),v=n(g),E=a(266),A=a(7),T=function(e){function t(e){(0,c.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return a.setAnimate=function(){return a.__setAnimate__REACT_HOT_LOADER__.apply(a,arguments)},a.closeList=function(){return a.__closeList__REACT_HOT_LOADER__.apply(a,arguments)},a.state={winHei:window.innerHeight,show:!1},a}return(0,y.default)(t,e),(0,f.default)(t,[{key:"__setAnimate__REACT_HOT_LOADER__",value:function(e){e.delay=A.util.toFixed(e.delay,1),e.time=A.util.toFixed(e.time,1),$(document).trigger("h5ds.animateList.add",e)}},{key:"__closeList__REACT_HOT_LOADER__",value:function(){this.setState({show:!1})}},{key:"componentDidMount",value:function(){var e=this;$(window).on("resize.h5ds.animateList",function(){e.setState({winHei:window.innerHeight})}),$(document).on("h5ds.animateList.hideshow",function(t,a){e.setState({show:a})})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.animateList.hideshow"),$(document).off("h5ds.animateList.add"),$(window).off("resize.h5ds.animateList")}},{key:"render",value:function(){var e=this,t=o.default.TabPane,a=this.state,n=a.show,r=a.winHei,s=r-150,l=["h5ds-layout-animatelist"];return n&&l.push("h5ds-layout-animatelist-show"),v.default.createElement("div",{className:l.join(" ")},v.default.createElement("a",{onClick:this.closeList,className:"h5ds-basic-animatelist-close"},v.default.createElement(i.default,{type:"right",theme:"outlined"})),v.default.createElement(o.default,{size:"small",defaultActiveKey:"1"},v.default.createElement(t,{tab:"进入",key:"1"},v.default.createElement("ul",{style:{height:s},className:"clearfix"},E.animatesIn.map(function(t,a){return v.default.createElement("li",{onClick:function(){return e.setAnimate(t)},key:a},t.name)}))),v.default.createElement(t,{tab:"离开",key:"2"},v.default.createElement("ul",{style:{height:s},className:"clearfix"},E.animatesOut.map(function(t,a){return v.default.createElement("li",{onClick:function(){return e.setAnimate(t)},key:a},t.name)}))),v.default.createElement(t,{tab:"强调",key:"3"},v.default.createElement("ul",{style:{height:s},className:"clearfix"},E.animatesEm.map(function(t,a){return v.default.createElement("li",{onClick:function(){return e.setAnimate(t)},key:a},t.name)})))))}}]),t}(g.Component);t.default=T;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(T,"AnimateList","D:/H5DS/h5ds-edit/src/core/components/setting/layerSet/animateSet/AnimateList.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.animatesIn=[{name:"快闪",type:"in",animate:"fastShow",time:"0.1s",delay:"0s",count:1,fun:"linear"},{name:"缩小入",type:"in",animate:"smallIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"弹入",type:"in",animate:"bounceIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上弹入",type:"in",animate:"bounceInDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左弹入",type:"in",animate:"bounceInLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右弹入",type:"in",animate:"bounceInRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下弹入",type:"in",animate:"bounceInUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"渐显",type:"in",animate:"fadeIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上渐显",type:"in",animate:"fadeInDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上远渐显",type:"in",animate:"fadeInDownBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左渐显",type:"in",animate:"fadeInLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左远渐显",type:"in",animate:"fadeInLeftBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右渐入",type:"in",animate:"fadeInRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右远渐入",type:"in",animate:"fadeInRightBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下渐入",type:"in",animate:"fadeInUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下远渐入",type:"in",animate:"fadeInUpBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"X翻牌",type:"in",animate:"flipInX",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"Y翻牌",type:"in",animate:"flipInY",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"光速入",type:"in",animate:"lightSpeedIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"滚入",type:"in",animate:"rotateIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左上滚入",type:"in",animate:"rotateInDownLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右上滚入",type:"in",animate:"rotateInDownRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左下滚入",type:"in",animate:"rotateInUpLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右下滚入",type:"in",animate:"rotateInUpRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下滑入",type:"in",animate:"slideInUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上滑入",type:"in",animate:"slideInDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左滑入",type:"in",animate:"slideInLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右滑入",type:"in",animate:"slideInRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"放大",type:"in",animate:"zoomIn",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"从上放大",type:"in",animate:"zoomInDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"从左放大",type:"in",animate:"zoomInLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"从右放大",type:"in",animate:"zoomInRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"从下放大",type:"in",animate:"zoomInUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左滚入",type:"in",animate:"rollIn",time:"1s",delay:"0s",count:1,fun:"ease"}],r=t.animatesOut=[{name:"弹走",type:"out",animate:"bounceOut",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下弹走",type:"out",animate:"bounceOutDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左弹走",type:"out",animate:"bounceOutLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右弹走",type:"out",animate:"bounceOutRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上弹走",type:"out",animate:"bounceOutUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"渐隐",type:"out",animate:"fadeOut",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下渐隐",type:"out",animate:"fadeOutDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下渐隐快",type:"out",animate:"fadeOutDownBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左渐隐",type:"out",animate:"fadeOutLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左渐隐快",type:"out",animate:"fadeOutLeftBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右渐隐",type:"out",animate:"fadeOutRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右渐隐快",type:"out",animate:"fadeOutRightBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上渐隐",type:"out",animate:"fadeOutUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上渐隐快",type:"out",animate:"fadeOutUpBig",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"X翻牌隐",type:"out",animate:"flipOutX",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"Y翻牌隐",type:"out",animate:"flipOutY",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"光速离开",type:"out",animate:"lightSpeedOut",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"滚隐",type:"out",animate:"rotateOut",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左下滚出",type:"out",animate:"rotateOutDownLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右下滚出",type:"out",animate:"rotateOutDownRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左上滚出",type:"out",animate:"rotateOutUpLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右上滚出",type:"out",animate:"rotateOutUpRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上滑出",type:"out",animate:"slideOutUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下滑出",type:"out",animate:"slideOutDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左滑出",type:"out",animate:"slideOutLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右滑出",type:"out",animate:"slideOutRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"缩小",type:"out",animate:"zoomOut",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"下缩小",type:"out",animate:"zoomOutDown",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"左缩小",type:"out",animate:"zoomOutLeft",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右缩小",type:"out",animate:"zoomOutRight",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"上缩小",type:"out",animate:"zoomOutUp",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"掉链子",type:"out",animate:"hinge",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"右滚走",type:"out",animate:"rollOut",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"放大消失",type:"out",animate:"toBigFade",time:"1s",delay:"0s",count:1,fun:"ease"}],i=t.animatesEm=[{name:"跳动",type:"em",animate:"bounce",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"闪动",type:"em",animate:"flash",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"呼吸",type:"em",animate:"pulse",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"弹性",type:"em",animate:"rubberBand",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"震动",type:"em",animate:"shake",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"摇摆",type:"em",animate:"swing",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"嘚瑟",type:"em",animate:"tada",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"晃动",type:"em",animate:"wobble",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"拉扯",type:"em",animate:"jello",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"翻转",type:"em",animate:"flip",time:"1s",delay:"0s",count:1,fun:"ease"},{name:"旋转",type:"em",animate:"rollOneCount",time:"1s",delay:"0s",count:1,fun:"linear"},{name:"逆转",type:"em",animate:"rollOneCount2",time:"1s",delay:"0s",count:1,fun:"linear"}];!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"animatesIn","D:/H5DS/h5ds-edit/src/core/conf/animates.js"),__REACT_HOT_LOADER__.register(r,"animatesOut","D:/H5DS/h5ds-edit/src/core/conf/animates.js"),__REACT_HOT_LOADER__.register(i,"animatesEm","D:/H5DS/h5ds-edit/src/core/conf/animates.js"))}()},function(e,t,a){"use strict";function n(){$(document).on("keydown.shortcuts",function(e){var t=e.keyCode;if(0===$(":focus").length)if(e.ctrlKey&&-1!==[83,90,89,189,187,80,75,71,72,67,85,86].indexOf(t))switch(e.preventDefault(),e.stopPropagation(),t){case 83:$(document).trigger("h5ds.shortcuts_save");break;case 90:$(document).trigger("h5ds.shortcuts_undo");break;case 89:$(document).trigger("h5ds.shortcuts_redo");break;case 189:$(document).trigger("h5ds.shortcuts_tomin");break;case 187:$(document).trigger("h5ds.shortcuts_tomax");break;case 80:$(document).trigger("h5ds.shortcuts_play");break;case 71:$(document).trigger("h5ds.shortcuts_combin");break;case 72:$(document).trigger("h5ds.shortcuts_grid");break;case 85:$(document).trigger("h5ds.shortcuts_uncombin");break;case 86:$(document).trigger("h5ds.shortcuts_pastelayer");break;case 67:$(document).trigger("h5ds.shortcuts_copylayer")}else{if(46===t)return e.preventDefault(),void $(document).trigger("h5ds.shortcuts_dellayer");if(-1===[38,40,37,39].indexOf(t));else{e.preventDefault(),e.stopPropagation();var a=1;switch(e.shiftKey&&(a=20),t){case 38:$(document).trigger("h5ds.shortcuts_y",-a);break;case 37:$(document).trigger("h5ds.shortcuts_x",-a);break;case 39:$(document).trigger("h5ds.shortcuts_x",a);break;case 40:$(document).trigger("h5ds.shortcuts_y",a)}}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.shortcuts=n;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"shortcuts","D:/H5DS/h5ds-edit/src/core/components/shortcut/shortcuts.js")}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,s=a(44),o=n(s),l=a(15),u=n(l),d=a(3),c=n(d),_=a(0),f=n(_),p=a(1),h=n(p),m=a(4),y=n(m),g=a(5),v=n(g);a(269);var E=a(2),A=n(E),T=a(6),O=a(270),R=(r=(0,T.inject)("app"))(i=(0,T.observer)(i=function(e){function t(e){(0,f.default)(this,t);var a=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return a.state={lines:{xt:null,xc:null,xb:null,yl:null,yc:null,yr:null}},a}return(0,v.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this;$(document).on("h5ds.control.absorb.start",function(){e.adsorb=new O.AdsorbLineCls,e.layersTarget=e.props.app.getPageLayerDom(),e.layersTarget=e.adsorb.correct(e.layersTarget),e.layersTarget=[].concat((0,u.default)(e.layersTarget),[$("#h5dsCanvasApp")[0]],(0,u.default)($(".h5ds-ruler-line"))),e.thisTarget=e.props.app.getLayerDom()}),$(document).on("h5ds.control.absorb.move",function(){e.adsorb.check(e.thisTarget,e.layersTarget)}),$(document).on("h5ds.control.absorb.end",function(){e.adsorb.uncheck(),e.adsorb.clear()})}},{key:"componentWillUnmount",value:function(){$(document).off("h5ds.control.absorb.move"),$(document).off("h5ds.control.absorb.end")}},{key:"render",value:function(){var e=this.state.lines;return A.default.createElement("div",{className:"h5ds-adsorb-lines"},(0,o.default)(e).map(function(e,t){var a=null;return a="x"===e[0]?{width:"100%",height:1,left:0}:{width:1,height:"100%",top:0},A.default.createElement("div",{className:"h5ds-adsorb-line",key:t,style:a})}))}}]),t}(E.Component))||i)||i;t.default=R;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(R,"AdsorbLine","D:/H5DS/h5ds-edit/src/core/components/adsorbLine/AdsorbLine.jsx")}();e.exports=t.default},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AdsorbLineCls=void 0;var r=a(18),i=n(r),s=a(0),o=n(s),l=a(1),u=n(l),d=t.AdsorbLineCls=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],n=arguments[2];(0,o.default)(this,e),this.set=(0,i.default)({gap:5},t),this.$lines=a||$(".h5ds-adsorb-line"),this.$outbox=n||$("#h5dsCanvasApp"),this.lines={xt:this.$lines.eq(0),xc:this.$lines.eq(1),xb:this.$lines.eq(2),yl:this.$lines.eq(3),yc:this.$lines.eq(4),yr:this.$lines.eq(5)},this.scale=parseFloat($(".h5ds-canvas-box").transform("scale"))||1,this.canvasRect=this.$outbox[0].getBoundingClientRect()}return(0,u.default)(e,[{key:"correct",value:function(e){var t=this,a=[];return e.each(function(e,n){var r=$(n).transform("rotate"),i=$(n).find(".h5ds-adsorb-layer-item");if(r&&!i[0]){var s=n.getBoundingClientRect(),o=s.top,l=s.left,u=s.right,d=s.bottom,c=s.width,_=s.height;$(n).append('<div class="h5ds-adsorb-layer-item" style="\n        left: '+-(u-l-n.offsetWidth)/2+"px;\n        top: "+-(d-o-n.offsetHeight)/2+"px;\n        width: "+c+"px;\n        height: "+_+"px;\n        transform: rotate(-"+r+"deg) scale("+1/t.scale+');\n        "></div>'),a.push($(n).find(".h5ds-adsorb-layer-item")[0])}else i[0]?a.push(i[0]):($(n).append('<div class="h5ds-default-layer-item" style="\n        width: '+n.offsetWidth+"px;\n        height: "+n.offsetHeight+'px;"></div>'),a.push(n))}),a}},{key:"clear",value:function(){$(".h5ds-adsorb-layer-item").remove(),$(".h5ds-default-layer-item").remove()}},{key:"check",value:function(e,t){var a=this,n=e[0].getBoundingClientRect();this.uncheck(),t.forEach(function(t){t.classList.remove("h5ds-adsorb-line-active");var r=a.canvasRect;if(t!==e[0]){var i=e.find(".h5ds-adsorb-layer-item");if(!i[0]||t!==i[0]){var s=t.getBoundingClientRect(),o=s.top,l=s.height,u=s.bottom,d=s.left,c=s.width,_=s.right,f=n.width/2,p=c/2,h=n.height/2,m=l/2,y={top:[{type:"xt-top",isNearly:a._isNearly(n.top,o),lineNode:a.lines.xt,lineValue:o,dragValue:o-r.top},{type:"xt-bottom",isNearly:a._isNearly(n.bottom,o),lineNode:a.lines.xt,lineValue:o,dragValue:o-n.height-r.top},{type:"xc",isNearly:a._isNearly(n.top+h,o+m),lineNode:a.lines.xc,lineValue:o+m,dragValue:o+m-h-r.top},{type:"xb-top",isNearly:a._isNearly(n.bottom,u),lineNode:a.lines.xb,lineValue:u,dragValue:u-n.height-(r.bottom-r.height)},{type:"xb-bottom",isNearly:a._isNearly(n.top,u),lineNode:a.lines.xb,lineValue:u,dragValue:u-r.top}],left:[{type:"yl-left",isNearly:a._isNearly(n.left,d),lineNode:a.lines.yl,lineValue:d,dragValue:d-r.left},{type:"yl-right",isNearly:a._isNearly(n.right,d),lineNode:a.lines.yl,lineValue:d,dragValue:d-n.width-r.left},{type:"yc",isNearly:a._isNearly(n.left+f,d+p),lineNode:a.lines.yc,lineValue:d+p,dragValue:d+p-f-r.left},{type:"yr-left",isNearly:a._isNearly(n.right,_),lineNode:a.lines.yr,lineValue:_,dragValue:_-n.width-(r.right-r.width)},{type:"yr-right",isNearly:a._isNearly(n.left,_),lineNode:a.lines.yr,lineValue:_,dragValue:_-(r.right-r.width)}]};for(var g in y)!function(n){y[n].forEach(function(r){if(r.isNearly){if(t.classList.add("h5ds-adsorb-line-active"),e.find(".h5ds-adsorb-layer-item")[0]){var i=0;i="left"===n?(e.find(".h5ds-adsorb-layer-item").width()-e.width()*a.scale)/2:(e.find(".h5ds-adsorb-layer-item").height()-e.height()*a.scale)/2,e.css(n,(r.dragValue+i)/a.scale+"px")}else e.css(n,r.dragValue/a.scale+"px");r.lineNode.css(n,r.lineValue+"px"),r.lineNode.show()}})}(g)}}})}},{key:"uncheck",value:function(){this.$lines.hide(),$(".h5ds-adsorb-line-active").removeClass("h5ds-adsorb-line-active")}},{key:"_isNearly",value:function(e,t){return Math.abs(e-t)<=this.set.gap}}]),e}();!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(d,"AdsorbLineCls","D:/H5DS/h5ds-edit/src/utils/adsorbLine.js")}()},function(e,t){e.exports=require("antd/lib/locale-provider/zh_CN")}])});